(self["webpackChunkopenlayertest"]=self["webpackChunkopenlayertest"]||[]).push([[504],{14:function(t,e,n){"use strict";n(8111),n(1701);var i=n(9078);class r extends i.Ay{constructor(t,e,n){super(t),this.map=e,this.frameState=void 0!==n?n:null}}e.A=r},34:function(t,e,n){"use strict";var i=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},81:function(t,e,n){"use strict";var i=n(9565),r=n(9306),s=n(8551),o=n(6823),a=n(851),l=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(r(n))return s(i(n,t));throw new l(o(t)+" is not iterable")}},116:function(t,e,n){"use strict";var i=n(6518),r=n(9565),s=n(2652),o=n(9306),a=n(8551),l=n(1767),u=n(9539),h=n(4549),c=h("find",TypeError);i({target:"Iterator",proto:!0,real:!0,forced:c},{find:function(t){a(this);try{o(t)}catch(i){u(this,"throw",i)}if(c)return r(c,this,t);var e=l(this),n=0;return s(e,(function(e,i){if(t(e,n++))return i(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},283:function(t,e,n){"use strict";var i=n(9504),r=n(9039),s=n(4901),o=n(9297),a=n(3724),l=n(350).CONFIGURABLE,u=n(3706),h=n(1181),c=h.enforce,f=h.get,d=String,g=Object.defineProperty,p=i("".slice),_=i("".replace),v=i([].join),y=a&&!r((function(){return 8!==g((function(){}),"length",{value:8}).length})),m=String(String).split("String"),x=t.exports=function(t,e,n){"Symbol("===p(d(e),0,7)&&(e="["+_(d(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||l&&t.name!==e)&&(a?g(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&o(n,"arity")&&t.length!==n.arity&&g(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&g(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var i=c(t);return o(i,"source")||(i.source=v(m,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return s(this)&&f(this).source||u(this)}),"toString")},350:function(t,e,n){"use strict";var i=n(3724),r=n(9297),s=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=r(s,"name"),l=a&&"something"===function(){}.name,u=a&&(!i||i&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},383:function(t,e,n){"use strict";n.d(e,{i:function(){return o}});n(4114);var i=n(2310),r=n(1423),s=n(3757);function o(t){const e=[];if((0,s.kX)(t,(t=>{e.push(t.coordinates)})),e.length<2)throw new Error("Must have at least two features");const n=t.features[0].properties||{},o=i.iv(e[0],...e.slice(1));return 0===o.length?null:1===o.length?(0,r.n1)(o[0],n):(0,r.g5)(o,n)}},397:function(t,e,n){"use strict";var i=n(7751);t.exports=i("document","documentElement")},421:function(t){"use strict";t.exports={}},502:function(t,e,n){"use strict";n.d(e,{DT:function(){return u},FT:function(){return c},Wl:function(){return l},XM:function(){return h},cr:function(){return a},ew:function(){return o},j:function(){return s}});const i="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",r=i.includes("safari")&&!i.includes("chrom"),s=(r&&(i.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(i)),i.includes("webkit")&&!i.includes("edge")),o=i.includes("macintosh"),a="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,l="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,u="undefined"!==typeof Image&&Image.prototype.decode,h="function"===typeof createImageBitmap,c=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}()},507:function(t,e,n){"use strict";var i=n(9565);t.exports=function(t,e,n){var r,s,o=n?t:t.iterator,a=t.next;while(!(r=i(a,o)).done)if(s=e(r.value),void 0!==s)return s}},531:function(t,e,n){"use strict";var i=n(6518),r=n(9565),s=n(9306),o=n(8551),a=n(1767),l=n(6265),u=n(9462),h=n(9539),c=n(6395),f=n(4549),d=!c&&f("flatMap",TypeError),g=u((function(){var t,e,n=this.iterator,i=this.mapper;while(1){if(e=this.inner)try{if(t=o(r(e.next,e.iterator)),!t.done)return t.value;this.inner=null}catch(s){h(n,"throw",s)}if(t=o(r(this.next,n)),this.done=!!t.done)return;try{this.inner=l(i(t.value,this.counter++),!1)}catch(s){h(n,"throw",s)}}}));i({target:"Iterator",proto:!0,real:!0,forced:c||d},{flatMap:function(t){o(this);try{s(t)}catch(e){h(this,"throw",e)}return d?r(d,this,t):new g(a(this),{mapper:t,inner:null})}})},616:function(t,e,n){"use strict";var i=n(9039);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},679:function(t,e,n){"use strict";var i=n(1625),r=TypeError;t.exports=function(t,e){if(i(e,t))return t;throw new r("Incorrect invocation")}},713:function(t,e,n){"use strict";n.d(e,{_j:function(){return T},cD:function(){return I},dI:function(){return b},eE:function(){return C},fu:function(){return m},oJ:function(){return p},qV:function(){return s},sH:function(){return k}});var i=n(7334),r=n(5674);const s=[NaN,NaN,NaN,0];let o;function a(){return o||(o=(0,i.Y)(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),o}const l=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,u=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,h=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,c=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function f(t,e){return t.endsWith("%")?Number(t.substring(0,t.length-1))/e:Number(t)}function d(t){throw new Error('failed to parse "'+t+'" as color')}function g(t){if(t.toLowerCase().startsWith("rgb")){const e=t.match(u)||t.match(l)||t.match(h);if(e){const t=e[4],n=100/255;return[(0,r.qE)(f(e[1],n)+.5|0,0,255),(0,r.qE)(f(e[2],n)+.5|0,0,255),(0,r.qE)(f(e[3],n)+.5|0,0,255),void 0!==t?(0,r.qE)(f(t,100),0,1):1]}d(t)}if(t.startsWith("#")){if(c.test(t)){const e=t.substring(1),n=e.length<=4?1:2,i=[0,0,0,255];for(let t=0,r=e.length;t<r;t+=n){let r=parseInt(e.substring(t,t+n),16);1===n&&(r+=r<<4),i[t/n]=r}return i[3]=i[3]/255,i}d(t)}const e=a();e.fillStyle="#abcdef";let n=e.fillStyle;e.fillStyle=t,e.fillStyle===n&&(e.fillStyle="#fedcba",n=e.fillStyle,e.fillStyle=t,e.fillStyle===n&&d(t));const i=e.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return g(i);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);const s=Array.from(e.getImageData(0,0,1,1).data);return s[3]=(0,r.Mg)(s[3]/255,3),s}function p(t){return"string"===typeof t?t:b(t)}const _=1024,v={};let y=0;function m(t){if(4===t.length)return t;const e=t.slice();return e[3]=1,e}function x(t){return t>.0031308?269.025*Math.pow(t,1/2.4)-14.025:3294.6*t}function E(t){return t>.2068965?Math.pow(t,3):108/841*(t-4/29)}function w(t){return t>10.314724?Math.pow((t+14.025)/269.025,2.4):t/3294.6}function S(t){return t>.0088564?Math.pow(t,1/3):t/(108/841)+4/29}function C(t){const e=w(t[0]),n=w(t[1]),i=w(t[2]),r=S(.222488403*e+.716873169*n+.06060791*i),s=500*(S(.452247074*e+.399439023*n+.148375274*i)-r),o=200*(r-S(.016863605*e+.117638439*n+.865350722*i)),a=Math.atan2(o,s)*(180/Math.PI);return[116*r-16,Math.sqrt(s*s+o*o),a<0?a+360:a,t[3]]}function I(t){const e=(t[0]+16)/116,n=t[1],i=t[2]*Math.PI/180,s=E(e),o=E(e+n/500*Math.cos(i)),a=E(e-n/200*Math.sin(i)),l=x(3.021973625*o-1.617392459*s-.404875592*a),u=x(-.943766287*o+1.916279586*s+.027607165*a),h=x(.069407491*o-.22898585*s+1.159737864*a);return[(0,r.qE)(l+.5|0,0,255),(0,r.qE)(u+.5|0,0,255),(0,r.qE)(h+.5|0,0,255),t[3]]}function k(t){if("none"===t)return s;if(v.hasOwnProperty(t))return v[t];if(y>=_){let t=0;for(const e in v)0===(3&t++)&&(delete v[e],--y)}const e=g(t);4!==e.length&&d(t);for(const n of e)isNaN(n)&&d(t);return v[t]=e,++y,e}function T(t){return Array.isArray(t)?t:k(t)}function b(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let i=t[2];i!=(0|i)&&(i=i+.5|0);const r=void 0===t[3]?1:Math.round(1e3*t[3])/1e3;return"rgba("+e+","+n+","+i+","+r+")"}},741:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},757:function(t,e,n){"use strict";var i=n(7751),r=n(4901),s=n(1625),o=n(7040),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&s(e.prototype,a(t))}},776:function(t,e){"use strict";e.A={ACTIVE:"active"}},851:function(t,e,n){"use strict";var i=n(6955),r=n(5966),s=n(4117),o=n(6269),a=n(8227),l=a("iterator");t.exports=function(t){if(!s(t))return r(t,l)||r(t,"@@iterator")||o[i(t)]}},856:function(t,e,n){"use strict";var i=n(1611),r=n(1097),s=n(7582),o=n(8965);class a extends i.A{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if("function"===typeof t.getSimplifiedGeometry){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new a(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const n=this.getStyle();return n&&t.setStyle(n),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,o.JH)(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=(0,o.KT)(t,s.A.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?l(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function l(t){if("function"===typeof t)return t;let e;if(Array.isArray(t))e=t;else{(0,r.v)("function"===typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");const n=t;e=[n]}return function(){return e}}e.A=a},995:function(t,e,n){"use strict";n.d(e,{A:function(){return T}});n(4114),n(8111),n(7588),n(1701);var i=n(3844),r=n(2686),s=n(6555),o=n(3851),a=n(1097),l=n(9078),u=n(7582),h=n(8965),c=n(7444);let f=!1;function d(t,e,n,i,r,s,o){const a=new XMLHttpRequest;a.open("GET","function"===typeof t?t(n,i,r):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=f,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){const t=e.getType();try{let i;"text"==t||"json"==t?i=a.responseText:"xml"==t?i=a.responseXML||a.responseText:"arraybuffer"==t&&(i=a.response),i?s(e.readFeatures(i,{extent:n,featureProjection:r}),e.readProjection(i)):o()}catch{o()}}else o()},a.onerror=o,a.send()}function g(t,e){return function(n,i,r,s,o){d(t,e,n,i,r,((t,e)=>{this.addFeatures(t),void 0!==s&&s(t)}),(()=>{this.changed(),void 0!==o&&o()}))}}var p=n(9331);n(9449);function _(t,e){return[[-1/0,-1/0,1/0,1/0]]}var v=n(6811),y=n(3077),m=n(5911),x=n(5752);class E{constructor(t){this.rbush_=new m.A(t),this.items_={}}insert(t,e){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[(0,x.v6)(e)]=n}load(t,e){const n=new Array(e.length);for(let i=0,r=e.length;i<r;i++){const r=t[i],s=e[i],o={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:s};n[i]=o,this.items_[(0,x.v6)(s)]=o}this.rbush_.load(n)}remove(t){const e=(0,x.v6)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)}update(t,e){const n=this.items_[(0,x.v6)(e)],i=[n.minX,n.minY,n.maxX,n.maxY];(0,c.aI)(i,t)||(this.remove(e),this.insert(t,e))}getAll(){const t=this.rbush_.all();return t.map((function(t){return t.value}))}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},n=this.rbush_.search(e);return n.map((function(t){return t.value}))}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let n;for(let i=0,r=t.length;i<r;i++)if(n=e(t[i]),n)return n;return n}isEmpty(){return(0,v.p)(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return(0,c.N)(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}}var w=E,S=n(3437),C={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class I extends l.Ay{constructor(t,e,n){super(t),this.feature=e,this.features=n}}class k extends S.A{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.on,this.once,this.un,this.loader_=p.tV,this.format_=t.format||null,this.overlaps_=void 0===t.overlaps||t.overlaps,this.url_=t.url,void 0!==t.loader?this.loader_=t.loader:void 0!==this.url_&&((0,a.v)(this.format_,"`format` must be set when `url` is set"),this.loader_=g(this.url_,this.format_)),this.strategy_=void 0!==t.strategy?t.strategy:_;const e=void 0===t.useSpatialIndex||t.useSpatialIndex;let n,r;this.featuresRtree_=e?new w:null,this.loadedExtentsRtree_=new w,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(t.features)?r=t.features:t.features&&(n=t.features,r=n.getArray()),e||void 0!==n||(n=new i.A(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=(0,x.v6)(t);if(!this.addToIndex_(e,t))return void(this.featuresCollection_&&this.featuresCollection_.remove(t));this.setupChangeEvents_(e,t);const n=t.getGeometry();if(n){const e=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(e,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new I(C.ADDFEATURE,t))}setupChangeEvents_(t,e){e instanceof y.Ay||(this.featureChangeKeys_[t]=[(0,h.KT)(e,u.A.CHANGE,this.handleFeatureChange_,this),(0,h.KT)(e,s.A.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,e){let n=!0;if(void 0!==e.getId()){const t=String(e.getId());if(t in this.idIndex_)if(e instanceof y.Ay){const i=this.idIndex_[t];i instanceof y.Ay?Array.isArray(i)?i.push(e):this.idIndex_[t]=[i,e]:n=!1}else n=!1;else this.idIndex_[t]=e}return n&&((0,a.v)(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=e),n}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],n=[],i=[];for(let r=0,s=t.length;r<s;r++){const e=t[r],i=(0,x.v6)(e);this.addToIndex_(i,e)&&n.push(e)}for(let r=0,s=n.length;r<s;r++){const t=n[r],s=(0,x.v6)(t);this.setupChangeEvents_(s,t);const o=t.getGeometry();if(o){const n=o.getExtent();e.push(n),i.push(t)}else this.nullGeometryFeatures_[s]=t}if(this.featuresRtree_&&this.featuresRtree_.load(e,i),this.hasListener(C.ADDFEATURE))for(let r=0,s=n.length;r<s;r++)this.dispatchEvent(new I(C.ADDFEATURE,n[r]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(C.ADDFEATURE,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(C.REMOVEFEATURE,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(r.A.ADD,(t=>{e||(e=!0,this.addFeature(t.element),e=!1)})),t.addEventListener(r.A.REMOVE,(t=>{e||(e=!0,this.removeFeature(t.element),e=!1)})),this.featuresCollection_=t}clear(t){if(t){for(const t in this.featureChangeKeys_){const e=this.featureChangeKeys_[t];e.forEach(h.JH)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach((t=>{this.removeFeatureInternal(t)}));for(const t in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[t])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new I(C.CLEAR);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){const i=n.getGeometry();if(i instanceof y.Ay||i.intersectsCoordinate(t))return e(n)}))}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,(function(n){const i=n.getGeometry();if(i instanceof y.Ay||i.intersectsExtent(t)){const t=e(n);if(t)return t}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,v.p)(this.nullGeometryFeatures_)||(0,o.X$)(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){const n=e&&e.canWrapX()&&this.getWrapX();if(!n)return this.featuresRtree_.getInExtent(t);const i=(0,c.QJ)(t,e);return[].concat(...i.map((t=>this.featuresRtree_.getInExtent(t))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const n=t[0],i=t[1];let r=null;const s=[NaN,NaN];let o=1/0;const a=[-1/0,-1/0,1/0,1/0];return e=e||p.rT,this.featuresRtree_.forEachInExtent(a,(function(t){if(e(t)){const e=t.getGeometry(),l=o;if(o=e instanceof y.Ay?0:e.closestPointXY(n,i,s,o),o<l){r=t;const e=Math.sqrt(o);a[0]=n-e,a[1]=i-e,a[2]=n+e,a[3]=i+e}}})),r}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return void 0!==e?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return void 0!==e?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,n=(0,x.v6)(e),i=e.getGeometry();if(i){const t=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(t,e)):this.featuresRtree_&&this.featuresRtree_.update(t,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);const r=e.getId();if(void 0!==r){const t=r.toString();this.idIndex_[t]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[t]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new I(C.CHANGEFEATURE,e))}hasFeature(t){const e=t.getId();return void 0!==e?e in this.idIndex_:(0,x.v6)(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,v.p)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(t,e,n){const i=this.loadedExtentsRtree_,r=this.strategy_(t,e,n);for(let s=0,o=r.length;s<o;++s){const t=r[s],o=i.forEachInExtent(t,(function(e){return(0,c.ms)(e.extent,t)}));o||(++this.loadingExtentsCount_,this.dispatchEvent(new I(C.FEATURESLOADSTART)),this.loader_.call(this,t,e,n,(t=>{--this.loadingExtentsCount_,this.dispatchEvent(new I(C.FEATURESLOADEND,void 0,t))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new I(C.FEATURESLOADERROR))})),i.insert(t,{extent:t.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_,n=e.forEachInExtent(t,(function(e){if((0,c.aI)(e.extent,t))return e}));n&&e.remove(n)}removeFeatures(t){let e=!1;for(let n=0,i=t.length;n<i;++n)e=this.removeFeatureInternal(t[n])||e;e&&this.changed()}removeFeature(t){if(!t)return;const e=this.removeFeatureInternal(t);e&&this.changed()}removeFeatureInternal(t){const e=(0,x.v6)(t);if(!(e in this.uidIndex_))return!1;e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);const n=this.featureChangeKeys_[e];n?.forEach(h.JH),delete this.featureChangeKeys_[e];const i=t.getId();if(void 0!==i){const e=i.toString(),n=this.idIndex_[e];n===t?delete this.idIndex_[e]:Array.isArray(n)&&(n.splice(n.indexOf(t),1),1===n.length&&(this.idIndex_[e]=n[0]))}return delete this.uidIndex_[e],this.hasListener(C.REMOVEFEATURE)&&this.dispatchEvent(new I(C.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const e in this.idIndex_)if(this.idIndex_[e]===t){delete this.idIndex_[e];break}}setLoader(t){this.loader_=t}setUrl(t){(0,a.v)(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(g(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}var T=k},1072:function(t,e,n){"use strict";var i=n(1828),r=n(8727);t.exports=Object.keys||function(t){return i(t,r)}},1097:function(t,e,n){"use strict";function i(t,e){if(!t)throw new Error(e)}n.d(e,{v:function(){return i}})},1114:function(t,e,n){"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function s(t){var e=r(t,"string");return"symbol"==i(e)?e:e+""}function o(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{A:function(){return o}})},1148:function(t,e,n){"use strict";var i=n(6518),r=n(9565),s=n(2652),o=n(9306),a=n(8551),l=n(1767),u=n(9539),h=n(4549),c=h("every",TypeError);i({target:"Iterator",proto:!0,real:!0,forced:c},{every:function(t){a(this);try{o(t)}catch(i){u(this,"throw",i)}if(c)return r(c,this,t);var e=l(this),n=0;return!s(e,(function(e,i){if(!t(e,n++))return i()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1181:function(t,e,n){"use strict";var i,r,s,o=n(8622),a=n(4576),l=n(34),u=n(6699),h=n(9297),c=n(7629),f=n(6119),d=n(421),g="Object already initialized",p=a.TypeError,_=a.WeakMap,v=function(t){return s(t)?r(t):i(t,{})},y=function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw new p("Incompatible receiver, "+t+" required");return n}};if(o||c.state){var m=c.state||(c.state=new _);m.get=m.get,m.has=m.has,m.set=m.set,i=function(t,e){if(m.has(t))throw new p(g);return e.facade=t,m.set(t,e),e},r=function(t){return m.get(t)||{}},s=function(t){return m.has(t)}}else{var x=f("state");d[x]=!0,i=function(t,e){if(h(t,x))throw new p(g);return e.facade=t,u(t,x,e),e},r=function(t){return h(t,x)?t[x]:{}},s=function(t){return h(t,x)}}t.exports={set:i,get:r,has:s,enforce:v,getterFor:y}},1194:function(t,e,n){"use strict";n.d(e,{Bb:function(){return o},T9:function(){return l},Zz:function(){return a},dI:function(){return c},k3:function(){return s},tI:function(){return d},vt:function(){return r}});n(8111),n(1701);var i=n(1097);new Array(6);function r(){return[1,0,0,1,0,0]}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function o(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function a(t,e,n,i,r,s,o,a){const l=Math.sin(s),u=Math.cos(s);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=o*i*u-a*i*l+e,t[5]=o*r*l+a*r*u+n,t}function l(t,e){const n=u(e);(0,i.v)(0!==n,"Transformation matrix cannot be inverted");const r=e[0],s=e[1],o=e[2],a=e[3],l=e[4],h=e[5];return t[0]=a/n,t[1]=-s/n,t[2]=-o/n,t[3]=r/n,t[4]=(o*h-a*l)/n,t[5]=-(r*h-s*l)/n,t}function u(t){return t[0]*t[3]-t[1]*t[2]}const h=[1e5,1e5,1e5,1e5,2,2];function c(t){const e="matrix("+t.join(", ")+")";return e}function f(t){const e=t.substring(7,t.length-1).split(",");return e.map(parseFloat)}function d(t,e){const n=f(t),i=f(e);for(let r=0;r<6;++r)if(0!==Math.round((n[r]-i[r])*h[r]))return!1;return!0}},1291:function(t,e,n){"use strict";var i=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},1382:function(t,e,n){"use strict";n.d(e,{ue:function(){return l}});var i=n(1410),r=n(713),s=n(7334);class o{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],delete this.patternCache_[e],--this.cacheSize_)}}}get(t,e,n){const i=a(t,e,n);return i in this.cache_?this.cache_[i]:null}getPattern(t,e,n){const i=a(t,e,n);return i in this.patternCache_?this.patternCache_[i]:null}set(t,e,n,r,o){const l=a(t,e,n),u=l in this.cache_;this.cache_[l]=r,o&&(r.getImageState()===i.A.IDLE&&r.load(),r.getImageState()===i.A.LOADING?r.ready().then((()=>{this.patternCache_[l]=(0,s.lr)().createPattern(r.getImage(1),"repeat")})):this.patternCache_[l]=(0,s.lr)().createPattern(r.getImage(1),"repeat")),u||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function a(t,e,n){const i=n?(0,r._j)(n):"null";return e+":"+t+":"+i}const l=new o},1410:function(t,e){"use strict";e.A={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},1423:function(t,e,n){"use strict";n.d(e,{Gf:function(){return c},Lr:function(){return l},N4:function(){return s},cJ:function(){return h},g5:function(){return u},n1:function(){return a},zX:function(){return i},zx:function(){return o}});n(8111),n(7588),n(1701);var i=6371008.8,r={centimeters:100*i,centimetres:100*i,degrees:360/(2*Math.PI),feet:3.28084*i,inches:39.37*i,kilometers:i/1e3,kilometres:i/1e3,meters:i,metres:i,miles:i/1609.344,millimeters:1e3*i,millimetres:1e3*i,nauticalmiles:i/1852,radians:1,yards:1.0936*i};function s(t,e,n={}){const i={type:"Feature"};return(0===n.id||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function o(t,e,n={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!f(t[0])||!f(t[1]))throw new Error("coordinates must contain numbers");const i={type:"Point",coordinates:t};return s(i,e,n)}function a(t,e,n={}){for(const r of t){if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(r[r.length-1].length!==r[0].length)throw new Error("First and last Position are not equivalent.");for(let t=0;t<r[r.length-1].length;t++)if(r[r.length-1][t]!==r[0][t])throw new Error("First and last Position are not equivalent.")}const i={type:"Polygon",coordinates:t};return s(i,e,n)}function l(t,e={}){const n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function u(t,e,n={}){const i={type:"MultiPolygon",coordinates:t};return s(i,e,n)}function h(t,e="kilometers"){const n=r[e];if(!n)throw new Error(e+" units is invalid");return t*n}function c(t,e="kilometers"){const n=r[e];if(!n)throw new Error(e+" units is invalid");return t/n}function f(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}},1522:function(t,e,n){"use strict";function i(t,e,n,i){let r=0;const s=t[n-i],o=t[n-i+1];let a=0,l=0;for(;e<n;e+=i){const n=t[e]-s,i=t[e+1]-o;r+=l*n-a*i,a=n,l=i}return r/2}function r(t,e,n,r){let s=0;for(let o=0,a=n.length;o<a;++o){const a=n[o];s+=i(t,e,a,r),e=a}return s}function s(t,e,n,i){let s=0;for(let o=0,a=n.length;o<a;++o){const a=n[o];s+=r(t,e,a,i),e=a[a.length-1]}return s}n.d(e,{Cs:function(){return s},PK:function(){return r},eN:function(){return i}})},1607:function(t,e,n){"use strict";n.d(e,{N:function(){return i},N5:function(){return a},dp:function(){return r},tW:function(){return s}});n(8111),n(1701);function i(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function r(t,e,n){return t+"/"+e+"/"+n}function s(t){return o(t[0],t[1],t[2])}function o(t,e,n){return(e<<t)+n}function a(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return!s||s.containsXY(i,r)}},1611:function(t,e,n){"use strict";var i=n(6555),r=n(6930),s=n(9078),o=n(6811),a=n(5752);class l extends s.Ay{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}class u extends r.A{constructor(t){super(),this.on,this.once,this.un,(0,a.v6)(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let n;n=`change:${t}`,this.hasListener(n)&&this.dispatchEvent(new l(n,t,e)),n=i.A.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new l(n,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,n){const i=this.values_||(this.values_={});if(n)i[t]=e;else{const n=i[t];i[t]=e,n!==e&&this.notify(t,n)}}setProperties(t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const n=this.values_[t];delete this.values_[t],(0,o.p)(this.values_)&&(this.values_=null),e||this.notify(t,n)}}}e.A=u},1625:function(t,e,n){"use strict";var i=n(9504);t.exports=i({}.isPrototypeOf)},1656:function(t,e,n){"use strict";function i(t,e,n,i,r,s,o,a){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=l):r&&(l=a?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(u.functional){u._injectStyles=l;var h=u.render;u.render=function(t,e){return l.call(e),h(t,e)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:u}}n.d(e,{A:function(){return i}})},1698:function(t,e,n){"use strict";var i=n(6518),r=n(4204),s=n(4916);i({target:"Set",proto:!0,real:!0,forced:!s("union")},{union:r})},1701:function(t,e,n){"use strict";var i=n(6518),r=n(9565),s=n(9306),o=n(8551),a=n(1767),l=n(9462),u=n(6319),h=n(9539),c=n(4549),f=n(6395),d=!f&&c("map",TypeError),g=l((function(){var t=this.iterator,e=o(r(this.next,t)),n=this.done=!!e.done;if(!n)return u(t,this.mapper,[e.value,this.counter++],!0)}));i({target:"Iterator",proto:!0,real:!0,forced:f||d},{map:function(t){o(this);try{s(t)}catch(e){h(this,"throw",e)}return d?r(d,this,t):new g(a(this),{mapper:t})}})},1767:function(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},1806:function(t,e,n){"use strict";var i=n(6518),r=n(8551),s=n(2652),o=n(1767),a=[].push;i({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return s(o(r(this)),a,{that:t,IS_RECORD:!0}),t}})},1814:function(t,e,n){"use strict";n.d(e,{HT:function(){return u},Wp:function(){return h},fB:function(){return a},gp:function(){return o},sj:function(){return l}});var i=n(7444),r=n(8330),s=n(8601);function o(t,e,n,r,o,a){return a=a??(0,i.R8)((0,i.S5)(),t,e,n,r),!!(0,i.HY)(o,a)&&(a[0]>=o[0]&&a[2]<=o[2]||a[1]>=o[1]&&a[3]<=o[3]||(0,s.j)(t,e,n,r,(function(t,e){return(0,i.Mx)(o,t,e)})))}function a(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){if(o(t,e,n[s],i,r))return!0;e=n[s]}return!1}function l(t,e,n,i,s){return!!o(t,e,n,i,s)||(!!(0,r.a_)(t,e,n,i,s[0],s[1])||(!!(0,r.a_)(t,e,n,i,s[0],s[3])||(!!(0,r.a_)(t,e,n,i,s[2],s[1])||!!(0,r.a_)(t,e,n,i,s[2],s[3]))))}function u(t,e,n,i,s){if(!l(t,e,n[0],i,s))return!1;if(1===n.length)return!0;for(let a=1,l=n.length;a<l;++a)if((0,r.t7)(t,n[a-1],n[a],i,s)&&!o(t,n[a-1],n[a],i,s))return!1;return!0}function h(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const o=n[s];if(u(t,e,o,i,r))return!0;e=o[o.length-1]}return!1}},1828:function(t,e,n){"use strict";var i=n(9504),r=n(9297),s=n(5397),o=n(9617).indexOf,a=n(421),l=i([].push);t.exports=function(t,e){var n,i=s(t),u=0,h=[];for(n in i)!r(a,n)&&r(i,n)&&l(h,n);while(e.length>u)r(i,n=e[u++])&&(~o(h,n)||l(h,n));return h}},1853:function(t,e,n){"use strict";n.d(e,{yJ:function(){return u},PA:function(){return s},mb:function(){return o},ug:function(){return a},NK:function(){return l}});n(4114);function i(t,e,n,i){while(e<n-i){for(let r=0;r<i;++r){const s=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=s}e+=i,n-=i}}function r(t,e,n,i){let r=0,s=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];r+=(n-s)*(i+o),s=n,o=i}return 0===r?void 0:r>0}function s(t,e,n,i,s){s=void 0!==s&&s;for(let o=0,a=n.length;o<a;++o){const a=n[o],l=r(t,e,a,i);if(0===o){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;e=a}return!0}function o(t,e,n,i,r){for(let o=0,a=n.length;o<a;++o){const a=n[o];if(!s(t,e,a,i,r))return!1;a.length&&(e=a[a.length-1])}return!0}function a(t,e,n,s,o){o=void 0!==o&&o;for(let a=0,l=n.length;a<l;++a){const l=n[a],u=r(t,e,l,s),h=0===a?o&&u||!o&&!u:o&&!u||!o&&u;h&&i(t,e,l,s),e=l}return e}function l(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s)e=a(t,e,n[s],i,r);return e}function u(t,e){const n=[];let i,s=0,o=0;for(let a=0,l=e.length;a<l;++a){const l=e[a],u=r(t,s,l,2);if(void 0===i&&(i=u),u===i)n.push(e.slice(o,a+1));else{if(0===n.length)continue;n[n.length-1].push(e[o])}o=a+1,s=l}return n}},1928:function(t,e,n){"use strict";var i=n(9611),r=n(8409),s=n(7582),o=n(9357),a=n(5752);class l extends o.A{constructor(t,e,n){super(),n=n||{},this.tileCoord=t,this.state=e,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(s.A.CHANGE)}release(){this.setState(i.A.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==i.A.EMPTY){if(this.state!==i.A.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){(0,a.b0)()}getAlpha(t,e){if(!this.transition_)return 1;let n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;const i=e-n+1e3/60;return i>=this.transition_?1:(0,r.a6)(i/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}e.A=l},1945:function(t,e){"use strict";e.A={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},2106:function(t,e,n){"use strict";var i=n(283),r=n(4913);t.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),r.f(t,e,n)}},2123:function(t,e,n){"use strict";n.d(e,{A:function(){return V}});n(4114),n(8111),n(1701);var i=n(856),r=n(3665),s=n(6320),o=n(6811),a=n(9449),l=n(3077),u=n(1853),h=n(8225),c=n(3496),f=n(3754),d=n(5522),g=n(8957),p=n(5258),_=n(7739),v=n(5752);class y{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=i.A,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let n=e.dataProjection?(0,a.Jt)(e.dataProjection):this.readProjection(t);e.extent&&n&&"tile-pixels"===n.getUnits()&&(n=(0,a.Jt)(n),n.setWorldExtent(e.extent)),e={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},t)}getType(){return(0,v.b0)()}readFeature(t,e){return(0,v.b0)()}readFeatures(t,e){return(0,v.b0)()}readGeometry(t,e){return(0,v.b0)()}readProjection(t){return(0,v.b0)()}writeFeature(t,e){return(0,v.b0)()}writeFeatures(t,e){return(0,v.b0)()}writeGeometry(t,e){return(0,v.b0)()}}var m=y;function x(t,e,n){const i=n?(0,a.Jt)(n.featureProjection):null,r=n?(0,a.Jt)(n.dataProjection):null;let s=t;if(i&&r&&!(0,a.tI)(i,r)){e&&(s=t.clone());const n=e?i:r,o=e?r:i;"tile-pixels"===n.getUnits()?s.transform(n,o):s.applyTransform((0,a.RG)(n,o))}if(e&&n&&void 0!==n.decimals){const e=Math.pow(10,n.decimals),i=function(t){for(let n=0,i=t.length;n<i;++n)t[n]=Math.round(t[n]*e)/e;return t};s===t&&(s=t.clone()),s.applyTransform(i)}return s}const E={Point:h.A,LineString:c.A,Polygon:f.Ay,MultiPoint:d.A,MultiLineString:g.A,MultiPolygon:p.A};function w(t,e,n){return Array.isArray(e[0])?((0,u.mb)(t,0,e,n)||(t=t.slice(),(0,u.NK)(t,0,e,n)),t):((0,u.PA)(t,0,e,n)||(t=t.slice(),(0,u.ug)(t,0,e,n)),t)}function S(t,e){const n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map((e=>S({...t,geometry:e}))).flat();const i="MultiPolygon"===n.type?"Polygon":n.type;if("GeometryCollection"===i||"Circle"===i)throw new Error("Unsupported geometry type: "+i);const r=n.layout.length;return x(new l.Ay(i,"Polygon"===i?w(n.flatCoordinates,n.ends,r):n.flatCoordinates,n.ends?.flat(),r,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function C(t,e){if(!t)return null;if(Array.isArray(t)){const n=t.map((t=>C(t,e)));return new _.A(n)}const n=E[t.type];return x(new n(t.flatCoordinates,t.layout||"XY",t.ends),!1,e)}class I extends m{constructor(){super()}getType(){return"json"}readFeature(t,e){return this.readFeatureFromObject(k(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject(k(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return(0,v.b0)()}readFeaturesFromObject(t,e){return(0,v.b0)()}readGeometry(t,e){return this.readGeometryFromObject(k(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return(0,v.b0)()}readProjection(t){return this.readProjectionFromObject(k(t))}readProjectionFromObject(t){return(0,v.b0)()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return(0,v.b0)()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return(0,v.b0)()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return(0,v.b0)()}}function k(t){if("string"===typeof t){const e=JSON.parse(t);return e||null}return null!==t?t:null}var T=I;class b extends T{constructor(t){t=t||{},super(),this.dataProjection=(0,a.Jt)(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=(0,a.Jt)(t.featureProjection)),t.featureClass&&(this.featureClass=t.featureClass),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let n=null;n="Feature"===t["type"]?t:{type:"Feature",geometry:t,properties:null};const r=R(n["geometry"],e);if(this.featureClass===l.Ay)return S({geometry:r,id:n["id"],properties:n["properties"]},e);const s=new i.A;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&n["geometry_name"]&&s.setGeometryName(n["geometry_name"]),s.setGeometry(C(r,e)),"id"in n&&s.setId(n["id"]),n["properties"]&&s.setProperties(n["properties"],!0),s}readFeaturesFromObject(t,e){const n=t;let i=null;if("FeatureCollection"===n["type"]){const n=t;i=[];const r=n["features"];for(let t=0,s=r.length;t<s;++t){const n=this.readFeatureFromObject(r[t],e);n&&i.push(n)}}else i=[this.readFeatureFromObject(t,e)];return i.flat()}readGeometryFromObject(t,e){return A(t,e)}readProjectionFromObject(t){const e=t["crs"];let n;if(e)if("name"==e["type"])n=(0,a.Jt)(e["properties"]["name"]);else{if("EPSG"!==e["type"])throw new Error("Unknown SRS type");n=(0,a.Jt)("EPSG:"+e["properties"]["code"])}else n=this.dataProjection;return n}writeFeatureObject(t,e){e=this.adaptOptions(e);const n={type:"Feature",geometry:null,properties:null},i=t.getId();if(void 0!==i&&(n.id=i),!t.hasProperties())return n;const r=t.getProperties(),s=t.getGeometry();return s&&(n.geometry=G(s,e),delete r[t.getGeometryName()]),(0,o.p)(r)||(n.properties=r),n}writeFeaturesObject(t,e){e=this.adaptOptions(e);const n=[];for(let i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}}writeGeometryObject(t,e){return G(t,this.adaptOptions(e))}}function R(t,e){if(!t)return null;let n;switch(t["type"]){case"Point":n=O(t);break;case"LineString":n=L(t);break;case"Polygon":n=F(t);break;case"MultiPoint":n=P(t);break;case"MultiLineString":n=M(t);break;case"MultiPolygon":n=D(t);break;case"GeometryCollection":n=N(t);break;default:throw new Error("Unsupported GeoJSON type: "+t["type"])}return n}function A(t,e){const n=R(t,e);return C(n,e)}function N(t,e){const n=t["geometries"].map((function(t){return R(t,e)}));return n}function O(t){const e=t["coordinates"];return{type:"Point",flatCoordinates:e,layout:(0,r.p0)(e.length)}}function L(t){const e=t["coordinates"],n=e.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:(0,r.p0)(e[0]?.length||2)}}function M(t){const e=t["coordinates"],n=e[0]?.[0]?.length||2,i=[],o=(0,s.KG)(i,0,e,n);return{type:"MultiLineString",flatCoordinates:i,ends:o,layout:(0,r.p0)(n)}}function P(t){const e=t["coordinates"];return{type:"MultiPoint",flatCoordinates:e.flat(),layout:(0,r.p0)(e[0]?.length||2)}}function D(t){const e=t["coordinates"],n=[],i=e[0]?.[0]?.[0].length||2,o=(0,s.d6)(n,0,e,i);return{type:"MultiPolygon",flatCoordinates:n,ends:o,layout:(0,r.p0)(i)}}function F(t){const e=t["coordinates"],n=[],i=e[0]?.[0]?.length,o=(0,s.KG)(n,0,e,i);return{type:"Polygon",flatCoordinates:n,ends:o,layout:(0,r.p0)(i)}}function G(t,e){t=x(t,!0,e);const n=t.getType();let i;switch(n){case"Point":i=X(t,e);break;case"LineString":i=Y(t,e);break;case"Polygon":i=U(t,e);break;case"MultiPoint":i=B(t,e);break;case"MultiLineString":i=q(t,e);break;case"MultiPolygon":i=j(t,e);break;case"GeometryCollection":i=z(t,e);break;case"Circle":i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return i}function z(t,e){e=Object.assign({},e),delete e.featureProjection;const n=t.getGeometriesArray().map((function(t){return G(t,e)}));return{type:"GeometryCollection",geometries:n}}function Y(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function q(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function B(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function j(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function X(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function U(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}var V=b},2140:function(t,e,n){"use strict";var i=n(8227),r=i("toStringTag"),s={};s[r]="z",t.exports="[object z]"===String(s)},2155:function(t,e,n){"use strict";n.d(e,{R8:function(){return s}});const i={info:1,warn:2,error:3,none:4};let r=i.info;function s(...t){r>i.warn||console.warn(...t)}},2195:function(t,e,n){"use strict";var i=n(9504),r=i({}.toString),s=i("".slice);t.exports=function(t){return s(r(t),8,-1)}},2211:function(t,e,n){"use strict";var i=n(9039);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2299:function(t,e,n){"use strict";n.d(e,{RA:function(){return u},f6:function(){return a}});n(4114),n(1410);var i=n(7582),r=n(9357),s=n(8965),o=(n(9331),n(502));r.A;function a(t,e,n){const r=t;let a=!0,l=!1,u=!1;const h=[(0,s.Jz)(r,i.A.LOAD,(function(){u=!0,l||e()}))];return r.src&&o.DT?(l=!0,r.decode().then((function(){a&&e()})).catch((function(t){a&&(u?e():n())}))):h.push((0,s.Jz)(r,i.A.ERROR,n)),function(){a=!1,h.forEach(s.JH)}}function l(t,e){return new Promise(((n,i)=>{function r(){o(),n(t)}function s(){o(),i(new Error("Image load error"))}function o(){t.removeEventListener("load",r),t.removeEventListener("error",s)}t.addEventListener("load",r),t.addEventListener("error",s),e&&(t.src=e)}))}function u(t,e){return e&&(t.src=e),t.src&&o.DT?new Promise(((e,n)=>t.decode().then((()=>e(t))).catch((i=>t.complete&&t.width?e(t):n(i))))):l(t)}},2310:function(t,e,n){"use strict";n.d(e,{iv:function(){return dt},E$:function(){return ft},KC:function(){return ct}});var i=n(1114),r=(n(4114),/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i),s=Math.ceil,o=Math.floor,a="[BigNumber Error] ",l=a+"Number primitive has more than 15 significant digits: ",u=1e14,h=14,c=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,g=1e9;function p(t){var e,n,i,S=F.prototype={constructor:F,toString:null,valueOf:null},C=new F(1),I=20,k=4,T=-7,b=21,R=-1e7,A=1e7,N=!1,O=1,L=0,M={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},P="0123456789abcdefghijklmnopqrstuvwxyz",D=!0;function F(t,e){var s,a,u,f,d,g,p,_,v=this;if(!(v instanceof F))return new F(t,e);if(null==e){if(t&&!0===t._isBigNumber)return v.s=t.s,void(!t.c||t.e>A?v.c=v.e=null:t.e<R?v.c=[v.e=0]:(v.e=t.e,v.c=t.c.slice()));if((g="number"==typeof t)&&0*t==0){if(v.s=1/t<0?(t=-t,-1):1,t===~~t){for(f=0,d=t;d>=10;d/=10,f++);return void(f>A?v.c=v.e=null:(v.e=f,v.c=[t]))}_=String(t)}else{if(!r.test(_=String(t)))return i(v,_,g);v.s=45==_.charCodeAt(0)?(_=_.slice(1),-1):1}(f=_.indexOf("."))>-1&&(_=_.replace(".","")),(d=_.search(/e/i))>0?(f<0&&(f=d),f+=+_.slice(d+1),_=_.substring(0,d)):f<0&&(f=_.length)}else{if(m(e,2,P.length,"Base"),10==e&&D)return v=new F(t),q(v,I+v.e+1,k);if(_=String(t),g="number"==typeof t){if(0*t!=0)return i(v,_,g,e);if(v.s=1/t<0?(_=_.slice(1),-1):1,F.DEBUG&&_.replace(/^0\.0*|\./,"").length>15)throw Error(l+t)}else v.s=45===_.charCodeAt(0)?(_=_.slice(1),-1):1;for(s=P.slice(0,e),f=d=0,p=_.length;d<p;d++)if(s.indexOf(a=_.charAt(d))<0){if("."==a){if(d>f){f=p;continue}}else if(!u&&(_==_.toUpperCase()&&(_=_.toLowerCase())||_==_.toLowerCase()&&(_=_.toUpperCase()))){u=!0,d=-1,f=0;continue}return i(v,String(t),g,e)}g=!1,_=n(_,e,10,v.s),(f=_.indexOf("."))>-1?_=_.replace(".",""):f=_.length}for(d=0;48===_.charCodeAt(d);d++);for(p=_.length;48===_.charCodeAt(--p););if(_=_.slice(d,++p)){if(p-=d,g&&F.DEBUG&&p>15&&(t>c||t!==o(t)))throw Error(l+v.s*t);if((f=f-d-1)>A)v.c=v.e=null;else if(f<R)v.c=[v.e=0];else{if(v.e=f,v.c=[],d=(f+1)%h,f<0&&(d+=h),d<p){for(d&&v.c.push(+_.slice(0,d)),p-=h;d<p;)v.c.push(+_.slice(d,d+=h));d=h-(_=_.slice(d)).length}else d-=p;for(;d--;_+="0");v.c.push(+_)}}else v.c=[v.e=0]}function G(t,e,n,i){var r,s,o,a,l;if(null==n?n=k:m(n,0,8),!t.c)return t.toString();if(r=t.c[0],o=t.e,null==e)l=v(t.c),l=1==i||2==i&&(o<=T||o>=b)?E(l,o):w(l,o,"0");else if(t=q(new F(t),e,n),s=t.e,l=v(t.c),a=l.length,1==i||2==i&&(e<=s||s<=T)){for(;a<e;l+="0",a++);l=E(l,s)}else if(e-=o,l=w(l,s,"0"),s+1>a){if(--e>0)for(l+=".";e--;l+="0");}else if(e+=s-a,e>0)for(s+1==a&&(l+=".");e--;l+="0");return t.s<0&&r?"-"+l:l}function z(t,e){for(var n,i,r=1,s=new F(t[0]);r<t.length;r++)i=new F(t[r]),(!i.s||(n=y(s,i))===e||0===n&&s.s===e)&&(s=i);return s}function Y(t,e,n){for(var i=1,r=e.length;!e[--r];e.pop());for(r=e[0];r>=10;r/=10,i++);return(n=i+n*h-1)>A?t.c=t.e=null:n<R?t.c=[t.e=0]:(t.e=n,t.c=e),t}function q(t,e,n,i){var r,a,l,c,d,g,p,_=t.c,v=f;if(_){t:{for(r=1,c=_[0];c>=10;c/=10,r++);if(a=e-r,a<0)a+=h,l=e,d=_[g=0],p=o(d/v[r-l-1]%10);else if(g=s((a+1)/h),g>=_.length){if(!i)break t;for(;_.length<=g;_.push(0));d=p=0,r=1,a%=h,l=a-h+1}else{for(d=c=_[g],r=1;c>=10;c/=10,r++);a%=h,l=a-h+r,p=l<0?0:o(d/v[r-l-1]%10)}if(i=i||e<0||null!=_[g+1]||(l<0?d:d%v[r-l-1]),i=n<4?(p||i)&&(0==n||n==(t.s<0?3:2)):p>5||5==p&&(4==n||i||6==n&&(a>0?l>0?d/v[r-l]:0:_[g-1])%10&1||n==(t.s<0?8:7)),e<1||!_[0])return _.length=0,i?(e-=t.e+1,_[0]=v[(h-e%h)%h],t.e=-e||0):_[0]=t.e=0,t;if(0==a?(_.length=g,c=1,g--):(_.length=g+1,c=v[h-a],_[g]=l>0?o(d/v[r-l]%v[l])*c:0),i)for(;;){if(0==g){for(a=1,l=_[0];l>=10;l/=10,a++);for(l=_[0]+=c,c=1;l>=10;l/=10,c++);a!=c&&(t.e++,_[0]==u&&(_[0]=1));break}if(_[g]+=c,_[g]!=u)break;_[g--]=0,c=1}for(a=_.length;0===_[--a];_.pop());}t.e>A?t.c=t.e=null:t.e<R&&(t.c=[t.e=0])}return t}function B(t){var e,n=t.e;return null===n?t.toString():(e=v(t.c),e=n<=T||n>=b?E(e,n):w(e,n,"0"),t.s<0?"-"+e:e)}return F.clone=p,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(t){var e,n;if(null!=t){if("object"!=typeof t)throw Error(a+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(n=t[e],m(n,0,g,e),I=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(n=t[e],m(n,0,8,e),k=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&(n=t[e],n&&n.pop?(m(n[0],-g,0,e),m(n[1],0,g,e),T=n[0],b=n[1]):(m(n,-g,g,e),T=-(b=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if(n=t[e],n&&n.pop)m(n[0],-g,-1,e),m(n[1],1,g,e),R=n[0],A=n[1];else{if(m(n,-g,g,e),!n)throw Error(a+e+" cannot be zero: "+n);R=-(A=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if(n=t[e],n!==!!n)throw Error(a+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw N=!n,Error(a+"crypto unavailable");N=n}else N=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(n=t[e],m(n,0,9,e),O=n),t.hasOwnProperty(e="POW_PRECISION")&&(n=t[e],m(n,0,g,e),L=n),t.hasOwnProperty(e="FORMAT")){if(n=t[e],"object"!=typeof n)throw Error(a+e+" not an object: "+n);M=n}if(t.hasOwnProperty(e="ALPHABET")){if(n=t[e],"string"!=typeof n||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(a+e+" invalid: "+n);D="0123456789"==n.slice(0,10),P=n}}return{DECIMAL_PLACES:I,ROUNDING_MODE:k,EXPONENTIAL_AT:[T,b],RANGE:[R,A],CRYPTO:N,MODULO_MODE:O,POW_PRECISION:L,FORMAT:M,ALPHABET:P}},F.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!F.DEBUG)return!0;var e,n,i=t.c,r=t.e,s=t.s;t:if("[object Array]"=={}.toString.call(i)){if((1===s||-1===s)&&r>=-g&&r<=g&&r===o(r)){if(0===i[0]){if(0===r&&1===i.length)return!0;break t}if(e=(r+1)%h,e<1&&(e+=h),String(i[0]).length==e){for(e=0;e<i.length;e++)if(n=i[e],n<0||n>=u||n!==o(n))break t;if(0!==n)return!0}}}else if(null===i&&null===r&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+t)},F.maximum=F.max=function(){return z(arguments,-1)},F.minimum=F.min=function(){return z(arguments,1)},F.random=function(){var t=9007199254740992,e=Math.random()*t&2097151?function(){return o(Math.random()*t)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(t){var n,i,r,l,u,c=0,d=[],p=new F(C);if(null==t?t=I:m(t,0,g),l=s(t/h),N)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(l*=2));c<l;)u=131072*n[c]+(n[c+1]>>>11),u>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),n[c]=i[0],n[c+1]=i[1]):(d.push(u%1e14),c+=2);c=l/2}else{if(!crypto.randomBytes)throw N=!1,Error(a+"crypto unavailable");for(n=crypto.randomBytes(l*=7);c<l;)u=281474976710656*(31&n[c])+1099511627776*n[c+1]+4294967296*n[c+2]+16777216*n[c+3]+(n[c+4]<<16)+(n[c+5]<<8)+n[c+6],u>=9e15?crypto.randomBytes(7).copy(n,c):(d.push(u%1e14),c+=7);c=l/7}if(!N)for(;c<l;)u=e(),u<9e15&&(d[c++]=u%1e14);for(l=d[--c],t%=h,l&&t&&(u=f[h-t],d[c]=o(l/u)*u);0===d[c];d.pop(),c--);if(c<0)d=[r=0];else{for(r=-1;0===d[0];d.splice(0,1),r-=h);for(c=1,u=d[0];u>=10;u/=10,c++);c<h&&(r-=h-c)}return p.e=r,p.c=d,p}}(),F.sum=function(){for(var t=1,e=arguments,n=new F(e[0]);t<e.length;)n=n.plus(e[t++]);return n},n=function(){var t="0123456789";function n(t,e,n,i){for(var r,s,o=[0],a=0,l=t.length;a<l;){for(s=o.length;s--;o[s]*=e);for(o[0]+=i.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(null==o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}return function(i,r,s,o,a){var l,u,h,c,f,d,g,p,_=i.indexOf("."),y=I,m=k;for(_>=0&&(c=L,L=0,i=i.replace(".",""),p=new F(r),d=p.pow(i.length-_),L=c,p.c=n(w(v(d.c),d.e,"0"),10,s,t),p.e=p.c.length),g=n(i,r,s,a?(l=P,t):(l=t,P)),h=c=g.length;0==g[--c];g.pop());if(!g[0])return l.charAt(0);if(_<0?--h:(d.c=g,d.e=h,d.s=o,d=e(d,p,y,m,s),g=d.c,f=d.r,h=d.e),u=h+y+1,_=g[u],c=s/2,f=f||u<0||null!=g[u+1],f=m<4?(null!=_||f)&&(0==m||m==(d.s<0?3:2)):_>c||_==c&&(4==m||f||6==m&&1&g[u-1]||m==(d.s<0?8:7)),u<1||!g[0])i=f?w(l.charAt(1),-y,l.charAt(0)):l.charAt(0);else{if(g.length=u,f)for(--s;++g[--u]>s;)g[u]=0,u||(++h,g=[1].concat(g));for(c=g.length;!g[--c];);for(_=0,i="";_<=c;i+=l.charAt(g[_++]));i=w(i,h,l.charAt(0))}return i}}(),e=function(){function t(t,e,n){var i,r,s,o,a=0,l=t.length,u=e%d,h=e/d|0;for(t=t.slice();l--;)s=t[l]%d,o=t[l]/d|0,i=h*s+o*u,r=u*s+i%d*d+a,a=(r/n|0)+(i/d|0)+h*o,t[l]=r%n;return a&&(t=[a].concat(t)),t}function e(t,e,n,i){var r,s;if(n!=i)s=n>i?1:-1;else for(r=s=0;r<n;r++)if(t[r]!=e[r]){s=t[r]>e[r]?1:-1;break}return s}function n(t,e,n,i){for(var r=0;n--;)t[n]-=r,r=t[n]<e[n]?1:0,t[n]=r*i+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(i,r,s,a,l){var c,f,d,g,p,v,y,m,x,E,w,S,C,I,k,T,b,R=i.s==r.s?1:-1,A=i.c,N=r.c;if(!A||!A[0]||!N||!N[0])return new F(i.s&&r.s&&(A?!N||A[0]!=N[0]:N)?A&&0==A[0]||!N?0*R:R/0:NaN);for(m=new F(R),x=m.c=[],f=i.e-r.e,R=s+f+1,l||(l=u,f=_(i.e/h)-_(r.e/h),R=R/h|0),d=0;N[d]==(A[d]||0);d++);if(N[d]>(A[d]||0)&&f--,R<0)x.push(1),g=!0;else{for(I=A.length,T=N.length,d=0,R+=2,p=o(l/(N[0]+1)),p>1&&(N=t(N,p,l),A=t(A,p,l),T=N.length,I=A.length),C=T,E=A.slice(0,T),w=E.length;w<T;E[w++]=0);b=N.slice(),b=[0].concat(b),k=N[0],N[1]>=l/2&&k++;do{if(p=0,c=e(N,E,T,w),c<0){if(S=E[0],T!=w&&(S=S*l+(E[1]||0)),p=o(S/k),p>1){p>=l&&(p=l-1),v=t(N,p,l),y=v.length,w=E.length;while(1==e(v,E,y,w))p--,n(v,T<y?b:N,y,l),y=v.length,c=1}else 0==p&&(c=p=1),v=N.slice(),y=v.length;if(y<w&&(v=[0].concat(v)),n(E,v,w,l),w=E.length,-1==c)while(e(N,E,T,w)<1)p++,n(E,T<w?b:N,w,l),w=E.length}else 0===c&&(p++,E=[0]);x[d++]=p,E[0]?E[w++]=A[C]||0:(E=[A[C]],w=1)}while((C++<I||null!=E[0])&&R--);g=null!=E[0],x[0]||x.splice(0,1)}if(l==u){for(d=1,R=x[0];R>=10;R/=10,d++);q(m,s+(m.e=d+f*h-1)+1,a,g)}else m.e=f,m.r=+g;return m}}(),i=function(){var t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,e=/^([^.]+)\.$/,n=/^\.([^.]+)$/,i=/^-?(Infinity|NaN)$/,r=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(s,o,l,u){var h,c=l?o:o.replace(r,"");if(i.test(c))s.s=isNaN(c)?null:c<0?-1:1;else{if(!l&&(c=c.replace(t,(function(t,e,n){return h="x"==(n=n.toLowerCase())?16:"b"==n?2:8,u&&u!=h?t:e})),u&&(h=u,c=c.replace(e,"$1").replace(n,"0.$1")),o!=c))return new F(c,h);if(F.DEBUG)throw Error(a+"Not a"+(u?" base "+u:"")+" number: "+o);s.s=null}s.c=s.e=null}}(),S.absoluteValue=S.abs=function(){var t=new F(this);return t.s<0&&(t.s=1),t},S.comparedTo=function(t,e){return y(this,new F(t,e))},S.decimalPlaces=S.dp=function(t,e){var n,i,r,s=this;if(null!=t)return m(t,0,g),null==e?e=k:m(e,0,8),q(new F(s),t+s.e+1,e);if(!(n=s.c))return null;if(i=((r=n.length-1)-_(this.e/h))*h,r=n[r])for(;r%10==0;r/=10,i--);return i<0&&(i=0),i},S.dividedBy=S.div=function(t,n){return e(this,new F(t,n),I,k)},S.dividedToIntegerBy=S.idiv=function(t,n){return e(this,new F(t,n),0,1)},S.exponentiatedBy=S.pow=function(t,e){var n,i,r,l,u,c,f,d,g,p=this;if(t=new F(t),t.c&&!t.isInteger())throw Error(a+"Exponent not an integer: "+B(t));if(null!=e&&(e=new F(e)),c=t.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return g=new F(Math.pow(+B(p),c?t.s*(2-x(t)):+B(t))),e?g.mod(e):g;if(f=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new F(NaN);i=!f&&p.isInteger()&&e.isInteger(),i&&(p=p.mod(e))}else{if(t.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||c&&p.c[1]>=24e7:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return l=p.s<0&&x(t)?-0:0,p.e>-1&&(l=1/l),new F(f?1/l:l);L&&(l=s(L/h+2))}for(c?(n=new F(.5),f&&(t.s=1),d=x(t)):(r=Math.abs(+B(t)),d=r%2),g=new F(C);;){if(d){if(g=g.times(p),!g.c)break;l?g.c.length>l&&(g.c.length=l):i&&(g=g.mod(e))}if(r){if(r=o(r/2),0===r)break;d=r%2}else if(t=t.times(n),q(t,t.e+1,1),t.e>14)d=x(t);else{if(r=+B(t),0===r)break;d=r%2}p=p.times(p),l?p.c&&p.c.length>l&&(p.c.length=l):i&&(p=p.mod(e))}return i?g:(f&&(g=C.div(g)),e?g.mod(e):l?q(g,L,k,u):g)},S.integerValue=function(t){var e=new F(this);return null==t?t=k:m(t,0,8),q(e,e.e+1,t)},S.isEqualTo=S.eq=function(t,e){return 0===y(this,new F(t,e))},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(t,e){return y(this,new F(t,e))>0},S.isGreaterThanOrEqualTo=S.gte=function(t,e){return 1===(e=y(this,new F(t,e)))||0===e},S.isInteger=function(){return!!this.c&&_(this.e/h)>this.c.length-2},S.isLessThan=S.lt=function(t,e){return y(this,new F(t,e))<0},S.isLessThanOrEqualTo=S.lte=function(t,e){return-1===(e=y(this,new F(t,e)))||0===e},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&0==this.c[0]},S.minus=function(t,e){var n,i,r,s,o=this,a=o.s;if(t=new F(t,e),e=t.s,!a||!e)return new F(NaN);if(a!=e)return t.s=-e,o.plus(t);var l=o.e/h,c=t.e/h,f=o.c,d=t.c;if(!l||!c){if(!f||!d)return f?(t.s=-e,t):new F(d?o:NaN);if(!f[0]||!d[0])return d[0]?(t.s=-e,t):new F(f[0]?o:3==k?-0:0)}if(l=_(l),c=_(c),f=f.slice(),a=l-c){for((s=a<0)?(a=-a,r=f):(c=l,r=d),r.reverse(),e=a;e--;r.push(0));r.reverse()}else for(i=(s=(a=f.length)<(e=d.length))?a:e,a=e=0;e<i;e++)if(f[e]!=d[e]){s=f[e]<d[e];break}if(s&&(r=f,f=d,d=r,t.s=-t.s),e=(i=d.length)-(n=f.length),e>0)for(;e--;f[n++]=0);for(e=u-1;i>a;){if(f[--i]<d[i]){for(n=i;n&&!f[--n];f[n]=e);--f[n],f[i]+=u}f[i]-=d[i]}for(;0==f[0];f.splice(0,1),--c);return f[0]?Y(t,f,c):(t.s=3==k?-1:1,t.c=[t.e=0],t)},S.modulo=S.mod=function(t,n){var i,r,s=this;return t=new F(t,n),!s.c||!t.s||t.c&&!t.c[0]?new F(NaN):!t.c||s.c&&!s.c[0]?new F(s):(9==O?(r=t.s,t.s=1,i=e(s,t,0,3),t.s=r,i.s*=r):i=e(s,t,0,O),t=s.minus(i.times(t)),t.c[0]||1!=O||(t.s=s.s),t)},S.multipliedBy=S.times=function(t,e){var n,i,r,s,o,a,l,c,f,g,p,v,y,m,x,E=this,w=E.c,S=(t=new F(t,e)).c;if(!w||!S||!w[0]||!S[0])return!E.s||!t.s||w&&!w[0]&&!S||S&&!S[0]&&!w?t.c=t.e=t.s=null:(t.s*=E.s,w&&S?(t.c=[0],t.e=0):t.c=t.e=null),t;for(i=_(E.e/h)+_(t.e/h),t.s*=E.s,l=w.length,g=S.length,l<g&&(y=w,w=S,S=y,r=l,l=g,g=r),r=l+g,y=[];r--;y.push(0));for(m=u,x=d,r=g;--r>=0;){for(n=0,p=S[r]%x,v=S[r]/x|0,o=l,s=r+o;s>r;)c=w[--o]%x,f=w[o]/x|0,a=v*c+f*p,c=p*c+a%x*x+y[s]+n,n=(c/m|0)+(a/x|0)+v*f,y[s--]=c%m;y[s]=n}return n?++i:y.splice(0,1),Y(t,y,i)},S.negated=function(){var t=new F(this);return t.s=-t.s||null,t},S.plus=function(t,e){var n,i=this,r=i.s;if(t=new F(t,e),e=t.s,!r||!e)return new F(NaN);if(r!=e)return t.s=-e,i.minus(t);var s=i.e/h,o=t.e/h,a=i.c,l=t.c;if(!s||!o){if(!a||!l)return new F(r/0);if(!a[0]||!l[0])return l[0]?t:new F(a[0]?i:0*r)}if(s=_(s),o=_(o),a=a.slice(),r=s-o){for(r>0?(o=s,n=l):(r=-r,n=a),n.reverse();r--;n.push(0));n.reverse()}for(r=a.length,e=l.length,r-e<0&&(n=l,l=a,a=n,e=r),r=0;e;)r=(a[--e]=a[e]+l[e]+r)/u|0,a[e]=u===a[e]?0:a[e]%u;return r&&(a=[r].concat(a),++o),Y(t,a,o)},S.precision=S.sd=function(t,e){var n,i,r,s=this;if(null!=t&&t!==!!t)return m(t,1,g),null==e?e=k:m(e,0,8),q(new F(s),t,e);if(!(n=s.c))return null;if(r=n.length-1,i=r*h+1,r=n[r]){for(;r%10==0;r/=10,i--);for(r=n[0];r>=10;r/=10,i++);}return t&&s.e+1>i&&(i=s.e+1),i},S.shiftedBy=function(t){return m(t,-c,c),this.times("1e"+t)},S.squareRoot=S.sqrt=function(){var t,n,i,r,s,o=this,a=o.c,l=o.s,u=o.e,h=I+4,c=new F("0.5");if(1!==l||!a||!a[0])return new F(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);if(l=Math.sqrt(+B(o)),0==l||l==1/0?(n=v(a),(n.length+u)%2==0&&(n+="0"),l=Math.sqrt(+n),u=_((u+1)/2)-(u<0||u%2),l==1/0?n="5e"+u:(n=l.toExponential(),n=n.slice(0,n.indexOf("e")+1)+u),i=new F(n)):i=new F(l+""),i.c[0])for(u=i.e,l=u+h,l<3&&(l=0);;)if(s=i,i=c.times(s.plus(e(o,s,h,1))),v(s.c).slice(0,l)===(n=v(i.c)).slice(0,l)){if(i.e<u&&--l,n=n.slice(l-3,l+1),"9999"!=n&&(r||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(q(i,i.e+I+2,1),t=!i.times(i).eq(o));break}if(!r&&(q(s,s.e+I+2,0),s.times(s).eq(o))){i=s;break}h+=4,l+=4,r=1}return q(i,i.e+I+1,k,t)},S.toExponential=function(t,e){return null!=t&&(m(t,0,g),t++),G(this,t,e,1)},S.toFixed=function(t,e){return null!=t&&(m(t,0,g),t=t+this.e+1),G(this,t,e)},S.toFormat=function(t,e,n){var i,r=this;if(null==n)null!=t&&e&&"object"==typeof e?(n=e,e=null):t&&"object"==typeof t?(n=t,t=e=null):n=M;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(i=r.toFixed(t,e),r.c){var s,o=i.split("."),l=+n.groupSize,u=+n.secondaryGroupSize,h=n.groupSeparator||"",c=o[0],f=o[1],d=r.s<0,g=d?c.slice(1):c,p=g.length;if(u&&(s=l,l=u,u=s,p-=s),l>0&&p>0){for(s=p%l||l,c=g.substr(0,s);s<p;s+=l)c+=h+g.substr(s,l);u>0&&(c+=h+g.slice(s)),d&&(c="-"+c)}i=f?c+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):f):c}return(n.prefix||"")+i+(n.suffix||"")},S.toFraction=function(t){var n,i,r,s,o,l,u,c,d,g,p,_,y=this,m=y.c;if(null!=t&&(u=new F(t),!u.isInteger()&&(u.c||1!==u.s)||u.lt(C)))throw Error(a+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+B(u));if(!m)return new F(y);for(n=new F(C),d=i=new F(C),r=c=new F(C),_=v(m),o=n.e=_.length-y.e-1,n.c[0]=f[(l=o%h)<0?h+l:l],t=!t||u.comparedTo(n)>0?o>0?n:d:u,l=A,A=1/0,u=new F(_),c.c[0]=0;;){if(g=e(u,n,0,1),s=i.plus(g.times(r)),1==s.comparedTo(t))break;i=r,r=s,d=c.plus(g.times(s=d)),c=s,n=u.minus(g.times(s=n)),u=s}return s=e(t.minus(i),r,0,1),c=c.plus(s.times(d)),i=i.plus(s.times(r)),c.s=d.s=y.s,o*=2,p=e(d,r,o,k).minus(y).abs().comparedTo(e(c,i,o,k).minus(y).abs())<1?[d,r]:[c,i],A=l,p},S.toNumber=function(){return+B(this)},S.toPrecision=function(t,e){return null!=t&&m(t,1,g),G(this,t,e,2)},S.toString=function(t){var e,i=this,r=i.s,s=i.e;return null===s?r?(e="Infinity",r<0&&(e="-"+e)):e="NaN":(null==t?e=s<=T||s>=b?E(v(i.c),s):w(v(i.c),s,"0"):10===t&&D?(i=q(new F(i),I+s+1,k),e=w(v(i.c),i.e,"0")):(m(t,2,P.length,"Base"),e=n(w(v(i.c),s,"0"),10,t,r,!0)),r<0&&i.c[0]&&(e="-"+e)),e},S.valueOf=S.toJSON=function(){return B(this)},S._isBigNumber=!0,S[Symbol.toStringTag]="BigNumber",S[Symbol.for("nodejs.util.inspect.custom")]=S.valueOf,null!=t&&F.set(t),F}function _(t){var e=0|t;return t>0||t===e?e:e-1}function v(t){for(var e,n,i=1,r=t.length,s=t[0]+"";i<r;){for(e=t[i++]+"",n=h-e.length;n--;e="0"+e);s+=e}for(r=s.length;48===s.charCodeAt(--r););return s.slice(0,r+1||1)}function y(t,e){var n,i,r=t.c,s=e.c,o=t.s,a=e.s,l=t.e,u=e.e;if(!o||!a)return null;if(n=r&&!r[0],i=s&&!s[0],n||i)return n?i?0:-a:o;if(o!=a)return o;if(n=o<0,i=l==u,!r||!s)return i?0:!r^n?1:-1;if(!i)return l>u^n?1:-1;for(a=(l=r.length)<(u=s.length)?l:u,o=0;o<a;o++)if(r[o]!=s[o])return r[o]>s[o]^n?1:-1;return l==u?0:l>u^n?1:-1}function m(t,e,n,i){if(t<e||t>n||t!==o(t))throw Error(a+(i||"Argument")+("number"==typeof t?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function x(t){var e=t.c.length-1;return _(t.e/h)==e&&t.c[e]%2!=0}function E(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function w(t,e,n){var i,r;if(e<0){for(r=n+".";++e;r+=n);t=r+t}else if(i=t.length,++e>i){for(r=n,e-=i;--e;r+=n);t+=r}else e<i&&(t=t.slice(0,e)+"."+t.slice(e));return t}var S=p(),C=S,I=(n(8111),n(7588),class{constructor(t){(0,i.A)(this,"key",void 0),(0,i.A)(this,"left",null),(0,i.A)(this,"right",null),this.key=t}}),k=class extends I{constructor(t){super(t)}},T=class t extends I{constructor(t,e){super(t),(0,i.A)(this,"value",void 0),this.value=e}replaceValue(e){const n=new t(this.key,e);return n.left=this.left,n.right=this.right,n}},b=class{constructor(){(0,i.A)(this,"size",0),(0,i.A)(this,"modificationCount",0),(0,i.A)(this,"splayCount",0)}splay(t){const e=this.root;if(null==e)return this.compare(t,t),-1;let n=null,i=null,r=null,s=null,o=e;const a=this.compare;let l;while(1)if(l=a(o.key,t),l>0){let e=o.left;if(null==e)break;if(l=a(e.key,t),l>0&&(o.left=e.right,e.right=o,o=e,e=o.left,null==e))break;null==n?i=o:n.left=o,n=o,o=e}else{if(!(l<0))break;{let e=o.right;if(null==e)break;if(l=a(e.key,t),l<0&&(o.right=e.left,e.left=o,o=e,e=o.right,null==e))break;null==r?s=o:r.right=o,r=o,o=e}}return null!=r&&(r.right=o.left,o.left=s),null!=n&&(n.left=o.right,o.right=i),this.root!==o&&(this.root=o,this.splayCount++),l}splayMin(t){let e=t,n=e.left;while(null!=n){const t=n;e.left=t.right,t.right=e,e=t,n=e.left}return e}splayMax(t){let e=t,n=e.right;while(null!=n){const t=n;e.right=t.left,t.left=e,e=t,n=e.right}return e}_delete(t){if(null==this.root)return null;const e=this.splay(t);if(0!=e)return null;let n=this.root;const i=n,r=n.left;if(this.size--,null==r)this.root=n.right;else{const t=n.right;n=this.splayMax(r),n.right=t,this.root=n}return this.modificationCount++,i}addNewRoot(t,e){this.size++,this.modificationCount++;const n=this.root;null!=n?(e<0?(t.left=n,t.right=n.right,n.right=null):(t.right=n,t.left=n.left,n.left=null),this.root=t):this.root=t}_first(){const t=this.root;return null==t?null:(this.root=this.splayMin(t),this.root)}_last(){const t=this.root;return null==t?null:(this.root=this.splayMax(t),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(t){return this.validKey(t)&&0==this.splay(t)}defaultCompare(){return(t,e)=>t<e?-1:t>e?1:0}wrap(){return{getRoot:()=>this.root,setRoot:t=>{this.root=t},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:t=>{this.splayCount=t},splay:t=>this.splay(t),has:t=>this.has(t)}}},R=(Symbol.iterator,class t extends b{constructor(t,e){super(),(0,i.A)(this,"root",null),(0,i.A)(this,"compare",void 0),(0,i.A)(this,"validKey",void 0),(0,i.A)(this,Symbol.toStringTag,"[object Set]"),this.compare=t??this.defaultCompare(),this.validKey=e??(t=>null!=t&&void 0!=t)}delete(t){return!!this.validKey(t)&&null!=this._delete(t)}deleteAll(t){for(const e of t)this.delete(e)}forEach(t){const e=this[Symbol.iterator]();let n;while(n=e.next(),!n.done)t(n.value,n.value,this)}add(t){const e=this.splay(t);return 0!=e&&this.addNewRoot(new k(t),e),this}addAndReturn(t){const e=this.splay(t);return 0!=e&&this.addNewRoot(new k(t),e),this.root.key}addAll(t){for(const e of t)this.add(e)}isEmpty(){return null==this.root}isNotEmpty(){return null!=this.root}single(){if(0==this.size)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(0==this.size)throw"Bad state: No element";return this._first().key}last(){if(0==this.size)throw"Bad state: No element";return this._last().key}lastBefore(t){if(null==t)throw"Invalid arguments(s)";if(null==this.root)return null;const e=this.splay(t);if(e<0)return this.root.key;let n=this.root.left;if(null==n)return null;let i=n.right;while(null!=i)n=i,i=n.right;return n.key}firstAfter(t){if(null==t)throw"Invalid arguments(s)";if(null==this.root)return null;const e=this.splay(t);if(e>0)return this.root.key;let n=this.root.right;if(null==n)return null;let i=n.left;while(null!=i)n=i,i=n.left;return n.key}retainAll(e){const n=new t(this.compare,this.validKey),i=this.modificationCount;for(const t of e){if(i!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(t)&&0==this.splay(t)&&n.add(this.root.key)}n.size!=this.size&&(this.root=n.root,this.size=n.size,this.modificationCount++)}lookup(t){if(!this.validKey(t))return null;const e=this.splay(t);return 0!=e?null:this.root.key}intersection(e){const n=new t(this.compare,this.validKey);for(const t of this)e.has(t)&&n.add(t);return n}difference(e){const n=new t(this.compare,this.validKey);for(const t of this)e.has(t)||n.add(t);return n}union(t){const e=this.clone();return e.addAll(t),e}clone(){const e=new t(this.compare,this.validKey);return e.size=this.size,e.root=this.copyNode(this.root),e}copyNode(t){if(null==t)return null;function e(t,n){let i,r;do{if(i=t.left,r=t.right,null!=i){const t=new k(i.key);n.left=t,e(i,t)}if(null!=r){const e=new k(r.key);n.right=e,t=r,n=e}}while(null!=r)}const n=new k(t.key);return e(t,n),n}toSet(){return this.clone()}entries(){return new O(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new N(this.wrap())}}),A=class{constructor(t){(0,i.A)(this,"tree",void 0),(0,i.A)(this,"path",new Array),(0,i.A)(this,"modificationCount",null),(0,i.A)(this,"splayCount",void 0),this.tree=t,this.splayCount=t.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const t=this.path[this.path.length-1];return this.getValue(t)}rebuildPath(t){this.path.splice(0,this.path.length),this.tree.splay(t),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(t){while(null!=t)this.path.push(t),t=t.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(null==this.modificationCount){this.modificationCount=this.tree.getModificationCount();let t=this.tree.getRoot();while(null!=t)this.path.push(t),t=t.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let t=this.path[this.path.length-1],e=t.right;if(null!=e){while(null!=e)this.path.push(e),e=e.left;return!0}this.path.pop();while(this.path.length&&this.path[this.path.length-1].right===t)t=this.path.pop();return this.path.length>0}},N=class extends A{getValue(t){return t.key}},O=class extends A{getValue(t){return[t.key,t.key]}},L=class extends A{constructor(t){super(t)}getValue(t){return t.value}},M=class extends A{constructor(t){super(t)}getValue(t){return[t.key,t.value]}replaceValue(t){if(this.modificationCount!=this.tree.getModificationCount())throw"Concurrent modification during iteration.";this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);const e=this.path.pop(),n=e.replaceValue(t);if(this.path.length){const t=this.path[this.path.length-1];e===t.left?t.left=n:t.right=n}else this.tree.setRoot(n);this.path.push(n);const i=this.tree.getSplayCount()+1;this.tree.setSplayCount(i),this.splayCount=i}},P=t=>()=>t,D=t=>{const e=t?(e,n)=>n.minus(e).abs().isLessThanOrEqualTo(t):P(!1);return(t,n)=>e(t,n)?0:t.comparedTo(n)};function F(t){const e=t?(e,n,i,r,s)=>e.exponentiatedBy(2).isLessThanOrEqualTo(r.minus(n).exponentiatedBy(2).plus(s.minus(i).exponentiatedBy(2)).times(t)):P(!1);return(t,n,i)=>{const r=t.x,s=t.y,o=i.x,a=i.y,l=s.minus(a).times(n.x.minus(o)).minus(r.minus(o).times(n.y.minus(a)));return e(l,r,s,o,a)?0:l.comparedTo(0)}}var G=t=>t,z=t=>{if(t){const e=new R(D(t)),n=new R(D(t)),i=(t,e)=>e.addAndReturn(t),r=t=>({x:i(t.x,e),y:i(t.y,n)});return r({x:new C(0),y:new C(0)}),r}return G},Y=t=>({set:t=>{q=Y(t)},reset:()=>Y(t),compare:D(t),snap:z(t),orient:F(t)}),q=Y(),B=(t,e)=>t.ll.x.isLessThanOrEqualTo(e.x)&&e.x.isLessThanOrEqualTo(t.ur.x)&&t.ll.y.isLessThanOrEqualTo(e.y)&&e.y.isLessThanOrEqualTo(t.ur.y),j=(t,e)=>{if(e.ur.x.isLessThan(t.ll.x)||t.ur.x.isLessThan(e.ll.x)||e.ur.y.isLessThan(t.ll.y)||t.ur.y.isLessThan(e.ll.y))return null;const n=t.ll.x.isLessThan(e.ll.x)?e.ll.x:t.ll.x,i=t.ur.x.isLessThan(e.ur.x)?t.ur.x:e.ur.x,r=t.ll.y.isLessThan(e.ll.y)?e.ll.y:t.ll.y,s=t.ur.y.isLessThan(e.ur.y)?t.ur.y:e.ur.y;return{ll:{x:n,y:r},ur:{x:i,y:s}}},X=(t,e)=>t.x.times(e.y).minus(t.y.times(e.x)),U=(t,e)=>t.x.times(e.x).plus(t.y.times(e.y)),V=t=>U(t,t).sqrt(),W=(t,e,n)=>{const i={x:e.x.minus(t.x),y:e.y.minus(t.y)},r={x:n.x.minus(t.x),y:n.y.minus(t.y)};return X(r,i).div(V(r)).div(V(i))},K=(t,e,n)=>{const i={x:e.x.minus(t.x),y:e.y.minus(t.y)},r={x:n.x.minus(t.x),y:n.y.minus(t.y)};return U(r,i).div(V(r)).div(V(i))},H=(t,e,n)=>e.y.isZero()?null:{x:t.x.plus(e.x.div(e.y).times(n.minus(t.y))),y:n},$=(t,e,n)=>e.x.isZero()?null:{x:n,y:t.y.plus(e.y.div(e.x).times(n.minus(t.x)))},Z=(t,e,n,i)=>{if(e.x.isZero())return $(n,i,t.x);if(i.x.isZero())return $(t,e,n.x);if(e.y.isZero())return H(n,i,t.y);if(i.y.isZero())return H(t,e,n.y);const r=X(e,i);if(r.isZero())return null;const s={x:n.x.minus(t.x),y:n.y.minus(t.y)},o=X(s,e).div(r),a=X(s,i).div(r),l=t.x.plus(a.times(e.x)),u=n.x.plus(o.times(i.x)),h=t.y.plus(a.times(e.y)),c=n.y.plus(o.times(i.y)),f=l.plus(u).div(2),d=h.plus(c).div(2);return{x:f,y:d}},J=class t{static compare(e,n){const i=t.comparePoints(e.point,n.point);return 0!==i?i:(e.point!==n.point&&e.link(n),e.isLeft!==n.isLeft?e.isLeft?1:-1:at.compare(e.segment,n.segment))}static comparePoints(t,e){return t.x.isLessThan(e.x)?-1:t.x.isGreaterThan(e.x)?1:t.y.isLessThan(e.y)?-1:t.y.isGreaterThan(e.y)?1:0}constructor(t,e){(0,i.A)(this,"point",void 0),(0,i.A)(this,"isLeft",void 0),(0,i.A)(this,"segment",void 0),(0,i.A)(this,"otherSE",void 0),(0,i.A)(this,"consumedBy",void 0),void 0===t.events?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=e}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const e=t.point.events;for(let n=0,i=e.length;n<i;n++){const t=e[n];this.point.events.push(t),t.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let e=0;e<t;e++){const n=this.point.events[e];if(void 0===n.segment.consumedBy)for(let i=e+1;i<t;i++){const t=this.point.events[i];void 0===t.consumedBy&&(n.otherSE.point.events===t.otherSE.point.events&&n.segment.consume(t.segment))}}}getAvailableLinkedEvents(){const t=[];for(let e=0,n=this.point.events.length;e<n;e++){const n=this.point.events[e];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&t.push(n)}return t}getLeftmostComparator(t){const e=new Map,n=n=>{const i=n.otherSE;e.set(n,{sine:W(this.point,t.point,i.point),cosine:K(this.point,t.point,i.point)})};return(t,i)=>{e.has(t)||n(t),e.has(i)||n(i);const{sine:r,cosine:s}=e.get(t),{sine:o,cosine:a}=e.get(i);return r.isGreaterThanOrEqualTo(0)&&o.isGreaterThanOrEqualTo(0)?s.isLessThan(a)?1:s.isGreaterThan(a)?-1:0:r.isLessThan(0)&&o.isLessThan(0)?s.isLessThan(a)?-1:s.isGreaterThan(a)?1:0:o.isLessThan(r)?-1:o.isGreaterThan(r)?1:0}}},Q=class t{static factory(e){const n=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];if(!r.isInResult()||r.ringOut)continue;let s=null,o=r.leftSE,a=r.rightSE;const l=[o],u=o.point,h=[];while(1){if(s=o,o=a,l.push(o),o.point===u)break;while(1){const e=o.getAvailableLinkedEvents();if(0===e.length){const t=l[0].point,e=l[l.length-1].point;throw new Error(`Unable to complete output ring starting at [${t.x}, ${t.y}]. Last matching segment found ends at [${e.x}, ${e.y}].`)}if(1===e.length){a=e[0].otherSE;break}let i=null;for(let t=0,n=h.length;t<n;t++)if(h[t].point===o.point){i=t;break}if(null!==i){const e=h.splice(i)[0],r=l.splice(e.index);r.unshift(r[0].otherSE),n.push(new t(r.reverse()));continue}h.push({index:l.length,point:o.point});const r=o.getLeftmostComparator(s);a=e.sort(r)[0].otherSE;break}}n.push(new t(l))}return n}constructor(t){(0,i.A)(this,"events",void 0),(0,i.A)(this,"poly",void 0),(0,i.A)(this,"_isExteriorRing",void 0),(0,i.A)(this,"_enclosingRing",void 0),this.events=t;for(let e=0,n=t.length;e<n;e++)t[e].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const e=[t];for(let l=1,u=this.events.length-1;l<u;l++){const n=this.events[l].point,i=this.events[l+1].point;0!==q.orient(n,t,i)&&(e.push(n),t=n)}if(1===e.length)return null;const n=e[0],i=e[1];0===q.orient(n,t,i)&&e.shift(),e.push(e[0]);const r=this.isExteriorRing()?1:-1,s=this.isExteriorRing()?0:e.length-1,o=this.isExteriorRing()?e.length:-1,a=[];for(let l=s;l!=o;l+=r)a.push([e[l].x.toNumber(),e[l].y.toNumber()]);return a}isExteriorRing(){if(void 0===this._isExteriorRing){const t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let i=1,r=this.events.length;i<r;i++){const e=this.events[i];J.compare(t,e)>0&&(t=e)}let e=t.segment.prevInResult(),n=e?e.prevInResult():null;while(1){if(!e)return null;if(!n)return e.ringOut;if(n.ringOut!==e.ringOut)return n.ringOut?.enclosingRing()!==e.ringOut?e.ringOut:e.ringOut?.enclosingRing();e=n.prevInResult(),n=e?e.prevInResult():null}}},tt=class{constructor(t){(0,i.A)(this,"exteriorRing",void 0),(0,i.A)(this,"interiorRings",void 0),this.exteriorRing=t,t.poly=this,this.interiorRings=[]}addInterior(t){this.interiorRings.push(t),t.poly=this}getGeom(){const t=this.exteriorRing.getGeom();if(null===t)return null;const e=[t];for(let n=0,i=this.interiorRings.length;n<i;n++){const t=this.interiorRings[n].getGeom();null!==t&&e.push(t)}return e}},et=class{constructor(t){(0,i.A)(this,"rings",void 0),(0,i.A)(this,"polys",void 0),this.rings=t,this.polys=this._composePolys(t)}getGeom(){const t=[];for(let e=0,n=this.polys.length;e<n;e++){const n=this.polys[e].getGeom();null!==n&&t.push(n)}return t}_composePolys(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];if(!i.poly)if(i.isExteriorRing())e.push(new tt(i));else{const t=i.enclosingRing();t?.poly||e.push(new tt(t)),t?.poly?.addInterior(i)}}return e}},nt=class{constructor(t,e=at.compare){(0,i.A)(this,"queue",void 0),(0,i.A)(this,"tree",void 0),(0,i.A)(this,"segments",void 0),this.queue=t,this.tree=new R(e),this.segments=[]}process(t){const e=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.delete(t.otherSE):this.tree.delete(e),n;t.isLeft&&this.tree.add(e);let i=e,r=e;do{i=this.tree.lastBefore(i)}while(null!=i&&void 0!=i.consumedBy);do{r=this.tree.firstAfter(r)}while(null!=r&&void 0!=r.consumedBy);if(t.isLeft){let s=null;if(i){const t=i.getIntersection(e);if(null!==t&&(e.isAnEndpoint(t)||(s=t),!i.isAnEndpoint(t))){const e=this._splitSafely(i,t);for(let t=0,i=e.length;t<i;t++)n.push(e[t])}}let o=null;if(r){const t=r.getIntersection(e);if(null!==t&&(e.isAnEndpoint(t)||(o=t),!r.isAnEndpoint(t))){const e=this._splitSafely(r,t);for(let t=0,i=e.length;t<i;t++)n.push(e[t])}}if(null!==s||null!==o){let t=null;if(null===s)t=o;else if(null===o)t=s;else{const e=J.comparePoints(s,o);t=e<=0?s:o}this.queue.delete(e.rightSE),n.push(e.rightSE);const i=e.split(t);for(let e=0,r=i.length;e<r;e++)n.push(i[e])}n.length>0?(this.tree.delete(e),n.push(t)):(this.segments.push(e),e.prev=i)}else{if(i&&r){const t=i.getIntersection(r);if(null!==t){if(!i.isAnEndpoint(t)){const e=this._splitSafely(i,t);for(let t=0,i=e.length;t<i;t++)n.push(e[t])}if(!r.isAnEndpoint(t)){const e=this._splitSafely(r,t);for(let t=0,i=e.length;t<i;t++)n.push(e[t])}}}this.tree.delete(e)}return n}_splitSafely(t,e){this.tree.delete(t);const n=t.rightSE;this.queue.delete(n);const i=t.split(e);return i.push(n),void 0===t.consumedBy&&this.tree.add(t),i}},it=class{constructor(){(0,i.A)(this,"type",void 0),(0,i.A)(this,"numMultiPolys",void 0)}run(t,e,n){rt.type=t;const i=[new ht(e,!0)];for(let u=0,h=n.length;u<h;u++)i.push(new ht(n[u],!1));if(rt.numMultiPolys=i.length,"difference"===rt.type){const t=i[0];let e=1;while(e<i.length)null!==j(i[e].bbox,t.bbox)?e++:i.splice(e,1)}if("intersection"===rt.type)for(let u=0,h=i.length;u<h;u++){const t=i[u];for(let e=u+1,n=i.length;e<n;e++)if(null===j(t.bbox,i[e].bbox))return[]}const r=new R(J.compare);for(let u=0,h=i.length;u<h;u++){const t=i[u].getSweepEvents();for(let e=0,n=t.length;e<n;e++)r.add(t[e])}const s=new nt(r);let o=null;0!=r.size&&(o=r.first(),r.delete(o));while(o){const t=s.process(o);for(let e=0,n=t.length;e<n;e++){const n=t[e];void 0===n.consumedBy&&r.add(n)}0!=r.size?(o=r.first(),r.delete(o)):o=null}q.reset();const a=Q.factory(s.segments),l=new et(a);return l.getGeom()}},rt=new it,st=rt,ot=0,at=class t{static compare(t,e){const n=t.leftSE.point.x,i=e.leftSE.point.x,r=t.rightSE.point.x,s=e.rightSE.point.x;if(s.isLessThan(n))return 1;if(r.isLessThan(i))return-1;const o=t.leftSE.point.y,a=e.leftSE.point.y,l=t.rightSE.point.y,u=e.rightSE.point.y;if(n.isLessThan(i)){if(a.isLessThan(o)&&a.isLessThan(l))return 1;if(a.isGreaterThan(o)&&a.isGreaterThan(l))return-1;const n=t.comparePoint(e.leftSE.point);if(n<0)return 1;if(n>0)return-1;const i=e.comparePoint(t.rightSE.point);return 0!==i?i:-1}if(n.isGreaterThan(i)){if(o.isLessThan(a)&&o.isLessThan(u))return-1;if(o.isGreaterThan(a)&&o.isGreaterThan(u))return 1;const n=e.comparePoint(t.leftSE.point);if(0!==n)return n;const i=t.comparePoint(e.rightSE.point);return i<0?1:i>0?-1:1}if(o.isLessThan(a))return-1;if(o.isGreaterThan(a))return 1;if(r.isLessThan(s)){const n=e.comparePoint(t.rightSE.point);if(0!==n)return n}if(r.isGreaterThan(s)){const n=t.comparePoint(e.rightSE.point);if(n<0)return 1;if(n>0)return-1}if(!r.eq(s)){const t=l.minus(o),e=r.minus(n),h=u.minus(a),c=s.minus(i);if(t.isGreaterThan(e)&&h.isLessThan(c))return 1;if(t.isLessThan(e)&&h.isGreaterThan(c))return-1}return r.isGreaterThan(s)?1:r.isLessThan(s)||l.isLessThan(u)?-1:l.isGreaterThan(u)?1:t.id<e.id?-1:t.id>e.id?1:0}constructor(t,e,n,r){(0,i.A)(this,"id",void 0),(0,i.A)(this,"leftSE",void 0),(0,i.A)(this,"rightSE",void 0),(0,i.A)(this,"rings",void 0),(0,i.A)(this,"windings",void 0),(0,i.A)(this,"ringOut",void 0),(0,i.A)(this,"consumedBy",void 0),(0,i.A)(this,"prev",void 0),(0,i.A)(this,"_prevInResult",void 0),(0,i.A)(this,"_beforeState",void 0),(0,i.A)(this,"_afterState",void 0),(0,i.A)(this,"_isInResult",void 0),this.id=++ot,this.leftSE=t,t.segment=this,t.otherSE=e,this.rightSE=e,e.segment=this,e.otherSE=t,this.rings=n,this.windings=r}static fromRing(e,n,i){let r,s,o;const a=J.comparePoints(e,n);if(a<0)r=e,s=n,o=1;else{if(!(a>0))throw new Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);r=n,s=e,o=-1}const l=new J(r,!0),u=new J(s,!1);return new t(l,u,[i],[o])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t.isLessThan(e)?t:e},ur:{x:this.rightSE.point.x,y:t.isGreaterThan(e)?t:e}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(t){return t.x.eq(this.leftSE.point.x)&&t.y.eq(this.leftSE.point.y)||t.x.eq(this.rightSE.point.x)&&t.y.eq(this.rightSE.point.y)}comparePoint(t){return q.orient(this.leftSE.point,t,this.rightSE.point)}getIntersection(t){const e=this.bbox(),n=t.bbox(),i=j(e,n);if(null===i)return null;const r=this.leftSE.point,s=this.rightSE.point,o=t.leftSE.point,a=t.rightSE.point,l=B(e,o)&&0===this.comparePoint(o),u=B(n,r)&&0===t.comparePoint(r),h=B(e,a)&&0===this.comparePoint(a),c=B(n,s)&&0===t.comparePoint(s);if(u&&l)return c&&!h?s:!c&&h?a:null;if(u)return h&&r.x.eq(a.x)&&r.y.eq(a.y)?null:r;if(l)return c&&s.x.eq(o.x)&&s.y.eq(o.y)?null:o;if(c&&h)return null;if(c)return s;if(h)return a;const f=Z(r,this.vector(),o,t.vector());return null===f?null:B(i,f)?q.snap(f):null}split(e){const n=[],i=void 0!==e.events,r=new J(e,!0),s=new J(e,!1),o=this.rightSE;this.replaceRightSE(s),n.push(s),n.push(r);const a=new t(r,o,this.rings.slice(),this.windings.slice());return J.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),J.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),i&&(r.checkForConsuming(),s.checkForConsuming()),n}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,n=this.windings.length;e<n;e++)this.windings[e]*=-1}consume(e){let n=this,i=e;while(n.consumedBy)n=n.consumedBy;while(i.consumedBy)i=i.consumedBy;const r=t.compare(n,i);if(0!==r){if(r>0){const t=n;n=i,i=t}if(n.prev===i){const t=n;n=i,i=t}for(let t=0,e=i.rings.length;t<e;t++){const e=i.rings[t],r=i.windings[t],s=n.rings.indexOf(e);-1===s?(n.rings.push(e),n.windings.push(r)):n.windings[s]+=r}i.rings=null,i.windings=null,i.consumedBy=n,i.leftSE.consumedBy=n.leftSE,i.rightSE.consumedBy=n.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const e=this._afterState.rings,n=this._afterState.windings,i=this._afterState.multiPolys;for(let o=0,a=this.rings.length;o<a;o++){const t=this.rings[o],i=this.windings[o],r=e.indexOf(t);-1===r?(e.push(t),n.push(i)):n[r]+=i}const r=[],s=[];for(let o=0,a=e.length;o<a;o++){if(0===n[o])continue;const t=e[o],i=t.poly;if(-1===s.indexOf(i))if(t.isExterior)r.push(i);else{-1===s.indexOf(i)&&s.push(i);const e=r.indexOf(t.poly);-1!==e&&r.splice(e,1)}}for(let o=0,a=r.length;o<a;o++){const t=r[o].multiPoly;-1===i.indexOf(t)&&i.push(t)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(st.type){case"union":{const n=0===t.length,i=0===e.length;this._isInResult=n!==i;break}case"intersection":{let n,i;t.length<e.length?(n=t.length,i=e.length):(n=e.length,i=t.length),this._isInResult=i===st.numMultiPolys&&n<i;break}case"xor":{const n=Math.abs(t.length-e.length);this._isInResult=n%2===1;break}case"difference":{const n=t=>1===t.length&&t[0].isSubject;this._isInResult=n(t)!==n(e);break}}return this._isInResult}},lt=class{constructor(t,e,n){if((0,i.A)(this,"poly",void 0),(0,i.A)(this,"isExterior",void 0),(0,i.A)(this,"segments",void 0),(0,i.A)(this,"bbox",void 0),!Array.isArray(t)||0===t.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=e,this.isExterior=n,this.segments=[],"number"!==typeof t[0][0]||"number"!==typeof t[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const r=q.snap({x:new C(t[0][0]),y:new C(t[0][1])});this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let s=r;for(let i=1,o=t.length;i<o;i++){if("number"!==typeof t[i][0]||"number"!==typeof t[i][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const e=q.snap({x:new C(t[i][0]),y:new C(t[i][1])});e.x.eq(s.x)&&e.y.eq(s.y)||(this.segments.push(at.fromRing(s,e,this)),e.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=e.x),e.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=e.y),e.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=e.x),e.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=e.y),s=e)}r.x.eq(s.x)&&r.y.eq(s.y)||this.segments.push(at.fromRing(s,r,this))}getSweepEvents(){const t=[];for(let e=0,n=this.segments.length;e<n;e++){const n=this.segments[e];t.push(n.leftSE),t.push(n.rightSE)}return t}},ut=class{constructor(t,e){if((0,i.A)(this,"multiPoly",void 0),(0,i.A)(this,"exteriorRing",void 0),(0,i.A)(this,"interiorRings",void 0),(0,i.A)(this,"bbox",void 0),!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new lt(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let n=1,i=t.length;n<i;n++){const e=new lt(t[n],this,!1);e.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=e.bbox.ll.x),e.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=e.bbox.ll.y),e.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=e.bbox.ur.x),e.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=e.bbox.ur.y),this.interiorRings.push(e)}this.multiPoly=e}getSweepEvents(){const t=this.exteriorRing.getSweepEvents();for(let e=0,n=this.interiorRings.length;e<n;e++){const n=this.interiorRings[e].getSweepEvents();for(let e=0,i=n.length;e<i;e++)t.push(n[e])}return t}},ht=class{constructor(t,e){if((0,i.A)(this,"isSubject",void 0),(0,i.A)(this,"polys",void 0),(0,i.A)(this,"bbox",void 0),!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"===typeof t[0][0][0]&&(t=[t])}catch(n){}this.polys=[],this.bbox={ll:{x:new C(Number.POSITIVE_INFINITY),y:new C(Number.POSITIVE_INFINITY)},ur:{x:new C(Number.NEGATIVE_INFINITY),y:new C(Number.NEGATIVE_INFINITY)}};for(let i=0,r=t.length;i<r;i++){const e=new ut(t[i],this);e.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=e.bbox.ll.x),e.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=e.bbox.ll.y),e.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=e.bbox.ur.x),e.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=e.bbox.ur.y),this.polys.push(e)}this.isSubject=e}getSweepEvents(){const t=[];for(let e=0,n=this.polys.length;e<n;e++){const n=this.polys[e].getSweepEvents();for(let e=0,i=n.length;e<i;e++)t.push(n[e])}return t}},ct=(t,...e)=>st.run("union",t,e),ft=(t,...e)=>st.run("intersection",t,e),dt=(t,...e)=>st.run("difference",t,e);q.set},2360:function(t,e,n){"use strict";var i,r=n(8551),s=n(6801),o=n(8727),a=n(421),l=n(397),u=n(4055),h=n(6119),c=">",f="<",d="prototype",g="script",p=h("IE_PROTO"),_=function(){},v=function(t){return f+g+c+t+f+"/"+g+c},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){var t,e=u("iframe"),n="java"+g+":";return e.style.display="none",l.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},x=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}x="undefined"!=typeof document?document.domain&&i?y(i):m():y(i);var t=o.length;while(t--)delete x[d][o[t]];return x()};a[p]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(_[d]=r(t),n=new _,_[d]=null,n[p]=t):n=x(),void 0===e?n:s.f(n,e)}},2375:function(t,e,n){"use strict";var i=n(1410),r=n(1097),s=n(713),o=n(7582),a=n(5752),l=n(8886),u=n(7749);function h(t,e,n,i){return void 0!==n&&void 0!==i?[n/t,i/e]:void 0!==n?n/t:void 0!==i?i/e:1}class c extends u.A{constructor(t){t=t||{};const e=void 0!==t.opacity?t.opacity:1,n=void 0!==t.rotation?t.rotation:0,o=void 0!==t.scale?t.scale:1,u=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:n,scale:o,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:u,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const c=void 0!==t.img?t.img:null;let f,d=t.src;if((0,r.v)(!(void 0!==d&&c),"`image` and `src` cannot be provided at the same time"),void 0!==d&&0!==d.length||!c||(d=c.src||(0,a.v6)(c)),(0,r.v)(void 0!==d&&d.length>0,"A defined and non-empty `src` or `image` must be provided"),(0,r.v)(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==t.src?f=i.A.IDLE:void 0!==c&&(f="complete"in c?c.complete?c.src?i.A.LOADED:i.A.IDLE:i.A.LOADING:i.A.LOADED),this.color_=void 0!==t.color?(0,s._j)(t.color):null,this.iconImage_=(0,l.J)(c,d,this.crossOrigin_,f,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,this.initialOptions_,void 0!==t.width||void 0!==t.height){let e,n;if(t.size)[e,n]=t.size;else{const i=this.getImage(1);if(i.width&&i.height)e=i.width,n=i.height;else if(i instanceof HTMLImageElement){this.initialOptions_=t;const e=()=>{if(this.unlistenImageChange(e),!this.initialOptions_)return;const n=this.iconImage_.getSize();this.setScale(h(n[0],n[1],t.width,t.height))};return void this.listenImageChange(e)}}void 0!==e&&this.setScale(h(e,n,t.width,t.height))}}clone(){let t,e,n;return this.initialOptions_?(e=this.initialOptions_.width,n=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new c({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:e,height:n,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),n=this.getScaleArray();return[t[0]-e[0]/n[0],t[1]+e[1]/n[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();return this.size_?this.size_[0]*t[0]:this.iconImage_.getImageState()==i.A.LOADED?this.iconImage_.getSize()[0]*t[0]:void 0}getHeight(){const t=this.getScaleArray();return this.size_?this.size_[1]*t[1]:this.iconImage_.getImageState()==i.A.LOADED?this.iconImage_.getSize()[1]*t[1]:void 0}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(o.A.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(o.A.CHANGE,t)}ready(){return this.iconImage_.ready()}}e.A=c},2425:function(t,e,n){"use strict";n.d(e,{l:function(){return f}});n(4114),n(8111),n(116),n(1701),n(3579);var i=n(8699),r=n(1097),s=n(7582),o=n(8965),a=n(7444),l=n(3707),u=n(9855),h=n(4543);class c extends u.A{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(h.A.SOURCE,this.handleSourcePropertyChange_);const n=t.source?t.source:null;this.setSource(n)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(h.A.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,o.JH)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=(0,o.KT)(t,s.A.CHANGE,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0)),this.clearRenderer()),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(t){let e;const n=this.getMapInternal();let r;if(!t&&n&&(t=n.getView()),e=t instanceof i.Ay?{viewState:t.getState(),extent:t.calculateExtent()}:t,!e.layerStatesArray&&n&&(e.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),e.layerStatesArray){if(r=e.layerStatesArray.find((t=>t.layer===this)),!r)return!1}else r=this.getLayerState();const s=this.getExtent();return f(r,e.viewState)&&(!s||(0,a.HY)(s,e.extent))}getAttributions(t){if(!this.isVisible(t))return[];const e=this.getSource()?.getAttributions();if(!e)return[];const n=t instanceof i.Ay?t.getViewStateAndExtent():t;let r=e(n);return Array.isArray(r)||(r=[r]),r}render(t,e){const n=this.getRenderer();return n.prepareFrame(t)?(this.rendered=!0,n.renderFrame(t,e)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,e){}renderDeferred(t){const e=this.getRenderer();e&&e.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(h.A.MAP,t)}getMapInternal(){return this.get(h.A.MAP)}setMap(t){this.mapPrecomposeKey_&&((0,o.JH)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,o.JH)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,o.KT)(t,l.A.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=(0,o.KT)(this,s.A.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const e=t.frameState.layerStatesArray,n=this.getLayerState(!1);(0,r.v)(!e.some((t=>t.layer===n.layer)),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),e.push(n)}setSource(t){this.set(h.A.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function f(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}e.A=c},2475:function(t,e,n){"use strict";var i=n(6518),r=n(8527),s=n(4916),o=!s("isSupersetOf",(function(t){return!t}));i({target:"Set",proto:!0,real:!0,forced:o},{isSupersetOf:r})},2488:function(){},2489:function(t,e,n){"use strict";var i=n(6518),r=n(9565),s=n(9306),o=n(8551),a=n(1767),l=n(9462),u=n(6319),h=n(6395),c=n(9539),f=n(4549),d=!h&&f("filter",TypeError),g=l((function(){var t,e,n,i=this.iterator,s=this.predicate,a=this.next;while(1){if(t=o(r(a,i)),e=this.done=!!t.done,e)return;if(n=t.value,u(i,s,[n,this.counter++],!0))return n}}));i({target:"Iterator",proto:!0,real:!0,forced:h||d},{filter:function(t){o(this);try{s(t)}catch(e){c(this,"throw",e)}return d?r(d,this,t):new g(a(this),{predicate:t})}})},2529:function(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},2535:function(t,e,n){"use strict";n.d(e,{A4:function(){return _},GB:function(){return d},Gk:function(){return u},IO:function(){return o},Kg:function(){return g},Q7:function(){return s},TS:function(){return f},Zm:function(){return c},at:function(){return h},eL:function(){return l},fs:function(){return v},tE:function(){return p}});n(8111),n(1701);var i=n(9331),r=n(502);function s(t){const e=arguments;return function(t){let n=!0;for(let i=0,r=e.length;i<r;++i)if(n=n&&e[i](t),!n)break;return n}}const o=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},a=function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),i=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):e.contains(i)},l=function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),i=n instanceof ShadowRoot?n.host:e;return!i.hasAttribute("tabindex")||a(t)},u=i.rT,h=function(t){const e=t.originalEvent;return e instanceof PointerEvent&&0==e.button&&!(r.j&&r.ew&&e.ctrlKey)},c=i.W8,f=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},d=function(t){const e=t.originalEvent;return r.ew?e.metaKey:e.ctrlKey},g=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},p=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},_=function(t){const e=t.originalEvent;return e instanceof PointerEvent&&"mouse"==e.pointerType},v=function(t){const e=t.originalEvent;return e instanceof PointerEvent&&e.isPrimary&&0===e.button}},2652:function(t,e,n){"use strict";var i=n(6080),r=n(9565),s=n(8551),o=n(6823),a=n(4209),l=n(6198),u=n(1625),h=n(81),c=n(851),f=n(9539),d=TypeError,g=function(t,e){this.stopped=t,this.result=e},p=g.prototype;t.exports=function(t,e,n){var _,v,y,m,x,E,w,S=n&&n.that,C=!(!n||!n.AS_ENTRIES),I=!(!n||!n.IS_RECORD),k=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),b=i(e,S),R=function(t){return _&&f(_,"normal",t),new g(!0,t)},A=function(t){return C?(s(t),T?b(t[0],t[1],R):b(t[0],t[1])):T?b(t,R):b(t)};if(I)_=t.iterator;else if(k)_=t;else{if(v=c(t),!v)throw new d(o(t)+" is not iterable");if(a(v)){for(y=0,m=l(t);m>y;y++)if(x=A(t[y]),x&&u(p,x))return x;return new g(!1)}_=h(t,v)}E=I?t.next:_.next;while(!(w=r(E,_)).done){try{x=A(w.value)}catch(N){f(_,"throw",N)}if("object"==typeof x&&x&&u(p,x))return x}return new g(!1)}},2674:function(t,e,n){"use strict";n.d(e,{r:function(){return ae}});n(4114),n(8111),n(1701);var i=n(3757);function r(t,e={}){if(null!=t.bbox&&!0!==e.recompute)return t.bbox;const n=[1/0,1/0,-1/0,-1/0];return(0,i.Fh)(t,(t=>{n[0]>t[0]&&(n[0]=t[0]),n[1]>t[1]&&(n[1]=t[1]),n[2]<t[0]&&(n[2]=t[0]),n[3]<t[1]&&(n[3]=t[1])})),n}var s=n(1423);function o(t,e={}){const n=r(t),i=(n[0]+n[2])/2,o=(n[1]+n[3])/2;return(0,s.zx)([i,o],e.properties,e)}var a=n(5577);function l(){return new u}function u(){this.reset()}u.prototype={constructor:u,reset:function(){this.s=this.t=0},add:function(t){c(h,t,this.t),c(this,h.s,this.s),this.s?this.t+=h.t:this.s=h.t},valueOf:function(){return this.s}};var h=new u;function c(t,e,n){var i=t.s=e+n,r=i-e,s=i-r;t.t=e-s+(n-r)}var f=1e-6,d=Math.PI,g=d/2,p=d/4,_=2*d,v=180/d,y=d/180,m=Math.abs,x=Math.atan,E=Math.atan2,w=Math.cos,S=(Math.ceil,Math.exp),C=(Math.floor,Math.log),I=(Math.pow,Math.sin),k=(Math.sign,Math.sqrt),T=Math.tan;function b(t){return t>1?0:t<-1?d:Math.acos(t)}function R(t){return t>1?g:t<-1?-g:Math.asin(t)}function A(){}function N(t,e){t&&L.hasOwnProperty(t.type)&&L[t.type](t,e)}var O={Feature:function(t,e){N(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,i=-1,r=n.length;while(++i<r)N(n[i].geometry,e)}},L={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){M(t.coordinates,e,0)},MultiLineString:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)M(n[i],e,0)},Polygon:function(t,e){P(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)P(n[i],e)},GeometryCollection:function(t,e){var n=t.geometries,i=-1,r=n.length;while(++i<r)N(n[i],e)}};function M(t,e,n){var i,r=-1,s=t.length-n;e.lineStart();while(++r<s)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function P(t,e){var n=-1,i=t.length;e.polygonStart();while(++n<i)M(t[n],e,1);e.polygonEnd()}function D(t,e){t&&O.hasOwnProperty(t.type)?O[t.type](t,e):N(t,e)}l(),l();function F(t){return[E(t[1],t[0]),R(t[2])]}function G(t){var e=t[0],n=t[1],i=w(n);return[i*w(e),i*I(e),I(n)]}function z(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Y(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function q(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function B(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function j(t){var e=k(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}l();function X(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function U(t,e){return[t>d?t-_:t<-d?t+_:t,e]}function V(t,e,n){return(t%=_)?e||n?X(K(t),H(e,n)):K(t):e||n?H(e,n):U}function W(t){return function(e,n){return e+=t,[e>d?e-_:e<-d?e+_:e,n]}}function K(t){var e=W(t);return e.invert=W(-t),e}function H(t,e){var n=w(t),i=I(t),r=w(e),s=I(e);function o(t,e){var o=w(e),a=w(t)*o,l=I(t)*o,u=I(e),h=u*n+a*i;return[E(l*r-h*s,a*n-u*i),R(h*r+l*s)]}return o.invert=function(t,e){var o=w(e),a=w(t)*o,l=I(t)*o,u=I(e),h=u*r-l*s;return[E(l*r+u*s,a*n+h*i),R(h*n-a*i)]},o}function $(t,e,n,i,r,s){if(n){var o=w(e),a=I(e),l=i*n;null==r?(r=e+i*_,s=e-l/2):(r=Z(o,r),s=Z(o,s),(i>0?r<s:r>s)&&(r+=i*_));for(var u,h=r;i>0?h>s:h<s;h-=l)u=F([o,-a*w(h),-a*I(h)]),t.point(u[0],u[1])}}function Z(t,e){e=G(e),e[0]-=t,j(e);var n=b(-e[1]);return((-e[2]<0?-n:n)+_-f)%_}function J(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:A,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Q(t,e,n,i,r,s){var o,a=t[0],l=t[1],u=e[0],h=e[1],c=0,f=1,d=u-a,g=h-l;if(o=n-a,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>c&&(c=o)}if(o=r-a,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<f&&(f=o)}if(o=i-l,g||!(o>0)){if(o/=g,g<0){if(o<c)return;o<f&&(f=o)}else if(g>0){if(o>f)return;o>c&&(c=o)}if(o=s-l,g||!(o<0)){if(o/=g,g<0){if(o>f)return;o>c&&(c=o)}else if(g>0){if(o<c)return;o<f&&(f=o)}return c>0&&(t[0]=a+c*d,t[1]=l+c*g),f<1&&(e[0]=a+f*d,e[1]=l+f*g),!0}}}}}U.invert=U;n(7588);function tt(t,e){return m(t[0]-e[0])<f&&m(t[1]-e[1])<f}function et(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function nt(t,e,n,i,r){var s,o,a=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],o=t[e];if(tt(i,o)){for(r.lineStart(),s=0;s<e;++s)r.point((i=t[s])[0],i[1]);r.lineEnd()}else a.push(n=new et(i,t,null,!0)),l.push(n.o=new et(i,null,n,!1)),a.push(n=new et(o,t,null,!1)),l.push(n.o=new et(o,null,n,!0))}})),a.length){for(l.sort(e),it(a),it(l),s=0,o=l.length;s<o;++s)l[s].e=n=!n;var u,h,c=a[0];while(1){var f=c,d=!0;while(f.v)if((f=f.n)===c)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,o=u.length;s<o;++s)r.point((h=u[s])[0],h[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(d)for(u=f.p.z,s=u.length-1;s>=0;--s)r.point((h=u[s])[0],h[1]);else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,u=f.z,d=!d}while(!f.v);r.lineEnd()}}}function it(t){if(e=t.length){var e,n,i=0,r=t[0];while(++i<e)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function rt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function st(t){return 1===t.length&&(t=ot(t)),{left:function(e,n,i,r){null==i&&(i=0),null==r&&(r=e.length);while(i<r){var s=i+r>>>1;t(e[s],n)<0?i=s+1:r=s}return i},right:function(e,n,i,r){null==i&&(i=0),null==r&&(r=e.length);while(i<r){var s=i+r>>>1;t(e[s],n)>0?r=s:i=s+1}return i}}}function ot(t){return function(e,n){return rt(t(e),n)}}var at=st(rt),lt=(at.right,at.left,Array.prototype);lt.slice,lt.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function ut(t){var e,n,i,r=t.length,s=-1,o=0;while(++s<r)o+=t[s].length;n=new Array(o);while(--r>=0){i=t[r],e=i.length;while(--e>=0)n[--o]=i[e]}return n}var ht=1e9,ct=-ht;function ft(t,e,n,i){function r(r,s){return t<=r&&r<=n&&e<=s&&s<=i}function s(r,s,a,u){var h=0,c=0;if(null==r||(h=o(r,a))!==(c=o(s,a))||l(r,s)<0^a>0)do{u.point(0===h||3===h?t:n,h>1?i:e)}while((h=(h+a+4)%4)!==c);else u.point(s[0],s[1])}function o(i,r){return m(i[0]-t)<f?r>0?0:3:m(i[0]-n)<f?r>0?2:1:m(i[1]-e)<f?r>0?1:0:r>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=o(t,1),i=o(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var l,u,h,c,f,d,g,p,_,v,y,m=o,x=J(),E={point:w,lineStart:k,lineEnd:T,polygonStart:C,polygonEnd:I};function w(t,e){r(t,e)&&m.point(t,e)}function S(){for(var e=0,n=0,r=u.length;n<r;++n)for(var s,o,a=u[n],l=1,h=a.length,c=a[0],f=c[0],d=c[1];l<h;++l)s=f,o=d,c=a[l],f=c[0],d=c[1],o<=i?d>i&&(f-s)*(i-o)>(d-o)*(t-s)&&++e:d<=i&&(f-s)*(i-o)<(d-o)*(t-s)&&--e;return e}function C(){m=x,l=[],u=[],y=!0}function I(){var t=S(),e=y&&t,n=(l=ut(l)).length;(e||n)&&(o.polygonStart(),e&&(o.lineStart(),s(null,null,1,o),o.lineEnd()),n&&nt(l,a,t,s,o),o.polygonEnd()),m=o,l=u=h=null}function k(){E.point=b,u&&u.push(h=[]),v=!0,_=!1,g=p=NaN}function T(){l&&(b(c,f),d&&_&&x.rejoin(),l.push(x.result())),E.point=w,_&&m.lineEnd()}function b(s,o){var a=r(s,o);if(u&&h.push([s,o]),v)c=s,f=o,d=a,v=!1,a&&(m.lineStart(),m.point(s,o));else if(a&&_)m.point(s,o);else{var l=[g=Math.max(ct,Math.min(ht,g)),p=Math.max(ct,Math.min(ht,p))],x=[s=Math.max(ct,Math.min(ht,s)),o=Math.max(ct,Math.min(ht,o))];Q(l,x,t,e,n,i)?(_||(m.lineStart(),m.point(l[0],l[1])),m.point(x[0],x[1]),a||m.lineEnd(),y=!1):a&&(m.lineStart(),m.point(s,o),y=!1)}g=s,p=o,_=a}return E}}var dt=l();function gt(t,e){var n=e[0],i=e[1],r=[I(n),-w(n),0],s=0,o=0;dt.reset();for(var a=0,l=t.length;a<l;++a)if(h=(u=t[a]).length)for(var u,h,c=u[h-1],g=c[0],v=c[1]/2+p,y=I(v),m=w(v),x=0;x<h;++x,g=C,y=T,m=b,c=S){var S=u[x],C=S[0],k=S[1]/2+p,T=I(k),b=w(k),A=C-g,N=A>=0?1:-1,O=N*A,L=O>d,M=y*T;if(dt.add(E(M*N*I(O),m*b+M*w(O))),s+=L?A+N*_:A,L^g>=n^C>=n){var P=Y(G(c),G(S));j(P);var D=Y(r,P);j(D);var F=(L^A>=0?-1:1)*R(D[2]);(i>F||i===F&&(P[0]||P[1]))&&(o+=L^A>=0?1:-1)}}return(s<-f||s<f&&dt<-f)^1&o}l();n(2489);l(),l();var pt=1/0,_t=pt,vt=-pt,yt=vt,mt={point:xt,lineStart:A,lineEnd:A,polygonStart:A,polygonEnd:A,result:function(){var t=[[pt,_t],[vt,yt]];return vt=yt=-(_t=pt=1/0),t}};function xt(t,e){t<pt&&(pt=t),t>vt&&(vt=t),e<_t&&(_t=e),e>yt&&(yt=e)}var Et=mt;function wt(t){this._context=t}wt.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,_);break}},result:A};l();function St(){this._string=[]}function Ct(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function It(t,e,n,i){return function(r,s){var o,a,l,u=e(s),h=r.invert(i[0],i[1]),c=J(),f=e(c),d=!1,g={point:p,lineStart:v,lineEnd:y,polygonStart:function(){g.point=m,g.lineStart=x,g.lineEnd=E,a=[],o=[]},polygonEnd:function(){g.point=p,g.lineStart=v,g.lineEnd=y,a=ut(a);var t=gt(o,h);a.length?(d||(s.polygonStart(),d=!0),nt(a,Tt,t,n,s)):t&&(d||(s.polygonStart(),d=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),d&&(s.polygonEnd(),d=!1),a=o=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function p(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&s.point(e,n)}function _(t,e){var n=r(t,e);u.point(n[0],n[1])}function v(){g.point=_,u.lineStart()}function y(){g.point=p,u.lineEnd()}function m(t,e){l.push([t,e]);var n=r(t,e);f.point(n[0],n[1])}function x(){f.lineStart(),l=[]}function E(){m(l[0][0],l[0][1]),f.lineEnd();var t,e,n,i,r=f.clean(),u=c.result(),h=u.length;if(l.pop(),o.push(l),l=null,h)if(1&r){if(n=u[0],(e=n.length-1)>0){for(d||(s.polygonStart(),d=!0),s.lineStart(),t=0;t<e;++t)s.point((i=n[t])[0],i[1]);s.lineEnd()}}else h>1&&2&r&&u.push(u.pop().concat(u.shift())),a.push(u.filter(kt))}return g}}function kt(t){return t.length>1}function Tt(t,e){return((t=t.x)[0]<0?t[1]-g-f:g-t[1])-((e=e.x)[0]<0?e[1]-g-f:g-e[1])}St.prototype={_radius:4.5,_circle:Ct(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Ct(this._radius)),this._string.push("M",t,",",e,this._circle);break}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var bt=It((function(){return!0}),Rt,Nt,[-d,-g]);function Rt(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(s,o){var a=s>0?d:-d,l=m(s-n);m(l-d)<f?(t.point(n,i=(i+o)/2>0?g:-g),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(s,i),e=0):r!==a&&l>=d&&(m(n-r)<f&&(n-=r*f),m(s-a)<f&&(s-=a*f),i=At(n,i,s,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=s,i=o),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function At(t,e,n,i){var r,s,o=I(t-n);return m(o)>f?x((I(e)*(s=w(i))*I(n)-I(i)*(r=w(e))*I(t))/(r*s*o)):(e+i)/2}function Nt(t,e,n,i){var r;if(null==t)r=n*g,i.point(-d,r),i.point(0,r),i.point(d,r),i.point(d,0),i.point(d,-r),i.point(0,-r),i.point(-d,-r),i.point(-d,0),i.point(-d,r);else if(m(t[0]-e[0])>f){var s=t[0]<e[0]?d:-d;r=n*s/2,i.point(-s,r),i.point(0,r),i.point(s,r)}else i.point(e[0],e[1])}function Ot(t,e){var n=w(t),i=n>0,r=m(n)>f;function s(n,i,r,s){$(s,t,e,r,n,i)}function o(t,e){return w(t)*w(e)>n}function a(t){var e,n,s,a,h;return{lineStart:function(){a=s=!1,h=1},point:function(c,g){var p,_=[c,g],v=o(c,g),y=i?v?0:u(c,g):v?u(c+(c<0?d:-d),g):0;if(!e&&(a=s=v)&&t.lineStart(),v!==s&&(p=l(e,_),(!p||tt(e,p)||tt(_,p))&&(_[0]+=f,_[1]+=f,v=o(_[0],_[1]))),v!==s)h=0,v?(t.lineStart(),p=l(_,e),t.point(p[0],p[1])):(p=l(e,_),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(r&&e&&i^v){var m;y&n||!(m=l(_,e,!0))||(h=0,i?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!v||e&&tt(e,_)||t.point(_[0],_[1]),e=_,s=v,n=y},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return h|(a&&s)<<1}}}function l(t,e,i){var r=G(t),s=G(e),o=[1,0,0],a=Y(r,s),l=z(a,a),u=a[0],h=l-u*u;if(!h)return!i&&t;var c=n*l/h,g=-n*u/h,p=Y(o,a),_=B(o,c),v=B(a,g);q(_,v);var y=p,x=z(_,y),E=z(y,y),w=x*x-E*(z(_,_)-1);if(!(w<0)){var S=k(w),C=B(y,(-x-S)/E);if(q(C,_),C=F(C),!i)return C;var I,T=t[0],b=e[0],R=t[1],A=e[1];b<T&&(I=T,T=b,b=I);var N=b-T,O=m(N-d)<f,L=O||N<f;if(!O&&A<R&&(I=R,R=A,A=I),L?O?R+A>0^C[1]<(m(C[0]-T)<f?R:A):R<=C[1]&&C[1]<=A:N>d^(T<=C[0]&&C[0]<=b)){var M=B(y,(-x+S)/E);return q(M,_),[C,F(M)]}}}function u(e,n){var r=i?t:d-t,s=0;return e<-r?s|=1:e>r&&(s|=2),n<-r?s|=4:n>r&&(s|=8),s}return It(o,a,s,i?[0,-t]:[-d,t-d])}function Lt(t){return t}function Mt(t){return function(e){var n=new Pt;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Pt(){}function Dt(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],s=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=s&&t.clipExtent(null),D(n,t.stream(Et));var o=Et.result(),a=Math.min(i/(o[1][0]-o[0][0]),r/(o[1][1]-o[0][1])),l=+e[0][0]+(i-a*(o[1][0]+o[0][0]))/2,u=+e[0][1]+(r-a*(o[1][1]+o[0][1]))/2;return null!=s&&t.clipExtent(s),t.scale(150*a).translate([l,u])}function Ft(t,e,n){return Dt(t,[[0,0],e],n)}Pt.prototype={constructor:Pt,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Gt=16,zt=w(30*y);function Yt(t,e){return+e?Bt(t,e):qt(t)}function qt(t){return Mt({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Bt(t,e){function n(i,r,s,o,a,l,u,h,c,d,g,p,_,v){var y=u-i,x=h-r,w=y*y+x*x;if(w>4*e&&_--){var S=o+d,C=a+g,I=l+p,T=k(S*S+C*C+I*I),b=R(I/=T),A=m(m(I)-1)<f||m(s-c)<f?(s+c)/2:E(C,S),N=t(A,b),O=N[0],L=N[1],M=O-i,P=L-r,D=x*M-y*P;(D*D/w>e||m((y*M+x*P)/w-.5)>.3||o*d+a*g+l*p<zt)&&(n(i,r,s,o,a,l,O,L,A,S/=T,C/=T,I,_,v),v.point(O,L),n(O,L,A,S,C,I,u,h,c,d,g,p,_,v))}}return function(e){var i,r,s,o,a,l,u,h,c,f,d,g,p={point:_,lineStart:v,lineEnd:m,polygonStart:function(){e.polygonStart(),p.lineStart=x},polygonEnd:function(){e.polygonEnd(),p.lineStart=v}};function _(n,i){n=t(n,i),e.point(n[0],n[1])}function v(){h=NaN,p.point=y,e.lineStart()}function y(i,r){var s=G([i,r]),o=t(i,r);n(h,c,u,f,d,g,h=o[0],c=o[1],u=i,f=s[0],d=s[1],g=s[2],Gt,e),e.point(h,c)}function m(){p.point=_,e.lineEnd()}function x(){v(),p.point=E,p.lineEnd=w}function E(t,e){y(i=t,e),r=h,s=c,o=f,a=d,l=g,p.point=y}function w(){n(h,c,u,f,d,g,r,s,i,o,a,l,Gt,e),p.lineEnd=m,m()}return p}}var jt=Mt({point:function(t,e){this.stream.point(t*y,e*y)}});function Xt(t){return Ut((function(){return t}))()}function Ut(t){var e,n,i,r,s,o,a,l,u,h,c=150,f=480,d=250,g=0,p=0,_=0,m=0,x=0,E=null,w=bt,S=null,C=Lt,I=.5,T=Yt(A,I);function b(t){return t=s(t[0]*y,t[1]*y),[t[0]*c+n,i-t[1]*c]}function R(t){return t=s.invert((t[0]-n)/c,(i-t[1])/c),t&&[t[0]*v,t[1]*v]}function A(t,r){return t=e(t,r),[t[0]*c+n,i-t[1]*c]}function N(){s=X(r=V(_,m,x),e);var t=e(g,p);return n=f-t[0]*c,i=d+t[1]*c,O()}function O(){return u=h=null,b}return b.stream=function(t){return u&&h===t?u:u=jt(w(r,T(C(h=t))))},b.clipAngle=function(t){return arguments.length?(w=+t?Ot(E=t*y,6*y):(E=null,bt),O()):E*v},b.clipExtent=function(t){return arguments.length?(C=null==t?(S=o=a=l=null,Lt):ft(S=+t[0][0],o=+t[0][1],a=+t[1][0],l=+t[1][1]),O()):null==S?null:[[S,o],[a,l]]},b.scale=function(t){return arguments.length?(c=+t,N()):c},b.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],N()):[f,d]},b.center=function(t){return arguments.length?(g=t[0]%360*y,p=t[1]%360*y,N()):[g*v,p*v]},b.rotate=function(t){return arguments.length?(_=t[0]%360*y,m=t[1]%360*y,x=t.length>2?t[2]%360*y:0,N()):[_*v,m*v,x*v]},b.precision=function(t){return arguments.length?(T=Yt(A,I=t*t),O()):k(I)},b.fitExtent=function(t,e){return Dt(b,t,e)},b.fitSize=function(t,e){return Ft(b,t,e)},function(){return e=t.apply(this,arguments),b.invert=e.invert&&R,N()}}function Vt(t){return function(e,n){var i=w(e),r=w(n),s=t(i*r);return[s*r*I(e),s*I(n)]}}function Wt(t){return function(e,n){var i=k(e*e+n*n),r=t(i),s=I(r),o=w(r);return[E(e*s,i*o),R(i&&n*s/i)]}}var Kt=Vt((function(t){return k(2/(1+t))}));Kt.invert=Wt((function(t){return 2*R(t/2)}));var Ht=Vt((function(t){return(t=b(t))&&t/I(t)}));function $t(){return Xt(Ht).scale(79.4188).clipAngle(179.999)}function Zt(t,e){return[t,C(T((g+e)/2))]}function Jt(t,e){return[t,e]}function Qt(t,e){var n=w(e),i=w(t)*n;return[n*I(t)/i,I(e)/i]}function te(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function ee(t,e){return[w(e)*I(t),I(e)]}function ne(t,e){var n=w(e),i=1+w(t)*n;return[n*I(t)/i,I(e)/i]}function ie(t,e){return[C(T((g+e)/2)),-t]}Ht.invert=Wt((function(t){return t})),Zt.invert=function(t,e){return[t,2*x(S(e))-g]},Jt.invert=Jt,Qt.invert=Wt(x),te.invert=function(t,e){var n,i=e,r=25;do{var s=i*i,o=s*s;i-=n=(i*(1.007226+s*(.015085+o*(.028874*s-.044475-.005916*o)))-e)/(1.007226+s*(.045255+o*(.259866*s-.311325-.005916*11*o)))}while(m(n)>f&&--r>0);return[t/(.8707+(s=i*i)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),i]},ee.invert=Wt(R),ne.invert=Wt((function(t){return 2*x(t)})),ie.invert=function(t,e){return[-e,2*x(S(t))-g]};var{BufferOp:re,GeoJSONReader:se,GeoJSONWriter:oe}=a;function ae(t,e,n){n=n||{};var r=n.units||"kilometers",o=n.steps||8;if(!t)throw new Error("geojson is required");if("object"!==typeof n)throw new Error("options must be an object");if("number"!==typeof o)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(o<=0)throw new Error("steps must be greater than 0");var a=[];switch(t.type){case"GeometryCollection":return(0,i.kX)(t,(function(t){var n=le(t,e,r,o);n&&a.push(n)})),(0,s.Lr)(a);case"FeatureCollection":return(0,i.us)(t,(function(t){var n=le(t,e,r,o);n&&(0,i.us)(n,(function(t){t&&a.push(t)}))})),(0,s.Lr)(a)}return le(t,e,r,o)}function le(t,e,n,r){var o=t.properties||{},a="Feature"===t.type?t.geometry:t;if("GeometryCollection"===a.type){var l=[];return(0,i.kX)(t,(function(t){var i=le(t,e,n,r);i&&l.push(i)})),(0,s.Lr)(l)}var u=fe(a),h={type:a.type,coordinates:he(a.coordinates,u)},c=new se,f=c.read(h),d=(0,s.cJ)((0,s.Gf)(e,n),"meters"),g=re.bufferOp(f,d,r),p=new oe;if(g=p.write(g),!ue(g.coordinates)){var _={type:g.type,coordinates:ce(g.coordinates,u)};return(0,s.N4)(_,o)}}function ue(t){return Array.isArray(t[0])?ue(t[0]):isNaN(t[0])}function he(t,e){return"object"!==typeof t[0]?e(t):t.map((function(t){return he(t,e)}))}function ce(t,e){return"object"!==typeof t[0]?e.invert(t):t.map((function(t){return ce(t,e)}))}function fe(t){var e=o(t).geometry.coordinates,n=[-e[0],-e[1]];return $t().rotate(n).scale(s.zX)}},2686:function(t,e){"use strict";e.A={ADD:"add",REMOVE:"remove"}},2777:function(t,e,n){"use strict";var i=n(9565),r=n(34),s=n(757),o=n(5966),a=n(4270),l=n(8227),u=TypeError,h=l("toPrimitive");t.exports=function(t,e){if(!r(t)||s(t))return t;var n,l=o(t,h);if(l){if(void 0===e&&(e="default"),n=i(l,t,e),!r(n)||s(n))return n;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},2787:function(t,e,n){"use strict";var i=n(9297),r=n(4901),s=n(8981),o=n(6119),a=n(2211),l=o("IE_PROTO"),u=Object,h=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=s(t);if(i(e,l))return e[l];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof u?h:null}},2796:function(t,e,n){"use strict";var i=n(9039),r=n(4901),s=/#|\.prototype\./,o=function(t,e){var n=l[a(t)];return n===h||n!==u&&(r(e)?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},l=o.data={},u=o.NATIVE="N",h=o.POLYFILL="P";t.exports=o},2812:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},2839:function(t,e,n){"use strict";var i=n(4576),r=i.navigator,s=r&&r.userAgent;t.exports=s?String(s):""},3077:function(t,e,n){"use strict";var i=n(3851),r=n(7444),s=n(9331),o=n(8298),a=n(7689),l=n(5572),u=n(1853),h=n(3344),c=n(3371),f=n(9449),d=n(1194);const g=(0,d.vt)();class p{constructor(t,e,n,i,r,s){this.styleFunction,this.extent_,this.id_=s,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n||null,this.properties_=r,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,r.dP)(this.flatCoordinates_):(0,r.Vy)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=(0,r.q1)(this.getExtent());this.flatInteriorPoints_=(0,a.J)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=(0,u.yJ)(this.flatCoordinates_,this.ends_),e=(0,o.C)(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=(0,a.p)(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=(0,l.SH)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const n=this.ends_;for(let r=0,s=n.length;r<s;++r){const s=n[r],o=(0,l.SH)(t,e,s,2,.5);(0,i.X$)(this.flatMidpoints_,o),e=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=(0,f.Jt)(t);const e=t.getExtent(),n=t.getWorldExtent();if(e&&n){const t=(0,r.Oq)(n)/(0,r.Oq)(e);(0,d.Zz)(g,n[0],n[3],t,-t,0,0,0),(0,c.Rc)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,g,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new p(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=(0,s.B4)(((t,e)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const n=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":n.length=(0,h.P4)(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,n,0),i=[n.length];break;case"MultiLineString":i=[],n.length=(0,h.AL)(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,n,0,i);break;case"Polygon":i=[],n.length=(0,h.Hg)(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),n,0,i);break;default:}return i&&(this.simplifiedGeometry_=new p(this.type_,n,i,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_})),this}}p.prototype.getFlatCoordinates=p.prototype.getOrientedFlatCoordinates,e.Ay=p},3156:function(t,e,n){"use strict";var i=n(7582);e.A={SINGLECLICK:"singleclick",CLICK:i.A.CLICK,DBLCLICK:i.A.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},3277:function(t,e,n){"use strict";n.d(e,{R3:function(){return a},UG:function(){return u},Yf:function(){return s}});var i=n(5674);const r=6371008.8;function s(t,e,n){n=n||r;const s=(0,i.eh)(t[1]),o=(0,i.eh)(e[1]),a=(o-s)/2,l=(0,i.eh)(e[0]-t[0])/2,u=Math.sin(a)*Math.sin(a)+Math.sin(l)*Math.sin(l)*Math.cos(s)*Math.cos(o);return 2*n*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function o(t,e){let n=0;for(let i=0,r=t.length;i<r-1;++i)n+=s(t[i],t[i+1],e);return n}function a(t,e){e=e||{};const n=e.radius||r,i=e.projection||"EPSG:3857",s=t.getType();"GeometryCollection"!==s&&(t=t.clone().transform(i,"EPSG:4326"));let l,u,h,c,f,d,g=0;switch(s){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":l=t.getCoordinates(),g=o(l,n);break;case"MultiLineString":case"Polygon":for(l=t.getCoordinates(),h=0,c=l.length;h<c;++h)g+=o(l[h],n);break;case"MultiPolygon":for(l=t.getCoordinates(),h=0,c=l.length;h<c;++h)for(u=l[h],f=0,d=u.length;f<d;++f)g+=o(u[f],n);break;case"GeometryCollection":{const n=t.getGeometries();for(h=0,c=n.length;h<c;++h)g+=a(n[h],e);break}default:throw new Error("Unsupported geometry type: "+s)}return g}function l(t,e){let n=0;const r=t.length;let s=t[r-1][0],o=t[r-1][1];for(let a=0;a<r;a++){const e=t[a][0],r=t[a][1];n+=(0,i.eh)(e-s)*(2+Math.sin((0,i.eh)(o))+Math.sin((0,i.eh)(r))),s=e,o=r}return n*e*e/2}function u(t,e){e=e||{};const n=e.radius||r,i=e.projection||"EPSG:3857",s=t.getType();"GeometryCollection"!==s&&(t=t.clone().transform(i,"EPSG:4326"));let o,a,h,c,f,d,g=0;switch(s){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(o=t.getCoordinates(),g=Math.abs(l(o[0],n)),h=1,c=o.length;h<c;++h)g-=Math.abs(l(o[h],n));break;case"MultiPolygon":for(o=t.getCoordinates(),h=0,c=o.length;h<c;++h)for(a=o[h],g+=Math.abs(l(a[0],n)),f=1,d=a.length;f<d;++f)g-=Math.abs(l(a[f],n));break;case"GeometryCollection":{const n=t.getGeometries();for(h=0,c=n.length;h<c;++h)g+=u(n[h],e);break}default:throw new Error("Unsupported geometry type: "+s)}return g}},3344:function(t,e,n){"use strict";n.d(e,{AL:function(){return s},Hg:function(){return l},P4:function(){return r},n$:function(){return o},sx:function(){return u}});n(4114);var i=n(5674);function r(t,e,n,r,s,o,a){const l=(n-e)/r;if(l<3){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}const u=new Array(l);u[0]=1,u[l-1]=1;const h=[e,n-r];let c=0;while(h.length>0){const n=h.pop(),o=h.pop();let a=0;const l=t[o],f=t[o+1],d=t[n],g=t[n+1];for(let e=o+r;e<n;e+=r){const n=t[e],r=t[e+1],s=(0,i.Q1)(n,r,l,f,d,g);s>a&&(c=e,a=s)}a>s&&(u[(c-e)/r]=1,o+r<c&&h.push(o,c),c+r<n&&h.push(c,n))}for(let i=0;i<l;++i)u[i]&&(o[a++]=t[e+i*r],o[a++]=t[e+i*r+1]);return a}function s(t,e,n,i,s,o,a,l){for(let u=0,h=n.length;u<h;++u){const h=n[u];a=r(t,e,h,i,s,o,a),l.push(a),e=h}return a}function o(t,e){return e*Math.round(t/e)}function a(t,e,n,i,r,s,a){if(e==n)return a;let l,u,h=o(t[e],r),c=o(t[e+1],r);e+=i,s[a++]=h,s[a++]=c;do{if(l=o(t[e],r),u=o(t[e+1],r),e+=i,e==n)return s[a++]=l,s[a++]=u,a}while(l==h&&u==c);while(e<n){const n=o(t[e],r),f=o(t[e+1],r);if(e+=i,n==l&&f==u)continue;const d=l-h,g=u-c,p=n-h,_=f-c;d*_==g*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(g<0&&_<g||g==_||g>0&&_>g)?(l=n,u=f):(s[a++]=l,s[a++]=u,h=l,c=u,l=n,u=f)}return s[a++]=l,s[a++]=u,a}function l(t,e,n,i,r,s,o,l){for(let u=0,h=n.length;u<h;++u){const h=n[u];o=a(t,e,h,i,r,s,o),l.push(o),e=h}return o}function u(t,e,n,i,r,s,o,a){for(let u=0,h=n.length;u<h;++u){const h=n[u],c=[];o=l(t,e,h,i,r,s,o,c),a.push(c),e=h[h.length-1]}return o}},3369:function(t,e,n){"use strict";n.d(e,{K:function(){return o}});n(4114);var i=n(2310),r=n(1423),s=n(3757);function o(t,e={}){const n=[];if((0,s.kX)(t,(t=>{n.push(t.coordinates)})),n.length<2)throw new Error("Must have at least 2 geometries");const o=i.KC(n[0],...n.slice(1));return 0===o.length?null:1===o.length?(0,r.n1)(o[0],e.properties):(0,r.g5)(o,e.properties)}},3371:function(t,e,n){"use strict";function i(t,e,n,i,r,s,o){s=s||[],o=o||2;let a=0;for(let l=e;l<n;l+=i){const e=t[l],n=t[l+1];s[a++]=r[0]*e+r[2]*n+r[4],s[a++]=r[1]*e+r[3]*n+r[5];for(let i=2;i<o;i++)s[a++]=t[l+i]}return s&&s.length!=a&&(s.length=a),s}function r(t,e,n,i,r,s,o){o=o||[];const a=Math.cos(r),l=Math.sin(r),u=s[0],h=s[1];let c=0;for(let f=e;f<n;f+=i){const e=t[f]-u,n=t[f+1]-h;o[c++]=u+e*a-n*l,o[c++]=h+e*l+n*a;for(let r=f+2;r<f+i;++r)o[c++]=t[r]}return o&&o.length!=c&&(o.length=c),o}function s(t,e,n,i,r,s,o,a){a=a||[];const l=o[0],u=o[1];let h=0;for(let c=e;c<n;c+=i){const e=t[c]-l,n=t[c+1]-u;a[h++]=l+r*e,a[h++]=u+s*n;for(let r=c+2;r<c+i;++r)a[h++]=t[r]}return a&&a.length!=h&&(a.length=h),a}function o(t,e,n,i,r,s,o){o=o||[];let a=0;for(let l=e;l<n;l+=i){o[a++]=t[l]+r,o[a++]=t[l+1]+s;for(let e=l+2;e<l+i;++e)o[a++]=t[e]}return o&&o.length!=a&&(o.length=a),o}n.d(e,{Rc:function(){return i},Tl:function(){return o},e$:function(){return r},hs:function(){return s}})},3392:function(t,e,n){"use strict";var i=n(9504),r=0,s=Math.random(),o=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++r+s,36)}},3437:function(t,e,n){"use strict";var i=n(1611),r=n(9449);class s extends i.A{constructor(t){super(),this.projection=(0,r.Jt)(t.projection),this.attributions_=o(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,n){e.viewResolver=t,e.viewRejector=n}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=o(t),this.changed()}setState(t){this.state_=t,this.changed()}}function o(t){return t?"function"===typeof t?t:(Array.isArray(t)||(t=[t]),e=>t):null}e.A=s},3440:function(t,e,n){"use strict";var i=n(7080),r=n(4402),s=n(9286),o=n(5170),a=n(3789),l=n(8469),u=n(507),h=r.has,c=r.remove;t.exports=function(t){var e=i(this),n=a(t),r=s(e);return o(e)<=n.size?l(e,(function(t){n.includes(t)&&c(r,t)})):u(n.getIterator(),(function(t){h(e,t)&&c(r,t)})),r}},3471:function(t,e,n){"use strict";var i=n(1611),r=n(7444),s=n(9331),o=n(9449),a=n(1194),l=n(5752),u=n(3371);const h=(0,a.vt)(),c=[NaN,NaN];class f extends i.A{constructor(){super(),this.extent_=(0,r.S5)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=(0,s.B4)(((t,e,n)=>{if(!n)return this.getSimplifiedGeometry(e);const i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)}))}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return(0,l.b0)()}closestPointXY(t,e,n,i){return(0,l.b0)()}containsXY(t,e){return 0===this.closestPointXY(t,e,c,Number.MIN_VALUE)}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return(0,l.b0)()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&(0,r.aZ)(t),this.extentRevision_=this.getRevision()}return(0,r.$u)(this.extent_,t)}rotate(t,e){(0,l.b0)()}scale(t,e,n){(0,l.b0)()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return(0,l.b0)()}getType(){return(0,l.b0)()}applyTransform(t){(0,l.b0)()}intersectsExtent(t){return(0,l.b0)()}translate(t,e){(0,l.b0)()}transform(t,e){const n=(0,o.Jt)(t),i="tile-pixels"==n.getUnits()?function(t,i,s){const l=n.getExtent(),c=n.getWorldExtent(),f=(0,r.Oq)(c)/(0,r.Oq)(l);(0,a.Zz)(h,c[0],c[3],f,-f,0,0,0);const d=(0,u.Rc)(t,0,t.length,s,h,i),g=(0,o.RG)(n,e);return g?g(d,d,s):d}:(0,o.RG)(n,e);return this.applyTransform(i),this}}e.A=f},3496:function(t,e,n){"use strict";var i=n(3851),r=n(7444),s=n(3665),o=n(6072),a=n(6320),l=n(4476),u=n(5572),h=n(1814),c=n(5907),f=n(8601),d=n(3344);class g extends s.Ay{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}appendCoordinate(t){(0,i.X$)(this.flatCoordinates,t),this.changed()}clone(){const t=new g(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<(0,r.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,o.MD)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,o.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))}forEachSegment(t){return(0,f.j)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(e=void 0!==e&&e,(0,u.gr)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return(0,l.n2)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return(0,u.SH)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return(0,c.k)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=(0,d.P4)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new g(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return(0,h.gp)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,this.getExtent())}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,a.z2)(this.flatCoordinates,0,t,this.stride),this.changed()}}e.A=g},3525:function(t,e,n){"use strict";n.d(e,{B:function(){return y},A:function(){return w}});var i=n(3851),r=n(713),s=n(7334),o=n(7444),a=n(6355),l=n(3707),u=n(4237),h=n(1194),c=n(1410),f=n(6930),d=n(7582),g=n(5752);const p=5;class _ extends f.A{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=p}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return(0,g.b0)()}getData(t){return null}prepareFrame(t){return(0,g.b0)()}renderFrame(t,e){return(0,g.b0)()}forEachFeatureAtCoordinate(t,e,n,i,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const e=t.target;e.getState()!==c.A.LOADED&&e.getState()!==c.A.ERROR||this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=c.A.LOADED&&e!=c.A.ERROR&&t.addEventListener(d.A.CHANGE,this.boundHandleImageChange_),e==c.A.IDLE&&(t.load(),e=t.getState()),e==c.A.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}var v=_;const y=[];let m=null;function x(){m=(0,s.Y)(1,1,void 0,{willReadFrequently:!0})}class E extends v{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=(0,h.vt)(),this.pixelTransform=(0,h.vt)(),this.inversePixelTransform=(0,h.vt)(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,e,n){let i;m||x(),m.clearRect(0,0,1,1);try{m.drawImage(t,e,n,1,1,0,0,1,1),i=m.getImageData(0,0,1,1).data}catch{return m=null,null}return i}getBackground(t){const e=this.getLayer();let n=e.getBackground();return"function"===typeof n&&(n=n(t.viewState.resolution)),n||void 0}useContainer(t,e,n){const o=this.getLayer().getClassName();let a,l;if(t&&t.className===o&&(!n||t&&t.style.backgroundColor&&(0,i.aI)((0,r._j)(t.style.backgroundColor),(0,r._j)(n)))){const e=t.firstElementChild;e instanceof HTMLCanvasElement&&(l=e.getContext("2d"))}if(l&&(0,h.tI)(l.canvas.style.transform,e)?(this.container=t,this.context=l,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){a=document.createElement("div"),a.className=o;let t=a.style;t.position="absolute",t.width="100%",t.height="100%",l=(0,s.Y)();const e=l.canvas;a.appendChild(e),t=e.style,t.position="absolute",t.left="0",t.transformOrigin="top left",this.container=a,this.context=l}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(t,e,n){const i=(0,o.Py)(n),r=(0,o.WU)(n),s=(0,o.k_)(n),a=(0,o.R)(n);(0,h.Bb)(e.coordinateToPixelTransform,i),(0,h.Bb)(e.coordinateToPixelTransform,r),(0,h.Bb)(e.coordinateToPixelTransform,s),(0,h.Bb)(e.coordinateToPixelTransform,a);const l=this.inversePixelTransform;(0,h.Bb)(l,i),(0,h.Bb)(l,r),(0,h.Bb)(l,s),(0,h.Bb)(l,a),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()}prepareContainer(t,e){const n=t.extent,i=t.viewState.resolution,r=t.viewState.rotation,s=t.pixelRatio,a=Math.round((0,o.RG)(n)/i*s),l=Math.round((0,o.Oq)(n)/i*s);(0,h.Zz)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/s,1/s,r,-a/2,-l/2),(0,h.T9)(this.inversePixelTransform,this.pixelTransform);const u=(0,h.dI)(this.pixelTransform);if(this.useContainer(e,u,this.getBackground(t)),!this.containerReused){const t=this.context.canvas;t.width!=a||t.height!=l?(t.width=a,t.height=l):this.context.clearRect(0,0,a,l),u!==t.style.transform&&(t.style.transform=u)}}dispatchRenderEvent_(t,e,n){const i=this.getLayer();if(i.hasListener(t)){const r=new a.A(t,this.inversePixelTransform,n,e);i.dispatchEvent(r)}}preRender(t,e){this.frameState=e,e.declutter||this.dispatchRenderEvent_(l.A.PRERENDER,t,e)}postRender(t,e){e.declutter||this.dispatchRenderEvent_(l.A.POSTRENDER,t,e)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new u.A),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(l.A.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(l.A.POSTRENDER,this.context,t))}getRenderTransform(t,e,n,i,r,s,o){const a=r/2,l=s/2,u=i/e,c=-u,f=-t[0]+o,d=-t[1];return(0,h.Zz)(this.tempTransform,a,l,u,c,-n,f,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}}var w=E},3579:function(t,e,n){"use strict";var i=n(6518),r=n(9565),s=n(2652),o=n(9306),a=n(8551),l=n(1767),u=n(9539),h=n(4549),c=h("some",TypeError);i({target:"Iterator",proto:!0,real:!0,forced:c},{some:function(t){a(this);try{o(t)}catch(i){u(this,"throw",i)}if(c)return r(c,this,t);var e=l(this),n=0;return s(e,(function(e,i){if(t(e,n++))return i()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},3650:function(t,e,n){"use strict";var i=n(7080),r=n(4402),s=n(9286),o=n(3789),a=n(507),l=r.add,u=r.has,h=r.remove;t.exports=function(t){var e=i(this),n=o(t).getIterator(),r=s(e);return a(n,(function(t){u(e,t)?h(r,t):l(r,t)})),r}},3665:function(t,e,n){"use strict";n.d(e,{dn:function(){return u},p0:function(){return l},v7:function(){return h}});var i=n(7444),r=n(5752),s=n(3471),o=n(3371);class a extends s.A{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return(0,i.Vy)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return(0,r.b0)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t),n=e.getFlatCoordinates();return n.length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=u(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){(0,r.b0)()}setLayout(t,e,n){let i;if(t)i=u(t);else{for(let t=0;t<n;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}i=e.length,t=l(i)}this.layout=t,this.stride=i}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();(0,o.e$)(n,0,n.length,i,t,e,n),this.changed()}}scale(t,e,n){void 0===e&&(e=t),n||(n=(0,i.q1)(this.getExtent()));const r=this.getFlatCoordinates();if(r){const i=this.getStride();(0,o.hs)(r,0,r.length,i,t,e,n,r),this.changed()}}translate(t,e){const n=this.getFlatCoordinates();if(n){const i=this.getStride();(0,o.Tl)(n,0,n.length,i,t,e,n),this.changed()}}}function l(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}function u(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function h(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const r=t.getStride();return(0,o.Rc)(i,0,i.length,r,e,n)}e.Ay=a},3706:function(t,e,n){"use strict";var i=n(9504),r=n(4901),s=n(7629),o=i(Function.toString);r(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},3707:function(t,e){"use strict";e.A={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},3717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},3724:function(t,e,n){"use strict";var i=n(9039);t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3754:function(t,e,n){"use strict";n.d(e,{Ay:function(){return m},VY:function(){return x}});n(4114);var i=n(3851),r=n(7444),s=n(3665),o=n(1522),a=n(6072),l=n(6320),u=n(4476),h=n(3344);class c extends s.Ay{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new c(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,n,i){return i<(0,r.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,a.MD)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,a.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))}getArea(){return(0,o.eN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return(0,u.n2)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=(0,h.P4)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new c(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,l.z2)(this.flatCoordinates,0,t,this.stride),this.changed()}}var f=c,d=n(8225),g=n(8330),p=n(7689),_=n(1814),v=n(1853);class y extends s.Ay{constructor(t,e,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&n?(this.setFlatCoordinates(e,t),this.ends_=n):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?(0,i.X$)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new y(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<(0,r.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,a.HX)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,a.oW)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return(0,g.zb)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return(0,o.PK)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,v.ug)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,u.cD)(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=(0,r.q1)(this.getExtent());this.flatInteriorPoint_=(0,p.J)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new d.A(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new f(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[];let r=0;for(let s=0,o=n.length;s<o;++s){const o=n[s],a=new f(e.slice(r,o),t);i.push(a),r=o}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;(0,v.PA)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,v.ug)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,h.Hg)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new y(e,"XY",n)}getType(){return"Polygon"}intersectsExtent(t){return(0,_.HT)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=(0,l.KG)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}var m=y;function x(t){if((0,r.Im)(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],s=t[3],o=[e,n,e,s,i,s,i,n,e,n];return new y(o,"XY",[o.length])}},3757:function(t,e,n){"use strict";n.d(e,{Fh:function(){return i},jE:function(){return o},kX:function(){return s},us:function(){return r}});n(4114);function i(t,e,n){if(null!==t)for(var r,s,o,a,l,u,h,c,f=0,d=0,g=t.type,p="FeatureCollection"===g,_="Feature"===g,v=p?t.features.length:1,y=0;y<v;y++){h=p?t.features[y].geometry:_?t.geometry:t,c=!!h&&"GeometryCollection"===h.type,l=c?h.geometries.length:1;for(var m=0;m<l;m++){var x=0,E=0;if(a=c?h.geometries[m]:h,null!==a){u=a.coordinates;var w=a.type;switch(f=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(u,d,y,x,E))return!1;d++,x++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===e(u[r],d,y,x,E))return!1;d++,"MultiPoint"===w&&x++}"LineString"===w&&x++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(s=0;s<u[r].length-f;s++){if(!1===e(u[r][s],d,y,x,E))return!1;d++}"MultiLineString"===w&&x++,"Polygon"===w&&E++}"Polygon"===w&&x++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(E=0,s=0;s<u[r].length;s++){for(o=0;o<u[r][s].length-f;o++){if(!1===e(u[r][s][o],d,y,x,E))return!1;d++}E++}x++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===i(a.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function r(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)if(!1===e(t.features[n],n))break}function s(t,e){var n,i,r,s,o,a,l,u,h,c,f=0,d="FeatureCollection"===t.type,g="Feature"===t.type,p=d?t.features.length:1;for(n=0;n<p;n++){for(a=d?t.features[n].geometry:g?t.geometry:t,u=d?t.features[n].properties:g?t.properties:{},h=d?t.features[n].bbox:g?t.bbox:void 0,c=d?t.features[n].id:g?t.id:void 0,l=!!a&&"GeometryCollection"===a.type,o=l?a.geometries.length:1,r=0;r<o;r++)if(s=l?a.geometries[r]:a,null!==s)switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(s,f,u,h,c))return!1;break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===e(s.geometries[i],f,u,h,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,u,h,c))return!1;f++}}function o(t,e,n){var i=n;return s(t,(function(t,r,s,o,a){i=0===r&&void 0===n?t:e(i,t,r,s,o,a)})),i}},3789:function(t,e,n){"use strict";var i=n(9306),r=n(8551),s=n(9565),o=n(1291),a=n(1767),l="Invalid size",u=RangeError,h=TypeError,c=Math.max,f=function(t,e){this.set=t,this.size=c(e,0),this.has=i(t.has),this.keys=i(t.keys)};f.prototype={getIterator:function(){return a(r(s(this.keys,this.set)))},includes:function(t){return s(this.has,this.set,t)}},t.exports=function(t){r(t);var e=+t.size;if(e!==e)throw new h(l);var n=o(e);if(n<0)throw new u(l);return new f(t,n)}},3838:function(t,e,n){"use strict";var i=n(7080),r=n(5170),s=n(8469),o=n(3789);t.exports=function(t){var e=i(this),n=o(t);return!(r(e)>n.size)&&!1!==s(e,(function(t){if(!n.includes(t))return!1}),!0)}},3844:function(t,e,n){"use strict";n(4114);var i=n(2686),r=n(1611),s=n(9078);const o={LENGTH:"length"};class a extends s.Ay{constructor(t,e,n){super(t),this.element=e,this.index=n}}class l extends r.A{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let n=0,i=this.array_.length;n<i;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}clear(){while(this.getLength()>0)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(o.LENGTH)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new a(i.A.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new a(i.A.REMOVE,e,t)),e}setAt(t,e){const n=this.getLength();if(t>=n)return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new a(i.A.REMOVE,r,t)),this.dispatchEvent(new a(i.A.ADD,e,t))}updateLength_(){this.set(o.LENGTH,this.array_.length)}assertUnique_(t,e){for(let n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new Error("Duplicate item added to a unique collection")}}e.A=l},3851:function(t,e,n){"use strict";n.d(e,{El:function(){return i},FT:function(){return o},V_:function(){return r},WC:function(){return h},X$:function(){return l},aI:function(){return u},gI:function(){return a},rG:function(){return s}});n(8111),n(1148);function i(t,e,n){let i,s;n=n||r;let o=0,a=t.length,l=!1;while(o<a)i=o+(a-o>>1),s=+n(t[i],e),s<0?o=i+1:(a=i,l=!s);return l?o:~o}function r(t,e){return t>e?1:t<e?-1:0}function s(t,e){return t<e?1:t>e?-1:0}function o(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if("function"===typeof n){for(let r=1;r<i;++r){const i=t[r];if(i===e)return r;if(i<e)return n(e,t[r-1],i)>0?r-1:r}return i-1}if(n>0){for(let n=1;n<i;++n)if(t[n]<e)return n-1;return i-1}if(n<0){for(let n=1;n<i;++n)if(t[n]<=e)return n;return i-1}for(let r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function a(t,e,n){while(e<n){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function l(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}function u(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function h(t,e,n){const i=e||r;return t.every((function(e,r){if(0===r)return!0;const s=i(t[r-1],e);return!(s>0||n&&0===s)}))}},3853:function(t,e,n){"use strict";var i=n(6518),r=n(4449),s=n(4916),o=!s("isDisjointFrom",(function(t){return!t}));i({target:"Set",proto:!0,real:!0,forced:o},{isDisjointFrom:r})},3998:function(t,e,n){"use strict";n.d(e,{A:function(){return ee}});var i=n(5911),r=(n(4114),n(8111),n(2489),n(713)),s=(n(1701),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(3851)),o=n(5689);let a=0;const l=1<<a++,u=1<<a++,h=1<<a++,c=1<<a++,f=1<<a++,d=1<<a++,g=Math.pow(2,a)-1,p={[l]:"boolean",[u]:"number",[h]:"string",[c]:"color",[f]:"number[]",[d]:"size"},_=Object.keys(p).map(Number).sort(s.V_);function v(t){return t in p}function y(t){const e=[];for(const n of _)m(t,n)&&e.push(p[n]);return 0===e.length?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function m(t,e){return(t&e)===e}function x(t,e){return t===e}class E{constructor(t,e){if(!v(t))throw new Error(`literal expressions must have a specific type, got ${y(t)}`);this.type=t,this.value=e}}class w{constructor(t,e,...n){this.type=t,this.operator=e,this.args=n}}function S(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function C(t,e,n){switch(typeof t){case"boolean":if(x(e,h))return new E(h,t?"true":"false");if(!m(e,l))throw new Error(`got a boolean, but expected ${y(e)}`);return new E(l,t);case"number":if(x(e,d))return new E(d,(0,o.xq)(t));if(x(e,l))return new E(l,!!t);if(x(e,h))return new E(h,t.toString());if(!m(e,u))throw new Error(`got a number, but expected ${y(e)}`);return new E(u,t);case"string":if(x(e,c))return new E(c,(0,r.sH)(t));if(x(e,l))return new E(l,!!t);if(!m(e,h))throw new Error(`got a string, but expected ${y(e)}`);return new E(h,t);default:}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(0===t.length)throw new Error("empty expression");if("string"===typeof t[0])return X(t,e,n);for(const i of t)if("number"!==typeof i)throw new Error("expected an array of numbers");if(x(e,d)){if(2!==t.length)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new E(d,t)}if(x(e,c)){if(3===t.length)return new E(c,[...t,1]);if(4===t.length)return new E(c,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!m(e,f))throw new Error(`got an array of numbers, but expected ${y(e)}`);return new E(f,t)}const I={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},k={[I.Get]:j(L(1,1/0),T),[I.Var]:j(L(1,1),b),[I.Has]:j(L(1,1/0),T),[I.Id]:j(R,O),[I.Concat]:j(L(2,1/0),P(h)),[I.GeometryType]:j(A,O),[I.LineMetric]:j(O),[I.Resolution]:j(N,O),[I.Zoom]:j(N,O),[I.Time]:j(N,O),[I.Any]:j(L(2,1/0),P(l)),[I.All]:j(L(2,1/0),P(l)),[I.Not]:j(L(1,1),P(l)),[I.Equal]:j(L(2,2),P(g)),[I.NotEqual]:j(L(2,2),P(g)),[I.GreaterThan]:j(L(2,2),P(u)),[I.GreaterThanOrEqualTo]:j(L(2,2),P(u)),[I.LessThan]:j(L(2,2),P(u)),[I.LessThanOrEqualTo]:j(L(2,2),P(u)),[I.Multiply]:j(L(2,1/0),M),[I.Coalesce]:j(L(2,1/0),M),[I.Divide]:j(L(2,2),P(u)),[I.Add]:j(L(2,1/0),P(u)),[I.Subtract]:j(L(2,2),P(u)),[I.Clamp]:j(L(3,3),P(u)),[I.Mod]:j(L(2,2),P(u)),[I.Pow]:j(L(2,2),P(u)),[I.Abs]:j(L(1,1),P(u)),[I.Floor]:j(L(1,1),P(u)),[I.Ceil]:j(L(1,1),P(u)),[I.Round]:j(L(1,1),P(u)),[I.Sin]:j(L(1,1),P(u)),[I.Cos]:j(L(1,1),P(u)),[I.Atan]:j(L(1,2),P(u)),[I.Sqrt]:j(L(1,1),P(u)),[I.Match]:j(L(4,1/0),F,G),[I.Between]:j(L(3,3),P(u)),[I.Interpolate]:j(L(6,1/0),F,z),[I.Case]:j(L(3,1/0),D,Y),[I.In]:j(L(2,2),q),[I.Number]:j(L(1,1/0),P(g)),[I.String]:j(L(1,1/0),P(g)),[I.Array]:j(L(1,1/0),P(u)),[I.Color]:j(L(1,4),P(u)),[I.Band]:j(L(1,3),P(u)),[I.Palette]:j(L(2,2),B),[I.ToString]:j(L(1,1),P(l|u|h|c))};function T(t,e,n){const i=t.length-1,r=new Array(i);for(let s=0;s<i;++s){const e=t[s+1];switch(typeof e){case"number":r[s]=new E(u,e);break;case"string":r[s]=new E(h,e);break;default:throw new Error(`expected a string key or numeric array index for a get operation, got ${e}`)}0===s&&n.properties.add(String(e))}return r}function b(t,e,n){const i=t[1];if("string"!==typeof i)throw new Error("expected a string argument for var operation");return n.variables.add(i),[new E(h,i)]}function R(t,e,n){n.featureId=!0}function A(t,e,n){n.geometryType=!0}function N(t,e,n){n.mapState=!0}function O(t,e,n){const i=t[0];if(1!==t.length)throw new Error(`expected no arguments for ${i} operation`);return[]}function L(t,e){return function(n,i,r){const s=n[0],o=n.length-1;if(t===e){if(o!==t){const e=1===t?"":"s";throw new Error(`expected ${t} argument${e} for ${s}, got ${o}`)}}else if(o<t||o>e){const n=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`expected ${n} arguments for ${s}, got ${o}`)}}}function M(t,e,n){const i=t.length-1,r=new Array(i);for(let s=0;s<i;++s){const i=C(t[s+1],e,n);r[s]=i}return r}function P(t){return function(e,n,i){const r=e.length-1,s=new Array(r);for(let o=0;o<r;++o){const n=C(e[o+1],t,i);s[o]=n}return s}}function D(t,e,n){const i=t[0],r=t.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function F(t,e,n){const i=t[0],r=t.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function G(t,e,n){const i=t.length-1,r=h|u|l,s=C(t[1],r,n),o=C(t[t.length-1],e,n),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{const e=C(t[l+2],s.type,n);a[l]=e}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{const e=C(t[l+3],o.type,n);a[l+1]=e}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[s,...a,o]}function z(t,e,n){const i=t[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const t=i[1];if("number"!==typeof t||t<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(t)} instead`);r=t;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const s=new E(u,r);let o;try{o=C(t[2],u,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const a=new Array(t.length-3);for(let h=0;h<a.length;h+=2){try{const e=C(t[h+3],u,n);a[h]=e}catch(l){throw new Error(`failed to parse argument ${h+2} for interpolate expression: ${l.message}`)}try{const i=C(t[h+4],e,n);a[h+1]=i}catch(l){throw new Error(`failed to parse argument ${h+3} for interpolate expression: ${l.message}`)}}return[s,o,...a]}function Y(t,e,n){const i=C(t[t.length-1],e,n),r=new Array(t.length-1);for(let o=0;o<r.length-1;o+=2){try{const e=C(t[o+1],l,n);r[o]=e}catch(s){throw new Error(`failed to parse argument ${o} of case expression: ${s.message}`)}try{const e=C(t[o+2],i.type,n);r[o+1]=e}catch(s){throw new Error(`failed to parse argument ${o+1} of case expression: ${s.message}`)}}return r[r.length-1]=i,r}function q(t,e,n){let i,r=t[2];if(!Array.isArray(r))throw new Error('the second argument for the "in" operator must be an array');if("string"===typeof r[0]){if("literal"!==r[0])throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(r[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');r=r[1],i=h}else i=u;const s=new Array(r.length);for(let l=0;l<s.length;l++)try{const t=C(r[l],i,n);s[l]=t}catch(a){throw new Error(`failed to parse haystack item ${l} for "in" expression: ${a.message}`)}const o=C(t[1],i,n);return[o,...s]}function B(t,e,n){let i;try{i=C(t[1],u,n)}catch(o){throw new Error(`failed to parse first argument in palette expression: ${o.message}`)}const r=t[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const s=new Array(r.length);for(let a=0;a<s.length;a++){let t;try{t=C(r[a],c,n)}catch(o){throw new Error(`failed to parse color at index ${a} in palette expression: ${o.message}`)}if(!(t instanceof E))throw new Error(`the palette color at index ${a} must be a literal value`);s[a]=t}return[i,...s]}function j(...t){return function(e,n,i){const r=e[0];let s;for(let o=0;o<t.length;o++){const r=t[o](e,n,i);if(o==t.length-1){if(!r)throw new Error("expected last argument validator to return the parsed args");s=r}}return new w(n,r,...s)}}function X(t,e,n){const i=t[0],r=k[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(t,e,n)}function U(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return U(t.getGeometries()[0]);default:return""}}function V(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function W(t,e,n){const i=C(t,e,n);return K(i,n)}function K(t,e){if(t instanceof E){if(t.type===c&&"string"===typeof t.value){const e=(0,r.sH)(t.value);return function(){return e}}return function(){return t.value}}const n=t.operator;switch(n){case I.Number:case I.String:case I.Coalesce:return H(t,e);case I.Get:case I.Var:case I.Has:return $(t,e);case I.Id:return t=>t.featureId;case I.GeometryType:return t=>t.geometryType;case I.Concat:{const n=t.args.map((t=>K(t,e)));return t=>"".concat(...n.map((e=>e(t).toString())))}case I.Resolution:return t=>t.resolution;case I.Any:case I.All:case I.Between:case I.In:case I.Not:return J(t,e);case I.Equal:case I.NotEqual:case I.LessThan:case I.LessThanOrEqualTo:case I.GreaterThan:case I.GreaterThanOrEqualTo:return Z(t,e);case I.Multiply:case I.Divide:case I.Add:case I.Subtract:case I.Clamp:case I.Mod:case I.Pow:case I.Abs:case I.Floor:case I.Ceil:case I.Round:case I.Sin:case I.Cos:case I.Atan:case I.Sqrt:return Q(t,e);case I.Case:return tt(t,e);case I.Match:return et(t,e);case I.Interpolate:return nt(t,e);case I.ToString:return it(t,e);default:throw new Error(`Unsupported operator ${n}`)}}function H(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=K(t.args[s],e);switch(n){case I.Coalesce:return t=>{for(let e=0;e<i;++e){const n=r[e](t);if("undefined"!==typeof n&&null!==n)return n}throw new Error("Expected one of the values to be non-null")};case I.Number:case I.String:return t=>{for(let e=0;e<i;++e){const i=r[e](t);if(typeof i===n)return i}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function $(t,e){const n=t.args[0],i=n.value;switch(t.operator){case I.Get:return e=>{const n=t.args;let r=e.properties[i];for(let t=1,i=n.length;t<i;++t){const e=n[t],i=e.value;r=r[i]}return r};case I.Var:return t=>t.variables[i];case I.Has:return e=>{const n=t.args;if(!(i in e.properties))return!1;let r=e.properties[i];for(let t=1,i=n.length;t<i;++t){const e=n[t],i=e.value;if(!r||!Object.hasOwn(r,i))return!1;r=r[i]}return!0};default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function Z(t,e){const n=t.operator,i=K(t.args[0],e),r=K(t.args[1],e);switch(n){case I.Equal:return t=>i(t)===r(t);case I.NotEqual:return t=>i(t)!==r(t);case I.LessThan:return t=>i(t)<r(t);case I.LessThanOrEqualTo:return t=>i(t)<=r(t);case I.GreaterThan:return t=>i(t)>r(t);case I.GreaterThanOrEqualTo:return t=>i(t)>=r(t);default:throw new Error(`Unsupported comparison operator ${n}`)}}function J(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=K(t.args[s],e);switch(n){case I.Any:return t=>{for(let e=0;e<i;++e)if(r[e](t))return!0;return!1};case I.All:return t=>{for(let e=0;e<i;++e)if(!r[e](t))return!1;return!0};case I.Between:return t=>{const e=r[0](t),n=r[1](t),i=r[2](t);return e>=n&&e<=i};case I.In:return t=>{const e=r[0](t);for(let n=1;n<i;++n)if(e===r[n](t))return!0;return!1};case I.Not:return t=>!r[0](t);default:throw new Error(`Unsupported logical operator ${n}`)}}function Q(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=K(t.args[s],e);switch(n){case I.Multiply:return t=>{let e=1;for(let n=0;n<i;++n)e*=r[n](t);return e};case I.Divide:return t=>r[0](t)/r[1](t);case I.Add:return t=>{let e=0;for(let n=0;n<i;++n)e+=r[n](t);return e};case I.Subtract:return t=>r[0](t)-r[1](t);case I.Clamp:return t=>{const e=r[0](t),n=r[1](t);if(e<n)return n;const i=r[2](t);return e>i?i:e};case I.Mod:return t=>r[0](t)%r[1](t);case I.Pow:return t=>Math.pow(r[0](t),r[1](t));case I.Abs:return t=>Math.abs(r[0](t));case I.Floor:return t=>Math.floor(r[0](t));case I.Ceil:return t=>Math.ceil(r[0](t));case I.Round:return t=>Math.round(r[0](t));case I.Sin:return t=>Math.sin(r[0](t));case I.Cos:return t=>Math.cos(r[0](t));case I.Atan:return 2===i?t=>Math.atan2(r[0](t),r[1](t)):t=>Math.atan(r[0](t));case I.Sqrt:return t=>Math.sqrt(r[0](t));default:throw new Error(`Unsupported numeric operator ${n}`)}}function tt(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=K(t.args[r],e);return t=>{for(let e=0;e<n-1;e+=2){const n=i[e](t);if(n)return i[e+1](t)}return i[n-1](t)}}function et(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=K(t.args[r],e);return t=>{const e=i[0](t);for(let r=1;r<n-1;r+=2)if(e===i[r](t))return i[r+1](t);return i[n-1](t)}}function nt(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=K(t.args[r],e);return t=>{const e=i[0](t),s=i[1](t);let o,a;for(let l=2;l<n;l+=2){const n=i[l](t);let u=i[l+1](t);const h=Array.isArray(u);if(h&&(u=(0,r.fu)(u)),n>=s)return 2===l?u:h?st(e,s,o,a,n,u):rt(e,s,o,a,n,u);o=n,a=u}return a}}function it(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=K(t.args[r],e);switch(n){case I.ToString:return e=>{const n=s[0](e);return t.args[0].type===c?(0,r.dI)(n):n.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function rt(t,e,n,i,r,s){const o=r-n;if(0===o)return i;const a=e-n,l=1===t?a/o:(Math.pow(t,a)-1)/(Math.pow(t,o)-1);return i+l*(s-i)}function st(t,e,n,i,s,o){const a=s-n;if(0===a)return i;const l=(0,r.eE)(i),u=(0,r.eE)(o);let h=u[2]-l[2];h>180?h-=360:h<-180&&(h+=360);const c=[rt(t,e,n,l[0],s,u[0]),rt(t,e,n,l[1],s,u[1]),l[2]+rt(t,e,n,0,s,h),rt(t,e,n,i[3],s,o[3])];return(0,r.cD)(c)}var ot=n(6811),at=n(5274),lt=n(8343),ut=n(2375),ht=n(5023),ct=n(5782),ft=n(6505);const dt="#333";class gt{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=(0,o.xq)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new lt.A({color:dt}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new gt({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,o.xq)(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}var pt=gt;function _t(t){return!0}function vt(t){const e=S(),n=mt(t,e),i=V();return function(t,r){if(i.properties=t.getPropertiesInternal(),i.resolution=r,e.featureId){const e=t.getId();i.featureId=void 0!==e?e:null}return e.geometryType&&(i.geometryType=U(t.getGeometry())),n(i)}}function yt(t){const e=S(),n=t.length,i=new Array(n);for(let o=0;o<n;++o)i[o]=xt(t[o],e);const r=V(),s=new Array(n);return function(t,o){if(r.properties=t.getPropertiesInternal(),r.resolution=o,e.featureId){const e=t.getId();r.featureId=void 0!==e?e:null}let a=0;for(let e=0;e<n;++e){const t=i[e](r);t&&(s[a]=t,a+=1)}return s.length=a,s}}function mt(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r){const n=t[r],s="filter"in n?W(n.filter,l,e):_t;let o;if(Array.isArray(n.style)){const t=n.style.length;o=new Array(t);for(let i=0;i<t;++i)o[i]=xt(n.style[i],e)}else o=[xt(n.style,e)];i[r]={filter:s,styles:o}}return function(e){const r=[];let s=!1;for(let o=0;o<n;++o){const n=i[o].filter;if(n(e)&&(!t[o].else||!s)){s=!0;for(const t of i[o].styles){const n=t(e);n&&r.push(n)}}}return r}}function xt(t,e){const n=Et(t,"",e),i=wt(t,"",e),r=St(t,e),s=Ct(t,e),o=bt(t,"z-index",e);if(!n&&!i&&!r&&!s&&!(0,ot.p)(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const a=new ft.Ay;return function(t){let e=!0;if(n){const i=n(t);i&&(e=!1),a.setFill(i)}if(i){const n=i(t);n&&(e=!1),a.setStroke(n)}if(r){const n=r(t);n&&(e=!1),a.setText(n)}if(s){const n=s(t);n&&(e=!1),a.setImage(n)}return o&&a.setZIndex(o(t)),e?null:a}}function Et(t,e,n){let i;if(e+"fill-pattern-src"in t)i=At(t,e+"fill-",n);else{if("none"===t[e+"fill-color"])return t=>null;i=Ot(t,e+"fill-color",n)}if(!i)return null;const s=new lt.A;return function(t){const e=i(t);return e===r.qV?null:(s.setColor(e),s)}}function wt(t,e,n){const i=bt(t,e+"stroke-width",n),s=Ot(t,e+"stroke-color",n);if(!i&&!s)return null;const o=Rt(t,e+"stroke-line-cap",n),a=Rt(t,e+"stroke-line-join",n),l=Lt(t,e+"stroke-line-dash",n),u=bt(t,e+"stroke-line-dash-offset",n),h=bt(t,e+"stroke-miter-limit",n),c=new ct.A;return function(t){if(s){const e=s(t);if(e===r.qV)return null;c.setColor(e)}if(i&&c.setWidth(i(t)),o){const e=o(t);if("butt"!==e&&"round"!==e&&"square"!==e)throw new Error("Expected butt, round, or square line cap");c.setLineCap(e)}if(a){const e=a(t);if("bevel"!==e&&"round"!==e&&"miter"!==e)throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(e)}return l&&c.setLineDash(l(t)),u&&c.setLineDashOffset(u(t)),h&&c.setMiterLimit(h(t)),c}}function St(t,e){const n="text-",i=Rt(t,n+"value",e);if(!i)return null;const r=Et(t,n,e),s=Et(t,n+"background-",e),o=wt(t,n,e),a=wt(t,n+"background-",e),l=Rt(t,n+"font",e),u=bt(t,n+"max-angle",e),h=bt(t,n+"offset-x",e),c=bt(t,n+"offset-y",e),f=Nt(t,n+"overflow",e),d=Rt(t,n+"placement",e),g=bt(t,n+"repeat",e),p=Dt(t,n+"scale",e),_=Nt(t,n+"rotate-with-view",e),v=bt(t,n+"rotation",e),y=Rt(t,n+"align",e),m=Rt(t,n+"justify",e),x=Rt(t,n+"baseline",e),E=Nt(t,n+"keep-upright",e),w=Lt(t,n+"padding",e),S=jt(t,n+"declutter-mode"),C=new pt({declutterMode:S});return function(t){if(C.setText(i(t)),r&&C.setFill(r(t)),s&&C.setBackgroundFill(s(t)),o&&C.setStroke(o(t)),a&&C.setBackgroundStroke(a(t)),l&&C.setFont(l(t)),u&&C.setMaxAngle(u(t)),h&&C.setOffsetX(h(t)),c&&C.setOffsetY(c(t)),f&&C.setOverflow(f(t)),d){const e=d(t);if("point"!==e&&"line"!==e)throw new Error("Expected point or line for text-placement");C.setPlacement(e)}if(g&&C.setRepeat(g(t)),p&&C.setScale(p(t)),_&&C.setRotateWithView(_(t)),v&&C.setRotation(v(t)),y){const e=y(t);if("left"!==e&&"center"!==e&&"right"!==e&&"end"!==e&&"start"!==e)throw new Error("Expected left, right, center, start, or end for text-align");C.setTextAlign(e)}if(m){const e=m(t);if("left"!==e&&"right"!==e&&"center"!==e)throw new Error("Expected left, right, or center for text-justify");C.setJustify(e)}if(x){const e=x(t);if("bottom"!==e&&"top"!==e&&"middle"!==e&&"alphabetic"!==e&&"hanging"!==e)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");C.setTextBaseline(e)}return w&&C.setPadding(w(t)),E&&C.setKeepUpright(E(t)),C}}function Ct(t,e){return"icon-src"in t?It(t,e):"shape-points"in t?kt(t,e):"circle-radius"in t?Tt(t,e):null}function It(t,e){const n="icon-",i=n+"src",r=Vt(t[i],i),s=Mt(t,n+"anchor",e),o=Dt(t,n+"scale",e),a=bt(t,n+"opacity",e),l=Mt(t,n+"displacement",e),u=bt(t,n+"rotation",e),h=Nt(t,n+"rotate-with-view",e),c=Yt(t,n+"anchor-origin"),f=qt(t,n+"anchor-x-units"),d=qt(t,n+"anchor-y-units"),g=Xt(t,n+"color"),p=zt(t,n+"cross-origin"),_=Bt(t,n+"offset"),v=Yt(t,n+"offset-origin"),y=Ft(t,n+"width"),m=Ft(t,n+"height"),x=Gt(t,n+"size"),E=jt(t,n+"declutter-mode"),w=new ut.A({src:r,anchorOrigin:c,anchorXUnits:f,anchorYUnits:d,color:g,crossOrigin:p,offset:_,offsetOrigin:v,height:m,width:y,size:x,declutterMode:E});return function(t){return a&&w.setOpacity(a(t)),l&&w.setDisplacement(l(t)),u&&w.setRotation(u(t)),h&&w.setRotateWithView(h(t)),o&&w.setScale(o(t)),s&&w.setAnchor(s(t)),w}}function kt(t,e){const n="shape-",i=n+"points",r=n+"radius",s=Wt(t[i],i),o=Wt(t[r],r),a=Et(t,n,e),l=wt(t,n,e),u=Dt(t,n+"scale",e),h=Mt(t,n+"displacement",e),c=bt(t,n+"rotation",e),f=Nt(t,n+"rotate-with-view",e),d=Ft(t,n+"radius2"),g=Ft(t,n+"angle"),p=jt(t,n+"declutter-mode"),_=new ht.A({points:s,radius:o,radius2:d,angle:g,declutterMode:p});return function(t){return a&&_.setFill(a(t)),l&&_.setStroke(l(t)),h&&_.setDisplacement(h(t)),c&&_.setRotation(c(t)),f&&_.setRotateWithView(f(t)),u&&_.setScale(u(t)),_}}function Tt(t,e){const n="circle-",i=Et(t,n,e),r=wt(t,n,e),s=bt(t,n+"radius",e),o=Dt(t,n+"scale",e),a=Mt(t,n+"displacement",e),l=bt(t,n+"rotation",e),u=Nt(t,n+"rotate-with-view",e),h=jt(t,n+"declutter-mode"),c=new at.A({radius:5,declutterMode:h});return function(t){return s&&c.setRadius(s(t)),i&&c.setFill(i(t)),r&&c.setStroke(r(t)),a&&c.setDisplacement(a(t)),l&&c.setRotation(l(t)),u&&c.setRotateWithView(u(t)),o&&c.setScale(o(t)),c}}function bt(t,e,n){if(!(e in t))return;const i=W(t[e],u,n);return function(t){return Wt(i(t),e)}}function Rt(t,e,n){if(!(e in t))return null;const i=W(t[e],h,n);return function(t){return Vt(i(t),e)}}function At(t,e,n){const i=Rt(t,e+"pattern-src",n),r=Pt(t,e+"pattern-offset",n),s=Pt(t,e+"pattern-size",n),o=Ot(t,e+"color",n);return function(t){return{src:i(t),offset:r&&r(t),size:s&&s(t),color:o&&o(t)}}}function Nt(t,e,n){if(!(e in t))return null;const i=W(t[e],l,n);return function(t){const n=i(t);if("boolean"!==typeof n)throw new Error(`Expected a boolean for ${e}`);return n}}function Ot(t,e,n){if(!(e in t))return null;const i=W(t[e],c,n);return function(t){return Kt(i(t),e)}}function Lt(t,e,n){if(!(e in t))return null;const i=W(t[e],f,n);return function(t){return Ut(i(t),e)}}function Mt(t,e,n){if(!(e in t))return null;const i=W(t[e],f,n);return function(t){const n=Ut(i(t),e);if(2!==n.length)throw new Error(`Expected two numbers for ${e}`);return n}}function Pt(t,e,n){if(!(e in t))return null;const i=W(t[e],f,n);return function(t){return Ht(i(t),e)}}function Dt(t,e,n){if(!(e in t))return null;const i=W(t[e],f|u,n);return function(t){return $t(i(t),e)}}function Ft(t,e){const n=t[e];if(void 0!==n){if("number"!==typeof n)throw new Error(`Expected a number for ${e}`);return n}}function Gt(t,e){const n=t[e];if(void 0!==n){if("number"===typeof n)return(0,o.xq)(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(2!==n.length||"number"!==typeof n[0]||"number"!==typeof n[1])throw new Error(`Expected a number or size array for ${e}`);return n}}function zt(t,e){const n=t[e];if(void 0!==n){if("string"!==typeof n)throw new Error(`Expected a string for ${e}`);return n}}function Yt(t,e){const n=t[e];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function qt(t,e){const n=t[e];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error(`Expected pixels or fraction for ${e}`);return n}}function Bt(t,e){const n=t[e];if(void 0!==n)return Ut(n,e)}function jt(t,e){const n=t[e];if(void 0!==n){if("string"!==typeof n)throw new Error(`Expected a string for ${e}`);if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function Xt(t,e){const n=t[e];if(void 0!==n)return Kt(n,e)}function Ut(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if("number"!==typeof t[i])throw new Error(`Expected an array of numbers for ${e}`);return t}function Vt(t,e){if("string"!==typeof t)throw new Error(`Expected a string for ${e}`);return t}function Wt(t,e){if("number"!==typeof t)throw new Error(`Expected a number for ${e}`);return t}function Kt(t,e){if("string"===typeof t)return t;const n=Ut(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function Ht(t,e){const n=Ut(t,e);if(2!==n.length)throw new Error(`Expected an array of two numbers for ${e}`);return n}function $t(t,e){return"number"===typeof t?t:Ht(t,e)}var Zt=n(2425);const Jt={RENDER_ORDER:"renderOrder"};class Qt extends Zt.A{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Jt.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,e){const n=this.getDeclutter();n in t.declutter===!1&&(t.declutter[n]=new i.A(9)),this.getRenderer().renderDeclutter(t,e)}setRenderOrder(t){this.set(Jt.RENDER_ORDER,t)}setStyle(t){this.style_=void 0===t?ft.d1:t;const e=te(t);this.styleFunction_=null===t?void 0:(0,ft.mC)(e),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function te(t){if(void 0===t)return ft.d1;if(!t)return null;if("function"===typeof t)return t;if(t instanceof ft.Ay)return t;if(!Array.isArray(t))return yt([t]);if(0===t.length)return[];const e=t.length,n=t[0];if(n instanceof ft.Ay){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!(e instanceof ft.Ay))throw new Error("Expected a list of style instances");n[i]=e}return n}if("style"in n){const n=new Array(e);for(let i=0;i<e;++i){const e=t[i];if(!("style"in e))throw new Error("Expected a list of rules with a style property");n[i]=e}return vt(n)}const i=t;return yt(i)}var ee=Qt},4055:function(t,e,n){"use strict";var i=n(4576),r=n(34),s=i.document,o=r(s)&&r(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},4109:function(t,e,n){"use strict";n.d(e,{$N:function(){return s},K5:function(){return u},Si:function(){return i},XI:function(){return r},nT:function(){return o}});const i="ol-hidden",r="ol-unselectable",s="ol-control",o="ol-collapsed",a=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z0-9]+?)\\s*$"].join(""),"i"),l=["style","variant","weight","size","lineHeight","family"],u=function(t){const e=t.match(a);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=l.length;i<r;++i){const t=e[i+1];void 0!==t&&(n[l[i]]=t)}return n.families=n.family.split(/,\s?/),n}},4114:function(t,e,n){"use strict";var i=n(6518),r=n(8981),s=n(6198),o=n(4527),a=n(6837),l=n(9039),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),h=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},c=u||!h();i({target:"Array",proto:!0,arity:1,forced:c},{push:function(t){var e=r(this),n=s(e),i=arguments.length;a(n+i);for(var l=0;l<i;l++)e[n]=arguments[l],n++;return o(e,n),n}})},4117:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},4190:function(t,e,n){"use strict";n.d(e,{N:function(){return X}});n(4114);var i=n(3844);class r{constructor(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let n=e-3;while(n>0&&this.points_[n+2]>t)n-=3;const i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;const r=this.points_[e]-this.points_[n],s=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(s,r),this.initialVelocity_=Math.sqrt(r*r+s*s)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}var s=r,o=(n(8111),n(1701),n(3156)),a=n(6425);class l extends a.Ay{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==o.A.DBLCLICK){const n=t.originalEvent,i=t.map,r=t.coordinate,s=n.shiftKey?-this.delta_:this.delta_,o=i.getView();(0,a.D2)(o,s,r,this.duration_),n.preventDefault(),e=!0}return!e}}var u=l,h=n(8474),c=n(8409),f=n(2535),d=n(9331),g=n(5596);class p extends g.A{constructor(t){super({stopDown:d.W8}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:(0,f.Q7)(f.TS,f.fs);this.condition_=t.onFocusOnly?(0,f.Q7)(f.eL,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const n=this.targetPointers,i=e.getEventPixel((0,g.v)(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const e=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],n=t.map,r=n.getView();(0,h.hs)(e,r.getResolution()),(0,h.e$)(e,r.getRotation()),r.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),r=n.getCenterInternal(),s=e.getPixelFromCoordinateInternal(r),o=e.getCoordinateFromPixelInternal([s[0]-t*Math.cos(i),s[1]-t*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(o),duration:500,easing:c.vT})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const e=t.map,n=e.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}var _=p,v=n(5289);class y extends g.A{constructor(t){t=t||{},super({stopDown:d.W8}),this.condition_=t.condition?t.condition:f.IO,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!(0,f.A4)(t))return;const e=t.map,n=e.getView();if(n.getConstraints().rotation===v.b8)return;const i=e.getSize(),r=t.pixel,s=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){const t=s-this.lastAngle_;n.adjustRotationInternal(-t)}this.lastAngle_=s}handleUpEvent(t){if(!(0,f.A4)(t))return!0;const e=t.map,n=e.getView();return n.endInteraction(this.duration_),!1}handleDownEvent(t){if(!(0,f.A4)(t))return!1;if((0,f.at)(t)&&this.condition_(t)){const e=t.map;return e.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}}var m=y,x=n(9078),E=n(8646),w=n(3754);class S extends E.A{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(t[0],e[0])+n,i.top=Math.min(t[1],e[1])+n,i.width=Math.abs(e[0]-t[0])+n,i.height=Math.abs(e[1]-t[1])+n}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]],i=n.map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new w.Ay([i])}getGeometry(){return this.geometry_}}var C=S;const I={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class k extends x.Ay{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}class T extends g.A{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new C(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??f.at,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new k(I.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new k(e?I.BOXEND:I.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new k(I.BOXSTART,t.coordinate,t)),!0)}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new k(I.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){const e=this.getMap();e&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new k(I.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}var b=T;class R extends b{constructor(t){t=t||{};const e=t.condition?t.condition:f.Kg;super({condition:e,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const e=this.getMap(),n=e.getView();let i=this.getGeometry();if(this.out_){const t=n.rotatedExtentForGeometry(i),e=n.getResolutionForExtentInternal(t),r=n.getResolution()/e;i=i.clone(),i.scale(r*r)}n.fitInternal(i,{duration:this.duration_,easing:c.vT})}}var A=R,N=n(7582),O={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class L extends a.Ay{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return(0,f.TS)(t)&&(0,f.tE)(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==N.A.KEYDOWN){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&(i==O.DOWN||i==O.LEFT||i==O.RIGHT||i==O.UP)){const r=t.map,s=r.getView(),o=s.getResolution()*this.pixelDelta_;let l=0,u=0;i==O.DOWN?u=-o:i==O.LEFT?l=-o:i==O.RIGHT?l=o:u=o;const c=[l,u];(0,h.e$)(c,s.getRotation()),(0,a.e4)(s,c,this.duration_),n.preventDefault(),e=!0}}return!e}}var M=L;class P extends a.Ay{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(t){return!(0,f.GB)(t)&&(0,f.tE)(t)},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==N.A.KEYDOWN||t.type==N.A.KEYPRESS){const n=t.originalEvent,i=n.key;if(this.condition_(t)&&("+"===i||"-"===i)){const r=t.map,s="+"===i?this.delta_:-this.delta_,o=r.getView();(0,a.D2)(o,s,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}}var D=P,F=n(5674);class G extends a.Ay{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:f.Gk;this.condition_=t.onFocusOnly?(0,f.Q7)(f.eL,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;const e=t.getView();e.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t))return!0;const e=t.type;if(e!==N.A.WHEEL)return!0;const n=t.map,i=t.originalEvent;let r;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel),t.type==N.A.WHEEL&&(r=i.deltaY,i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),0===r)return!1;this.lastDelta_=r;const s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const o=n.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_?n.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=s,!1;this.totalDelta_+=r;const a=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let n=-(0,F.qE)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),(0,a.D2)(e,n,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}var z=G;class Y extends g.A{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=d.W8),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=r;const s=t.map,o=s.getView();o.getConstraints().rotation!==v.b8&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel((0,g.v)(this.targetPointers))),this.rotating_&&(s.render(),o.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map,n=e.getView();return n.endInteraction(this.duration_),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}var q=Y;class B extends g.A{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=d.W8),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,s=n.clientY-i.clientY,o=Math.sqrt(r*r+s*s);void 0!==this.lastDistance_&&(e=this.lastDistance_/o),this.lastDistance_=o;const a=t.map,l=a.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel((0,g.v)(this.targetPointers))),a.render(),l.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const e=t.map,n=e.getView(),i=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}var j=B;function X(t){t=t||{};const e=new i.A,n=new s(-.005,.05,100),r=void 0===t.altShiftDragRotate||t.altShiftDragRotate;r&&e.push(new m);const o=void 0===t.doubleClickZoom||t.doubleClickZoom;o&&e.push(new u({delta:t.zoomDelta,duration:t.zoomDuration}));const a=void 0===t.dragPan||t.dragPan;a&&e.push(new _({onFocusOnly:t.onFocusOnly,kinetic:n}));const l=void 0===t.pinchRotate||t.pinchRotate;l&&e.push(new q);const h=void 0===t.pinchZoom||t.pinchZoom;h&&e.push(new j({duration:t.zoomDuration}));const c=void 0===t.keyboard||t.keyboard;c&&(e.push(new M),e.push(new D({delta:t.zoomDelta,duration:t.zoomDuration})));const f=void 0===t.mouseWheelZoom||t.mouseWheelZoom;f&&e.push(new z({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));const d=void 0===t.shiftDragZoom||t.shiftDragZoom;return d&&e.push(new A({duration:t.zoomDuration})),e}},4204:function(t,e,n){"use strict";var i=n(7080),r=n(4402).add,s=n(9286),o=n(3789),a=n(507);t.exports=function(t){var e=i(this),n=o(t).getIterator(),l=s(e);return a(n,(function(t){r(l,t)})),l}},4209:function(t,e,n){"use strict";var i=n(8227),r=n(6269),s=i("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[s]===t)}},4215:function(t,e,n){"use strict";var i=n(4576),r=n(2839),s=n(2195),o=function(t){return r.slice(0,t.length)===t};t.exports=function(){return o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":i.Bun&&"string"==typeof Bun.version?"BUN":i.Deno&&"object"==typeof Deno.version?"DENO":"process"===s(i.process)?"NODE":i.window&&i.document?"BROWSER":"REST"}()},4237:function(t,e,n){"use strict";var i=n(1114),r=(n(4114),n(8111),n(7588),n(7334));class s{constructor(){(0,i.A)(this,"pushMethodArgs_",((...t)=>(this.push_(t),this))),this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy((0,r.lr)(),{get:(t,e)=>{if("function"===typeof(0,r.lr)()[e])return this.push_(e),this.pushMethodArgs_},set:(t,e,n)=>(this.push_(e,n),!0)})}push_(...t){const e=this.instructions_,n=this.zIndex+this.offset_;e[n]||(e[n]=[]),e[n].push(...t)}pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach((e=>{for(let n=0,i=e.length;n<i;++n){const i=e[n];if("function"===typeof i){i(t);continue}const r=e[++n];if("function"===typeof t[i])t[i](...r);else{if("function"===typeof r){t[i]=r(t);continue}t[i]=r}}}))}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}e.A=s},4270:function(t,e,n){"use strict";var i=n(9565),r=n(4901),s=n(34),o=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&r(n=t.toString)&&!s(a=i(n,t)))return a;if(r(n=t.valueOf)&&!s(a=i(n,t)))return a;if("string"!==e&&r(n=t.toString)&&!s(a=i(n,t)))return a;throw new o("Can't convert object to primitive value")}},4376:function(t,e,n){"use strict";var i=n(2195);t.exports=Array.isArray||function(t){return"Array"===i(t)}},4402:function(t,e,n){"use strict";var i=n(9504),r=Set.prototype;t.exports={Set:Set,add:i(r.add),has:i(r.has),remove:i(r["delete"]),proto:r}},4449:function(t,e,n){"use strict";var i=n(7080),r=n(4402).has,s=n(5170),o=n(3789),a=n(8469),l=n(507),u=n(9539);t.exports=function(t){var e=i(this),n=o(t);if(s(e)<=n.size)return!1!==a(e,(function(t){if(n.includes(t))return!1}),!0);var h=n.getIterator();return!1!==l(h,(function(t){if(r(e,t))return u(h,"normal",!1)}))}},4453:function(t,e,n){"use strict";n.d(e,{A:function(){return qt}});n(4114),n(8111),n(1701);var i=n(6940),r=n(3851),s=n(8474),o=n(7334),a=n(7444),l=n(9449),u=n(3707),h=n(6294),c=n(1945),f=n(4476);class d{drawCustom(t,e,n,i,r){}drawGeometry(t){}setStyle(t){}drawCircle(t,e,n){}drawFeature(t,e,n){}drawGeometryCollection(t,e,n){}drawLineString(t,e,n){}drawMultiLineString(t,e,n){}drawMultiPoint(t,e,n){}drawMultiPolygon(t,e,n){}drawPoint(t,e,n){}drawPolygon(t,e,n){}drawText(t,e,n){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}}var g=d,p=n(8911);const _={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},v=[_.FILL],y=[_.STROKE],m=[_.BEGIN_PATH],x=[_.CLOSE_PATH];var E=_;class w extends g{constructor(t,e,n,i){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates;let s=r.length;for(let o=0,l=t.length;o<l;o+=e)i[0]=t[o],i[1]=t[o+1],(0,a.Ym)(n,i)&&(r[s++]=i[0],r[s++]=i[1]);return s}appendFlatLineCoordinates(t,e,n,i,r,s){const o=this.coordinates;let l=o.length;const u=this.getBufferedMaxExtent();s&&(e+=i);let h=t[e],f=t[e+1];const d=this.tmpCoordinate_;let g,p,_,v=!0;for(g=e+i;g<n;g+=i)d[0]=t[g],d[1]=t[g+1],_=(0,a.vz)(u,d),_!==p?(v&&(o[l++]=h,o[l++]=f,v=!1),o[l++]=d[0],o[l++]=d[1]):_===c.A.INTERSECTING?(o[l++]=d[0],o[l++]=d[1],v=!1):v=!0,h=d[0],f=d[1],p=_;return(r&&v||g===e+i)&&(o[l++]=h,o[l++]=f),l}drawCustomCoordinates_(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const o=n[s],a=this.appendFlatLineCoordinates(t,e,o,i,!1,!1);r.push(a),e=o}return e}drawCustom(t,e,n,i,r){this.beginGeometry(t,e,r);const s=t.getType(),o=t.getStride(),a=this.coordinates.length;let l,u,h,c,d;switch(s){case"MultiPolygon":l=t.getOrientedFlatCoordinates(),c=[];const e=t.getEndss();d=0;for(let t=0,n=e.length;t<n;++t){const n=[];d=this.drawCustomCoordinates_(l,d,e[t],o,n),c.push(n)}this.instructions.push([E.CUSTOM,a,c,t,n,f.Dz,r]),this.hitDetectionInstructions.push([E.CUSTOM,a,c,t,i||n,f.Dz,r]);break;case"Polygon":case"MultiLineString":h=[],l="Polygon"==s?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),d=this.drawCustomCoordinates_(l,0,t.getEnds(),o,h),this.instructions.push([E.CUSTOM,a,h,t,n,f.cD,r]),this.hitDetectionInstructions.push([E.CUSTOM,a,h,t,i||n,f.cD,r]);break;case"LineString":case"Circle":l=t.getFlatCoordinates(),u=this.appendFlatLineCoordinates(l,0,l.length,o,!1,!1),this.instructions.push([E.CUSTOM,a,u,t,n,f.n2,r]),this.hitDetectionInstructions.push([E.CUSTOM,a,u,t,i||n,f.n2,r]);break;case"MultiPoint":l=t.getFlatCoordinates(),u=this.appendFlatPointCoordinates(l,o),u>a&&(this.instructions.push([E.CUSTOM,a,u,t,n,f.n2,r]),this.hitDetectionInstructions.push([E.CUSTOM,a,u,t,i||n,f.n2,r]));break;case"Point":l=t.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),u=this.coordinates.length,this.instructions.push([E.CUSTOM,a,u,t,n,void 0,r]),this.hitDetectionInstructions.push([E.CUSTOM,a,u,t,i||n,void 0,r]);break;default:}this.endGeometry(e)}beginGeometry(t,e,n){this.beginGeometryInstruction1_=[E.BEGIN_GEOMETRY,e,0,t,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[E.BEGIN_GEOMETRY,e,0,t,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let e;t.reverse();const n=t.length;let i,s,o=-1;for(e=0;e<n;++e)i=t[e],s=i[0],s==E.END_GEOMETRY?o=e:s==E.BEGIN_GEOMETRY&&(i[2]=e,(0,r.gI)(this.hitDetectionInstructions,o,e),o=-1)}fillStyleToState(t,e={}){if(t){const n=t.getColor();e.fillPatternScale=n&&"object"===typeof n&&"src"in n?this.pixelRatio:1,e.fillStyle=(0,h.F)(n||p.qY)}else e.fillStyle=void 0;return e}strokeStyleToState(t,e={}){if(t){const n=t.getColor();e.strokeStyle=(0,h.F)(n||p.NT);const i=t.getLineCap();e.lineCap=void 0!==i?i:p._m;const r=t.getLineDash();e.lineDash=r?r.slice():p.Oq;const s=t.getLineDashOffset();e.lineDashOffset=s||p.vk;const o=t.getLineJoin();e.lineJoin=void 0!==o?o:p._K;const a=t.getWidth();e.lineWidth=void 0!==a?a:p.aq;const l=t.getMiterLimit();e.miterLimit=void 0!==l?l:p.eL,e.lineWidth>this.maxLineWidth&&(this.maxLineWidth=e.lineWidth,this.bufferedMaxExtent_=null)}else e.strokeStyle=void 0,e.lineCap=void 0,e.lineDash=null,e.lineDashOffset=void 0,e.lineJoin=void 0,e.lineWidth=void 0,e.miterLimit=void 0;return e}setFillStrokeStyle(t,e){const n=this.state;this.fillStyleToState(t,n),this.strokeStyleToState(e,n)}createFill(t){const e=t.fillStyle,n=[E.SET_FILL_STYLE,e];return"string"!==typeof e&&n.push(t.fillPatternScale),n}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[E.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const n=t.fillStyle;"string"===typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)}updateStrokeStyle(t,e){const n=t.strokeStyle,i=t.lineCap,s=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,l=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||s!=t.currentLineDash&&!(0,r.aI)(t.currentLineDash,s)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=l||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=s,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=l,t.currentMiterLimit=u)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[E.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,a.o8)(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;(0,a.r)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}var S=w;class C extends S{constructor(t,e,n,i){super(t,e,n,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e,n){if(!this.image_||this.maxExtent&&!(0,a.Ym)(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),r=t.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(i,r);this.instructions.push([E.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([E.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e,n){if(!this.image_)return;this.beginGeometry(t,e,n);const i=t.getFlatCoordinates(),r=[];for(let l=0,u=i.length;l<u;l+=t.getStride())this.maxExtent&&!(0,a.Ym)(this.maxExtent,i.slice(l,l+2))||r.push(i[l],i[l+1]);const s=this.coordinates.length,o=this.appendFlatPointCoordinates(r,2);this.instructions.push([E.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([E.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),i=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}var I=C;class k extends S{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinates_(t,e,n,i){const r=this.coordinates.length,s=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),o=[E.MOVE_TO_LINE_TO,r,s];return this.instructions.push(o),this.hitDetectionInstructions.push(o),n}drawLineString(t,e,n){const i=this.state,r=i.strokeStyle,s=i.lineWidth;if(void 0===r||void 0===s)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([E.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,p.Oq,p.vk],m);const o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(y),this.endGeometry(e)}drawMultiLineString(t,e,n){const i=this.state,r=i.strokeStyle,s=i.lineWidth;if(void 0===r||void 0===s)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e,n),this.hitDetectionInstructions.push([E.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,p.Oq,p.vk],m);const o=t.getEnds(),a=t.getFlatCoordinates(),l=t.getStride();let u=0;for(let h=0,c=o.length;h<c;++h)u=this.drawFlatCoordinates_(a,u,o[h],l);this.hitDetectionInstructions.push(y),this.endGeometry(e)}finish(){const t=this.state;return void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(y),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(y),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(m)}}var T=k,b=n(3344);class R extends S{constructor(t,e,n,i){super(t,e,n,i)}drawFlatCoordinatess_(t,e,n,i){const r=this.state,s=void 0!==r.fillStyle,o=void 0!==r.strokeStyle,a=n.length;this.instructions.push(m),this.hitDetectionInstructions.push(m);for(let l=0;l<a;++l){const r=n[l],s=this.coordinates.length,a=this.appendFlatLineCoordinates(t,e,r,i,!0,!o),u=[E.MOVE_TO_LINE_TO,s,a];this.instructions.push(u),this.hitDetectionInstructions.push(u),o&&(this.instructions.push(x),this.hitDetectionInstructions.push(x)),e=r}return s&&(this.instructions.push(v),this.hitDetectionInstructions.push(v)),o&&(this.instructions.push(y),this.hitDetectionInstructions.push(y)),e}drawCircle(t,e,n){const i=this.state,r=i.fillStyle,s=i.strokeStyle;if(void 0===r&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([E.SET_FILL_STYLE,p.qY]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([E.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,p.Oq,p.vk]);const o=t.getFlatCoordinates(),a=t.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,a,!1,!1);const u=[E.CIRCLE,l];this.instructions.push(m,u),this.hitDetectionInstructions.push(m,u),void 0!==i.fillStyle&&(this.instructions.push(v),this.hitDetectionInstructions.push(v)),void 0!==i.strokeStyle&&(this.instructions.push(y),this.hitDetectionInstructions.push(y)),this.endGeometry(e)}drawPolygon(t,e,n){const i=this.state,r=i.fillStyle,s=i.strokeStyle;if(void 0===r&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([E.SET_FILL_STYLE,p.qY]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([E.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,p.Oq,p.vk]);const o=t.getEnds(),a=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(a,0,o,l),this.endGeometry(e)}drawMultiPolygon(t,e,n){const i=this.state,r=i.fillStyle,s=i.strokeStyle;if(void 0===r&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([E.SET_FILL_STYLE,p.qY]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([E.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,p.Oq,p.vk]);const o=t.getEndss(),a=t.getOrientedFlatCoordinates(),l=t.getStride();let u=0;for(let h=0,c=o.length;h<c;++h)u=this.drawFlatCoordinatess_(a,u,o[h],l);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let n=0,i=e.length;n<i;++n)e[n]=(0,b.n$)(e[n],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state,e=t.fillStyle;void 0!==e&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}}var A=R,N=(n(2489),n(5674));function O(t,e,n,i,r){const s=[];let o=n,a=0,l=e.slice(n,2);while(a<t&&o+r<i){const[n,i]=l.slice(-2),u=e[o+r],h=e[o+r+1],c=Math.sqrt((u-n)*(u-n)+(h-i)*(h-i));if(a+=c,a>=t){const e=(t-a+c)/c,f=(0,N.Cc)(n,u,e),d=(0,N.Cc)(i,h,e);l.push(f,d),s.push(l),l=[f,d],a==t&&(o+=r),a=0}else if(a<t)l.push(e[o+r],e[o+r+1]),o+=r;else{const t=c-a,e=(0,N.Cc)(n,u,t/c),f=(0,N.Cc)(i,h,t/c);l.push(e,f),s.push(l),l=[e,f],a=0,o+=r}}return a>0&&s.push(l),s}function L(t,e,n,i,r){let s,o,a,l,u,h,c,f,d,g,p=n,_=n,v=0,y=0,m=n;for(o=n;o<i;o+=r){const n=e[o],i=e[o+1];void 0!==u&&(d=n-u,g=i-h,l=Math.sqrt(d*d+g*g),void 0!==c&&(y+=a,s=Math.acos((c*d+f*g)/(a*l)),s>t&&(y>v&&(v=y,p=m,_=o),y=0,m=o-r)),a=l,c=d,f=g),u=n,h=i}return y+=l,y>v?[m,o]:[p,_]}var M=n(5752);const P={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class D extends S{constructor(t,e,n,i){super(t,e,n,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[p.qY]={fillStyle:p.qY},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e,n){const i=this.textFillState_,r=this.textStrokeState_,s=this.textState_;if(""===this.text_||!s||!i&&!r)return;const o=this.coordinates;let l=o.length;const u=t.getType();let h=null,c=t.getStride();if("line"!==s.placement||"LineString"!=u&&"MultiLineString"!=u&&"Polygon"!=u&&"MultiPolygon"!=u){let i=s.overflow?null:[];switch(u){case"Point":case"MultiPoint":h=t.getFlatCoordinates();break;case"LineString":h=t.getFlatMidpoint();break;case"Circle":h=t.getCenter();break;case"MultiLineString":h=t.getFlatMidpoints(),c=2;break;case"Polygon":h=t.getFlatInteriorPoint(),s.overflow||i.push(h[2]/this.resolution),c=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();h=[];for(let t=0,n=e.length;t<n;t+=3)s.overflow||i.push(e[t+2]/this.resolution),h.push(e[t],e[t+1]);if(0===h.length)return;c=2;break;default:}const r=this.appendFlatPointCoordinates(h,c);if(r===l)return;if(i&&(r-l)/2!==h.length/c){let t=l/2;i=i.filter(((e,n)=>{const i=o[2*(t+n)]===h[n*c]&&o[2*(t+n)+1]===h[n*c+1];return i||--t,i}))}this.saveTextStates_();const a=s.backgroundFill?this.createFill(this.fillStyleToState(s.backgroundFill)):null,f=s.backgroundStroke?this.createStroke(this.strokeStyleToState(s.backgroundStroke)):null;this.beginGeometry(t,e,n);let d=s.padding;if(d!=p.Tq&&(s.scale[0]<0||s.scale[1]<0)){let t=s.padding[0],e=s.padding[1],n=s.padding[2],i=s.padding[3];s.scale[0]<0&&(e=-e,i=-i),s.scale[1]<0&&(t=-t,n=-n),d=[t,e,n,i]}const g=this.pixelRatio;this.instructions.push([E.DRAW_IMAGE,l,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,d==p.Tq?p.Tq:d.map((function(t){return t*g})),a,f,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]);const _=1/g,v=a?a.slice(0):null;v&&(v[1]=p.qY),this.hitDetectionInstructions.push([E.DRAW_IMAGE,l,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[_,_],NaN,this.declutterMode_,this.declutterImageWithText_,d,v,f,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?p.qY:this.fillKey_,this.textOffsetX_,this.textOffsetY_,i]),this.endGeometry(e)}else{if(!(0,a.HY)(this.maxExtent,t.getExtent()))return;let i;if(h=t.getFlatCoordinates(),"LineString"==u)i=[h.length];else if("MultiLineString"==u)i=t.getEnds();else if("Polygon"==u)i=t.getEnds().slice(0,1);else if("MultiPolygon"==u){const e=t.getEndss();i=[];for(let t=0,n=e.length;t<n;++t)i.push(e[t][0])}this.beginGeometry(t,e,n);const r=s.repeat,f=r?void 0:s.textAlign;let d=0;for(let t=0,e=i.length;t<e;++t){let e;e=r?O(r*this.resolution,h,d,i[t],c):[h.slice(d,i[t])];for(let n=0,r=e.length;n<r;++n){const r=e[n];let a=0,u=r.length;if(void 0==f){const t=L(s.maxAngle,r,0,r.length,2);a=t[0],u=t[1]}for(let t=a;t<u;t+=c)o.push(r[t],r[t+1]);const h=o.length;d=i[t],this.drawChars_(l,h),l=h}}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||p.MY,justify:e.justify,textBaseline:e.textBaseline||p.M8,scale:e.scale});const s=this.fillKey_;n&&(s in this.fillStates||(this.fillStates[s]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,s=this.textKey_,o=this.fillKey_;this.saveTextStates_();const a=this.pixelRatio,l=P[i.textBaseline],u=this.textOffsetY_*a,h=this.text_,c=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([E.DRAW_CHARS,t,e,l,i.overflow,o,i.maxAngle,a,u,r,c*a,h,s,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([E.DRAW_CHARS,t,e,l,i.overflow,o?p.qY:o,i.maxAngle,a,u,r,c*a,h,s,1/a,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,e){let n,i,r;if(t){const e=t.getFill();e?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=(0,h.F)(e.getColor()||p.qY)):(i=null,this.textFillState_=i);const s=t.getStroke();if(s){r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);const t=s.getLineDash(),e=s.getLineDashOffset(),n=s.getWidth(),i=s.getMiterLimit();r.lineCap=s.getLineCap()||p._m,r.lineDash=t?t.slice():p.Oq,r.lineDashOffset=void 0===e?p.vk:e,r.lineJoin=s.getLineJoin()||p._K,r.lineWidth=void 0===n?p.aq:n,r.miterLimit=void 0===i?p.eL:i,r.strokeStyle=(0,h.F)(s.getColor()||p.NT)}else r=null,this.textStrokeState_=r;n=this.textState_;const o=t.getFont()||p.ZV;(0,p.fZ)(o);const a=t.getScaleArray();n.overflow=t.getOverflow(),n.font=o,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.repeat=t.getRepeat(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||p.M8,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||p.Tq,n.scale=void 0===a?[1,1]:a;const l=t.getOffsetX(),u=t.getOffsetY(),c=t.getRotateWithView(),f=t.getKeepUpright(),d=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===l?0:l,this.textOffsetY_=void 0===u?0:u,this.textRotateWithView_=void 0!==c&&c,this.textKeepUpright_=void 0===f||f,this.textRotation_=void 0===d?0:d,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:(0,M.v6)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?"string"==typeof i.fillStyle?i.fillStyle:"|"+(0,M.v6)(i.fillStyle):""}else this.text_="";this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}var F=D;const G={Circle:A,Default:S,Image:I,LineString:T,Polygon:A,Text:F};class z{constructor(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const n=this.buildersByZIndex_[e];for(const i in n){const r=n[i].finish();t[e][i]=r}}return t}getBuilder(t,e){const n=void 0!==t?t.toString():"0";let i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);let r=i[e];if(void 0===r){const t=G[e];r=new t(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=r}return r}}var Y=z,q=(n(7588),n(3371)),B=n(6811),j=n(1194),X=(n(8237),n(5907));function U(t,e,n,i,r,s,o,a,l,u,h,c,f=!0){let d=t[e],g=t[e+1],p=0,_=0,v=0,y=0;function m(){p=d,_=g,e+=i,d=t[e],g=t[e+1],y+=v,v=Math.sqrt((d-p)*(d-p)+(g-_)*(g-_))}do{m()}while(e<n-i&&y+v<s);let x=0===v?0:(s-y)/v;const E=(0,N.Cc)(p,d,x),w=(0,N.Cc)(_,g,x),S=e-i,C=y,I=s+a*l(u,r,h);while(e<n-i&&y+v<I)m();x=0===v?0:(I-y)/v;const k=(0,N.Cc)(p,d,x),T=(0,N.Cc)(_,g,x);let b=!1;if(f)if(c){const t=[E,w,k,T];(0,q.e$)(t,0,4,2,c,t,t),b=t[0]>t[2]}else b=E>k;const R=Math.PI,A=[],O=S+i===e;let L;if(e=S,v=0,y=C,d=t[e],g=t[e+1],O){m(),L=Math.atan2(g-_,d-p),b&&(L+=L>0?-R:R);const t=(k+E)/2,e=(T+w)/2;return A[0]=[t,e,(I-s)/2,L,r],A}r=r.replace(/\n/g," ");for(let M=0,P=r.length;M<P;){m();let t=Math.atan2(g-_,d-p);if(b&&(t+=t>0?-R:R),void 0!==L){let e=t-L;if(e+=e>R?-2*R:e<-R?2*R:0,Math.abs(e)>o)return null}L=t;const c=M;let f=0;for(;M<P;++M){const t=b?P-M-1:M,o=a*l(u,r[t],h);if(e+i<n&&y+v<s+f+o/2)break;f+=o}if(M===c)continue;const E=b?r.substring(P-c,P-M):r.substring(c,M);x=0===v?0:(s+f/2-y)/v;const w=(0,N.Cc)(p,d,x),S=(0,N.Cc)(_,g,x);A.push([w,S,f/2,t,E]),s+=f}return A}var V=n(4237);const W=(0,a.S5)(),K=[],H=[],$=[],Z=[];function J(t){return t[3].declutterBox}const Q=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function tt(t,e){return"start"===e?e=Q.test(t)?"right":"left":"end"===e&&(e=Q.test(t)?"left":"right"),P[e]}function et(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}function nt(t,e,n){return n%2===0&&(t+=e),t}class it{constructor(t,e,n,i,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,j.vt)(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=r?new V.A:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,e,n,i){const r=t+e+n+i;if(this.labels_[r])return this.labels_[r];const s=i?this.strokeStates[i]:null,o=n?this.fillStates[n]:null,a=this.textStates[e],l=this.pixelRatio,u=[a.scale[0]*l,a.scale[1]*l],h=a.justify?P[a.justify]:tt(Array.isArray(t)?t[0]:t,a.textAlign||p.MY),c=i&&s.lineWidth?s.lineWidth:0,f=Array.isArray(t)?t:String(t).split("\n").reduce(et,[]),{width:d,height:g,widths:_,heights:v,lineWidths:y}=(0,p.jT)(a,f),m=d+c,x=[],E=(m+2)*u[0],w=(g+c)*u[1],S={width:E<0?Math.floor(E):Math.ceil(E),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:x};1==u[0]&&1==u[1]||x.push("scale",u),i&&(x.push("strokeStyle",s.strokeStyle),x.push("lineWidth",c),x.push("lineCap",s.lineCap),x.push("lineJoin",s.lineJoin),x.push("miterLimit",s.miterLimit),x.push("setLineDash",[s.lineDash]),x.push("lineDashOffset",s.lineDashOffset)),n&&x.push("fillStyle",o.fillStyle),x.push("textBaseline","middle"),x.push("textAlign","center");const C=.5-h;let I=h*m+C*c;const k=[],T=[];let b,R=0,A=0,N=0,O=0;for(let p=0,L=f.length;p<L;p+=2){const t=f[p];if("\n"===t){A+=R,R=0,I=h*m+C*c,++O;continue}const e=f[p+1]||a.font;e!==b&&(i&&k.push("font",e),n&&T.push("font",e),b=e),R=Math.max(R,v[N]);const r=[t,I+C*_[N]+h*(_[N]-y[O]),.5*(c+R)+A];I+=_[N],i&&k.push("strokeText",r),n&&T.push("fillText",r),++N}return Array.prototype.push.apply(x,k),Array.prototype.push.apply(x,T),this.labels_[r]=S,S}replayTextBackground_(t,e,n,i,r,s,o){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),s&&(this.alignAndScaleFill_=s[2],t.fillStyle=s[1],this.fill_(t)),o&&(this.setStrokeStyle_(t,o),t.stroke())}calculateImageOrLabelDimensions_(t,e,n,i,r,s,o,l,u,h,c,f,d,g,p,_){o*=f[0],l*=f[1];let v=n-o,y=i-l;const m=r+u>t?t-u:r,x=s+h>e?e-h:s,E=g[3]+m*f[0]+g[1],w=g[0]+x*f[1]+g[2],S=v-g[3],C=y-g[0];let I;return(p||0!==c)&&(K[0]=S,Z[0]=S,K[1]=C,H[1]=C,H[0]=S+E,$[0]=H[0],$[1]=C+w,Z[1]=$[1]),0!==c?(I=(0,j.Zz)((0,j.vt)(),n,i,1,1,c,-n,-i),(0,j.Bb)(I,K),(0,j.Bb)(I,H),(0,j.Bb)(I,$),(0,j.Bb)(I,Z),(0,a.N)(Math.min(K[0],H[0],$[0],Z[0]),Math.min(K[1],H[1],$[1],Z[1]),Math.max(K[0],H[0],$[0],Z[0]),Math.max(K[1],H[1],$[1],Z[1]),W)):(0,a.N)(Math.min(S,S+E),Math.min(C,C+w),Math.max(S,S+E),Math.max(C,C+w),W),d&&(v=Math.round(v),y=Math.round(y)),{drawImageX:v,drawImageY:y,drawImageW:m,drawImageH:x,originX:u,originY:h,declutterBox:{minX:W[0],minY:W[1],maxX:W[2],maxY:W[3],value:_},canvasTransform:I,scale:f}}replayImageOrLabel_(t,e,n,i,r,s,o){const a=!(!s&&!o),l=i.declutterBox,u=o?o[2]*i.scale[0]/2:0,h=l.minX-u<=e[0]&&l.maxX+u>=0&&l.minY-u<=e[1]&&l.maxY+u>=0;return h&&(a&&this.replayTextBackground_(t,K,H,$,Z,s,o),(0,p.Jw)(t,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(t){const e=this.alignAndScaleFill_;if(e){const n=(0,j.Bb)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(n[0]%i,n[1]%i),1!==e&&t.scale(e,e),t.rotate(this.viewRotation_)}t.fill(),e&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,n,i){const r=this.textStates[e],s=this.createLabel(t,e,i,n),o=this.strokeStates[n],a=this.pixelRatio,l=tt(Array.isArray(t)?t[0]:t,r.textAlign||p.MY),u=P[r.textBaseline||p.M8],h=o&&o.lineWidth?o.lineWidth:0,c=s.width/a-2*r.scale[0],f=l*c+2*(.5-l)*h,d=u*s.height/a+2*(.5-u)*h;return{label:s,anchorX:f,anchorY:d}}execute_(t,e,n,i,s,o,l,u){const h=this.zIndexContext_;let c;this.pixelCoordinates_&&(0,r.aI)(n,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=(0,q.Rc)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(0,j.k3)(this.renderedTransform_,n));let f=0;const d=i.length;let g,_,v,y,m,x,w,S,C,I,k,T,b,R=0,A=0,N=0;const O=this.coordinateCache_,L=this.viewRotation_,M=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,P={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:L},D=this.instructions!=i||this.overlaps?0:200;let F,G,z,Y;while(f<d){const n=i[f],r=n[0];switch(r){case E.BEGIN_GEOMETRY:F=n[1],Y=n[3],F.getGeometry()?void 0===l||(0,a.HY)(l,Y.getExtent())?++f:f=n[2]+1:f=n[2],h&&(h.zIndex=n[4]);break;case E.BEGIN_PATH:A>D&&(this.fill_(t),A=0),N>D&&(t.stroke(),N=0),A||N||(t.beginPath(),m=NaN,x=NaN),++f;break;case E.CIRCLE:R=n[1];const i=c[R],r=c[R+1],d=c[R+2],q=c[R+3],B=d-i,j=q-r,V=Math.sqrt(B*B+j*j);t.moveTo(i+V,r),t.arc(i,r,V,0,2*Math.PI,!0),++f;break;case E.CLOSE_PATH:t.closePath(),++f;break;case E.CUSTOM:R=n[1],g=n[2];const W=n[3],K=n[4],H=n[5];P.geometry=W,P.feature=F,f in O||(O[f]=[]);const $=O[f];H?H(c,R,g,2,$):($[0]=c[R],$[1]=c[R+1],$.length=2),h&&(h.zIndex=n[6]),K($,P),++f;break;case E.DRAW_IMAGE:R=n[1],g=n[2],C=n[3],_=n[4],v=n[5];let Z=n[6];const Q=n[7],et=n[8],it=n[9],rt=n[10];let st=n[11];const ot=n[12];let at=n[13];y=n[14]||"declutter";const lt=n[15];if(!C&&n.length>=20){I=n[19],k=n[20],T=n[21],b=n[22];const t=this.drawLabelWithPointPlacement_(I,k,T,b);C=t.label,n[3]=C;const e=n[23];_=(t.anchorX-e)*this.pixelRatio,n[4]=_;const i=n[24];v=(t.anchorY-i)*this.pixelRatio,n[5]=v,Z=C.height,n[6]=Z,at=C.width,n[13]=at}let ut,ht,ct,ft;n.length>25&&(ut=n[25]),n.length>17?(ht=n[16],ct=n[17],ft=n[18]):(ht=p.Tq,ct=null,ft=null),rt&&M?st+=L:rt||M||(st-=L);let dt=0;for(;R<g;R+=2){if(ut&&ut[dt++]<at/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(C.width,C.height,c[R],c[R+1],at,Z,_,v,et,it,st,ot,s,ht,!!ct||!!ft,F),i=[t,e,C,n,Q,ct,ft];if(u){let t,e,r,s,o;if(lt){const n=g-R;if(!lt[n]){lt[n]={args:i,declutterMode:y};continue}const s=lt[n];t=s.args,e=s.declutterMode,delete lt[n],r=J(t)}if(!t||"declutter"===e&&u.collides(r)||(s=!0),"declutter"===y&&u.collides(n.declutterBox)||(o=!0),"declutter"===e&&"declutter"===y){const t=s&&o;s=t,o=t}s&&("none"!==e&&u.insert(r),this.replayImageOrLabel_.apply(this,t)),o&&("none"!==y&&u.insert(n.declutterBox),this.replayImageOrLabel_.apply(this,i))}else this.replayImageOrLabel_.apply(this,i)}++f;break;case E.DRAW_CHARS:const gt=n[1],pt=n[2],_t=n[3],vt=n[4];b=n[5];const yt=n[6],mt=n[7],xt=n[8];T=n[9];const Et=n[10];I=n[11],Array.isArray(I)&&(I=I.reduce(nt,"")),k=n[12];const wt=[n[13],n[13]];y=n[14]||"declutter";const St=n[15],Ct=this.textStates[k],It=Ct.font,kt=[Ct.scale[0]*mt,Ct.scale[1]*mt];let Tt;It in this.widths_?Tt=this.widths_[It]:(Tt={},this.widths_[It]=Tt);const bt=(0,X.k)(c,gt,pt,2),Rt=Math.abs(kt[0])*(0,p.TA)(It,I,Tt);if(vt||Rt<=bt){const n=this.textStates[k].textAlign,i=(bt-Rt)*tt(I,n),r=U(c,gt,pt,2,I,i,yt,Math.abs(kt[0]),p.TA,It,Tt,M?0:this.viewRotation_,St);t:if(r){const n=[];let i,s,o,a,l;if(T)for(i=0,s=r.length;i<s;++i){l=r[i],o=l[4],a=this.createLabel(o,k,"",T),_=l[2]+(kt[0]<0?-Et:Et),v=_t*a.height+2*(.5-_t)*Et*kt[1]/kt[0]-xt;const s=this.calculateImageOrLabelDimensions_(a.width,a.height,l[0],l[1],a.width,a.height,_,v,0,0,l[3],wt,!1,p.Tq,!1,F);if(u&&"declutter"===y&&u.collides(s.declutterBox))break t;n.push([t,e,a,s,1,null,null])}if(b)for(i=0,s=r.length;i<s;++i){l=r[i],o=l[4],a=this.createLabel(o,k,b,""),_=l[2],v=_t*a.height-xt;const s=this.calculateImageOrLabelDimensions_(a.width,a.height,l[0],l[1],a.width,a.height,_,v,0,0,l[3],wt,!1,p.Tq,!1,F);if(u&&"declutter"===y&&u.collides(s.declutterBox))break t;n.push([t,e,a,s,1,null,null])}u&&"none"!==y&&u.load(n.map(J));for(let t=0,e=n.length;t<e;++t)this.replayImageOrLabel_.apply(this,n[t])}}++f;break;case E.END_GEOMETRY:if(void 0!==o){F=n[1];const t=o(F,Y,y);if(t)return t}++f;break;case E.FILL:D?A++:this.fill_(t),++f;break;case E.MOVE_TO_LINE_TO:for(R=n[1],g=n[2],G=c[R],z=c[R+1],t.moveTo(G,z),m=G+.5|0,x=z+.5|0,R+=2;R<g;R+=2)G=c[R],z=c[R+1],w=G+.5|0,S=z+.5|0,R!=g-2&&w===m&&S===x||(t.lineTo(G,z),m=w,x=S);++f;break;case E.SET_FILL_STYLE:this.alignAndScaleFill_=n[2],A&&(this.fill_(t),A=0,N&&(t.stroke(),N=0)),t.fillStyle=n[1],++f;break;case E.SET_STROKE_STYLE:N&&(t.stroke(),N=0),this.setStrokeStyle_(t,n),++f;break;case E.STROKE:D?N++:t.stroke(),++f;break;default:++f;break}}A&&this.fill_(t),N&&t.stroke()}execute(t,e,n,i,r,s){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,r,void 0,void 0,s)}executeHitDetection(t,e,n,i,r){return this.viewRotation_=n,this.execute_(t,[t.canvas.width,t.canvas.height],e,this.hitDetectionInstructions,!0,i,r)}}var rt=it;const st=["Polygon","Circle","LineString","Image","Text","Default"],ot=["Image","Text"],at=st.filter((t=>!ot.includes(t)));class lt{constructor(t,e,n,i,r,s,o){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,j.vt)(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(r,o)}clip(t,e){const n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()}createExecutors_(t,e){for(const n in t){let i=this.executorsByZIndex_[n];void 0===i&&(i={},this.executorsByZIndex_[n]=i);const r=t[n];for(const t in r){const n=r[t];i[t]=new rt(this.resolution_,this.pixelRatio_,this.overlaps_,n,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const n=this.executorsByZIndex_[e];for(let e=0,i=t.length;e<i;++e)if(t[e]in n)return!0}return!1}forEachFeatureAtCoordinate(t,e,n,i,s,l){i=Math.round(i);const u=2*i+1,h=(0,j.Zz)(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=(0,o.Y)(u,u));const f=this.hitDetectionContext_;let d;f.canvas.width!==u||f.canvas.height!==u?(f.canvas.width=u,f.canvas.height=u):c||f.clearRect(0,0,u,u),void 0!==this.renderBuffer_&&(d=(0,a.S5)(),(0,a.$C)(d,t),(0,a.r)(d,e*(this.renderBuffer_+i),d));const g=ht(i);let p;function _(t,e,n){const r=f.getImageData(0,0,u,u).data;for(let o=0,a=g.length;o<a;o++)if(r[g[o]]>0){if(!l||"none"===n||"Image"!==p&&"Text"!==p||l.includes(t)){const n=(g[o]-3)/4,r=i-n%u,a=i-(n/u|0),l=s(t,e,r*r+a*a);if(l)return l}f.clearRect(0,0,u,u);break}}const v=Object.keys(this.executorsByZIndex_).map(Number);let y,m,x,E,w;for(v.sort(r.V_),y=v.length-1;y>=0;--y){const t=v[y].toString();for(x=this.executorsByZIndex_[t],m=st.length-1;m>=0;--m)if(p=st[m],E=x[p],void 0!==E&&(w=E.executeHitDetection(f,h,n,_,d),w))return w}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const n=e[0],i=e[1],r=e[2],s=e[3],o=[n,i,n,s,r,s,r,i];return(0,q.Rc)(o,0,8,2,t,o),o}isEmpty(){return(0,B.p)(this.executorsByZIndex_)}execute(t,e,n,i,s,o,a){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(a?r.rG:r.V_),o=o||st;const u=st.length;for(let r=0,h=l.length;r<h;++r){const h=l[r].toString(),c=this.executorsByZIndex_[h];for(let f=0,d=o.length;f<d;++f){const h=o[f],d=c[h];if(void 0!==d){const o=null===a?void 0:d.getZIndexContext(),c=o?o.getContext():t,g=this.maxExtent_&&"Image"!==h&&"Text"!==h;if(g&&(c.save(),this.clip(c,n)),o&&"Text"!==h&&"Image"!==h?o.pushFunction((t=>d.execute(t,e,n,i,s,a))):d.execute(c,e,n,i,s,a),g&&c.restore(),o){o.offset();const t=l[r]*u+f;this.deferredZIndexContexts_[t]||(this.deferredZIndexContexts_[t]=[]),this.deferredZIndexContexts_[t].push(o)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,e=Object.keys(t).map(Number).sort(r.V_);for(let n=0,i=e.length;n<i;++n)t[e[n]].forEach((t=>{t.draw(this.renderedContext_),t.clear()})),t[e[n]].length=0}}const ut={};function ht(t){if(void 0!==ut[t])return ut[t];const e=2*t+1,n=t*t,i=new Array(n+1);for(let s=0;s<=t;++s)for(let r=0;r<=t;++r){const o=s*s+r*r;if(o>n)break;let a=i[o];a||(a=[],i[o]=a),a.push(4*((t+s)*e+(t+r))+3),s>0&&a.push(4*((t-s)*e+(t+r))+3),r>0&&(a.push(4*((t+s)*e+(t-r))+3),s>0&&a.push(4*((t-s)*e+(t-r))+3))}const r=[];for(let s=0,o=i.length;s<o;++s)i[s]&&r.push(...i[s]);return ut[t]=r,r}var ct=lt,ft=n(2375),dt=n(3665);class gt extends g{constructor(t,e,n,i,r,s,o){super(),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=i,this.transformRotation_=i?(0,N.Mg)(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=s,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,j.vt)()}drawImages_(t,e,n,i){if(!this.image_)return;const r=(0,q.Rc)(t,e,n,i,this.transform_,this.pixelCoordinates_),s=this.context_,o=this.tmpLocalTransform_,a=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=a*this.imageOpacity_);let l=this.imageRotation_;0===this.transformRotation_&&(l-=this.viewRotation_),this.imageRotateWithView_&&(l+=this.viewRotation_);for(let u=0,h=r.length;u<h;u+=2){const t=r[u]-this.imageAnchorX_,e=r[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const n=t+this.imageAnchorX_,i=e+this.imageAnchorY_;(0,j.Zz)(o,n,i,1,1,l,-n,-i),s.save(),s.transform.apply(s,o),s.translate(n,i),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,e,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=a)}drawText_(t,e,n,i){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const r=(0,q.Rc)(t,e,n,i,this.transform_,this.pixelCoordinates_),s=this.context_;let o=this.textRotation_;for(0===this.transformRotation_&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);e<n;e+=i){const t=r[e]+this.textOffsetX_,n=r[e+1]+this.textOffsetY_;0!==o||1!=this.textScale_[0]||1!=this.textScale_[1]?(s.save(),s.translate(t-this.textOffsetX_,n-this.textOffsetY_),s.rotate(o),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,t,n),this.textFillState_&&s.fillText(this.text_,t,n))}}moveToLineTo_(t,e,n,i,r){const s=this.context_,o=(0,q.Rc)(t,e,n,i,this.transform_,this.pixelCoordinates_);s.moveTo(o[0],o[1]);let a=o.length;r&&(a-=2);for(let l=2;l<a;l+=2)s.lineTo(o[l],o[l+1]);return r&&s.closePath(),n}drawRings_(t,e,n,i){for(let r=0,s=n.length;r<s;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,a.HY)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=(0,dt.v7)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),s=this.context_;s.beginPath(),s.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){const e=t.getType();switch(e){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break;default:}}drawFeature(t,e){const n=e.getGeometryFunction()(t);n&&(this.setStyle(e),this.drawGeometry(n))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,a.HY)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if((0,a.HY)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();let i=0;const r=t.getEnds(),s=t.getStride();e.beginPath();for(let t=0,o=r.length;t<o;++t)i=this.moveToLineTo_(n,i,r[t],s,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,a.HY)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,a.HY)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getOrientedFlatCoordinates();let i=0;const r=t.getEndss(),s=t.getStride();e.beginPath();for(let t=0,o=r.length;t<o;++t){const e=r[t];i=this.drawRings_(n,i,e,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),(0,r.aI)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:p.MY;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:(0,h.F)(e||p.qY)}}else this.fillState_=null;if(e){const t=e.getColor(),n=e.getLineCap(),i=e.getLineDash(),r=e.getLineDashOffset(),s=e.getLineJoin(),o=e.getWidth(),a=e.getMiterLimit(),l=i||p.Oq;this.strokeState_={lineCap:void 0!==n?n:p._m,lineDash:1===this.pixelRatio_?l:l.map((t=>t*this.pixelRatio_)),lineDashOffset:(r||p.vk)*this.pixelRatio_,lineJoin:void 0!==s?s:p._K,lineWidth:(void 0!==o?o:p.aq)*this.pixelRatio_,miterLimit:void 0!==a?a:p.eL,strokeStyle:(0,h.F)(t||p.NT)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const n=t.getPixelRatio(this.pixelRatio_),i=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*n,this.imageAnchorY_=i[1]*n,this.imageHeight_=e[1]*n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const s=t.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/n,s[1]*this.pixelRatio_/n],this.imageWidth_=e[0]*n}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:(0,h.F)(t||p.qY)}}else this.textFillState_=null;const n=t.getStroke();if(n){const t=n.getColor(),e=n.getLineCap(),i=n.getLineDash(),r=n.getLineDashOffset(),s=n.getLineJoin(),o=n.getWidth(),a=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:p._m,lineDash:i||p.Oq,lineDashOffset:r||p.vk,lineJoin:void 0!==s?s:p._K,lineWidth:void 0!==o?o:p.aq,miterLimit:void 0!==a?a:p.eL,strokeStyle:(0,h.F)(t||p.NT)}}else this.textStrokeState_=null;const i=t.getFont(),r=t.getOffsetX(),s=t.getOffsetY(),o=t.getRotateWithView(),a=t.getRotation(),l=t.getScaleArray(),u=t.getText(),c=t.getTextAlign(),f=t.getTextBaseline();this.textState_={font:void 0!==i?i:p.ZV,textAlign:void 0!==c?c:p.MY,textBaseline:void 0!==f?f:p.M8},this.text_=void 0!==u?Array.isArray(u)?u.reduce(((t,e,n)=>t+(n%2?" ":e)),""):u:"",this.textOffsetX_=void 0!==r?this.pixelRatio_*r:0,this.textOffsetY_=void 0!==s?this.pixelRatio_*s:0,this.textRotateWithView_=void 0!==o&&o,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*l[0],this.pixelRatio_*l[1]]}else this.text_=""}}var pt=gt;const _t=.5;function vt(t,e,n,i,s,u,h,c,f){const d=f?(0,l.JR)(s,f):s,g=t[0]*_t,p=t[1]*_t,_=(0,o.Y)(g,p);_.imageSmoothingEnabled=!1;const v=_.canvas,y=new pt(_,_t,s,null,h,c,f?(0,l.FO)((0,l.Tf)(),f):null),m=n.length,x=Math.floor(16777215/m),E={};for(let r=1;r<=m;++r){const t=n[r-1],e=t.getStyleFunction()||i;if(!e)continue;let s=e(t,u);if(!s)continue;Array.isArray(s)||(s=[s]);const l=r*x,h=l.toString(16).padStart(7,"#00000");for(let n=0,i=s.length;n<i;++n){const e=s[n],i=e.getGeometryFunction()(t);if(!i||!(0,a.HY)(d,i.getExtent()))continue;const r=e.clone(),l=r.getFill();l&&l.setColor(h);const u=r.getStroke();u&&(u.setColor(h),u.setLineDash(null)),r.setText(void 0);const c=e.getImage();if(c){const t=c.getImageSize();if(!t)continue;const e=(0,o.Y)(t[0],t[1],void 0,{alpha:!1}),n=e.canvas;e.fillStyle=h,e.fillRect(0,0,n.width,n.height),r.setImage(new ft.A({img:n,anchor:c.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:c.getOrigin(),opacity:1,size:c.getSize(),scale:c.getScale(),rotation:c.getRotation(),rotateWithView:c.getRotateWithView()}))}const f=r.getZIndex()||0;let g=E[f];g||(g={},E[f]=g,g["Polygon"]=[],g["Circle"]=[],g["LineString"]=[],g["Point"]=[]);const p=i.getType();if("GeometryCollection"===p){const t=i.getGeometriesArrayRecursive();for(let e=0,n=t.length;e<n;++e){const n=t[e];g[n.getType().replace("Multi","")].push(n,r)}}else g[p.replace("Multi","")].push(i,r)}}const w=Object.keys(E).map(Number).sort(r.V_);for(let r=0,o=w.length;r<o;++r){const t=E[w[r]];for(const n in t){const i=t[n];for(let t=0,n=i.length;t<n;t+=2){y.setStyle(i[t+1]);for(let n=0,r=e.length;n<r;++n)y.setTransform(e[n]),y.drawGeometry(i[t])}}}return _.getImageData(0,0,v.width,v.height)}function yt(t,e,n){const i=[];if(n){const r=Math.floor(Math.round(t[0])*_t),s=Math.floor(Math.round(t[1])*_t),o=4*((0,N.qE)(r,0,n.width-1)+(0,N.qE)(s,0,n.height-1)*n.width),a=n.data[o],l=n.data[o+1],u=n.data[o+2],h=u+256*(l+256*a),c=Math.floor(16777215/e.length);h&&h%c===0&&i.push(e[h/c-1])}return i}var mt=n(1410);const xt=.5,Et={Point:Lt,LineString:At,Polygon:Pt,MultiPoint:Mt,MultiLineString:Nt,MultiPolygon:Ot,GeometryCollection:Rt,Circle:It};function wt(t,e){return parseInt((0,M.v6)(t),10)-parseInt((0,M.v6)(e),10)}function St(t,e){const n=Ct(t,e);return n*n}function Ct(t,e){return xt*t/e}function It(t,e,n,i,r){const s=n.getFill(),o=n.getStroke();if(s||o){const a=t.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(s,o),a.drawCircle(e,i,r)}const a=n.getText();if(a&&a.getText()){const r=t.getBuilder(n.getZIndex(),"Text");r.setTextStyle(a),r.drawText(e,i)}}function kt(t,e,n,i,r,s,o,a){const l=[],u=n.getImage();if(u){let t=!0;const e=u.getImageState();e==mt.A.LOADED||e==mt.A.ERROR?t=!1:e==mt.A.IDLE&&u.load(),t&&l.push(u.ready())}const h=n.getFill();h&&h.loading()&&l.push(h.ready());const c=l.length>0;return c&&Promise.all(l).then((()=>r(null))),Tt(t,e,n,i,s,o,a),c}function Tt(t,e,n,i,r,s,o){const a=n.getGeometryFunction()(e);if(!a)return;const l=a.simplifyTransformed(i,r),u=n.getRenderer();if(u)bt(t,l,n,e,o);else{const i=Et[l.getType()];i(t,l,n,e,o,s)}}function bt(t,e,n,i,r){if("GeometryCollection"==e.getType()){const s=e.getGeometries();for(let e=0,o=s.length;e<o;++e)bt(t,s[e],n,i,r);return}const s=t.getBuilder(n.getZIndex(),"Default");s.drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),r)}function Rt(t,e,n,i,r,s){const o=e.getGeometriesArray();let a,l;for(a=0,l=o.length;a<l;++a){const e=Et[o[a].getType()];e(t,o[a],n,i,r,s)}}function At(t,e,n,i,r){const s=n.getStroke();if(s){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,s),o.drawLineString(e,i,r)}const o=n.getText();if(o&&o.getText()){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(o),s.drawText(e,i,r)}}function Nt(t,e,n,i,r){const s=n.getStroke();if(s){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,s),o.drawMultiLineString(e,i,r)}const o=n.getText();if(o&&o.getText()){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(o),s.drawText(e,i,r)}}function Ot(t,e,n,i,r){const s=n.getFill(),o=n.getStroke();if(o||s){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(s,o),a.drawMultiPolygon(e,i,r)}const a=n.getText();if(a&&a.getText()){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(a),s.drawText(e,i,r)}}function Lt(t,e,n,i,r,s){const o=n.getImage(),a=n.getText(),l=a&&a.getText(),u=s&&o&&l?{}:void 0;if(o){if(o.getImageState()!=mt.A.LOADED)return;const s=t.getBuilder(n.getZIndex(),"Image");s.setImageStyle(o,u),s.drawPoint(e,i,r)}if(l){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(a,u),s.drawText(e,i,r)}}function Mt(t,e,n,i,r,s){const o=n.getImage(),a=o&&0!==o.getOpacity(),l=n.getText(),u=l&&l.getText(),h=s&&a&&u?{}:void 0;if(a){if(o.getImageState()!=mt.A.LOADED)return;const s=t.getBuilder(n.getZIndex(),"Image");s.setImageStyle(o,h),s.drawMultiPoint(e,i,r)}if(u){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(l,h),s.drawText(e,i,r)}}function Pt(t,e,n,i,r){const s=n.getFill(),o=n.getStroke();if(s||o){const a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(s,o),a.drawPolygon(e,i,r)}const a=n.getText();if(a&&a.getText()){const s=t.getBuilder(n.getZIndex(),"Text");s.setTextStyle(a),s.drawText(e,i,r)}}var Dt=n(3525);class Ft extends Dt.A{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,a.S5)(),this.wrappedRenderedExtent_=(0,a.S5)(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,e,n){const r=e.extent,s=e.viewState,o=s.center,l=s.resolution,u=s.projection,h=s.rotation,c=u.getExtent(),f=this.getLayer().getSource(),d=this.getLayer().getDeclutter(),g=e.pixelRatio,p=e.viewHints,_=!(p[i.A.ANIMATING]||p[i.A.INTERACTING]),v=this.context,y=Math.round((0,a.RG)(r)/l*g),m=Math.round((0,a.Oq)(r)/l*g),x=f.getWrapX()&&u.canWrapX(),E=x?(0,a.RG)(c):null,w=x?Math.ceil((r[2]-c[2])/E)+1:1;let S=x?Math.floor((r[0]-c[0])/E):0;do{let i=this.getRenderTransform(o,l,0,g,y,m,S*E);e.declutter&&(i=i.slice(0)),t.execute(v,[v.canvas.width,v.canvas.height],i,h,_,void 0===n?st:n?ot:at,n?d&&e.declutter[d]:void 0)}while(++S<w)}setDrawContext_(){1!==this.opacity_&&(this.targetContext_=this.context,this.context=(0,o.Y)(this.context.canvas.width,this.context.canvas.height,Dt.B))}resetDrawContext_(){if(1!==this.opacity_){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,(0,o.Yg)(this.context),Dt.B.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){this.replayGroup_&&this.getLayer().getDeclutter()&&this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,e){const n=t.layerStatesArray[t.layerIndex];this.opacity_=n.opacity;const i=t.viewState;this.prepareContainer(t,e);const r=this.context,s=this.replayGroup_;let o=s&&!s.isEmpty();if(!o){const t=this.getLayer().hasListener(u.A.PRERENDER)||this.getLayer().hasListener(u.A.POSTRENDER);if(!t)return this.container}this.setDrawContext_(),this.preRender(r,t);const h=i.projection;if(this.clipped_=!1,o&&n.extent&&this.clipping){const e=(0,l.SD)(n.extent,h);o=(0,a.HY)(e,t.extent),this.clipped_=o&&!(0,a.ms)(e,t.extent),this.clipped_&&this.clipUnrotated(r,t,e)}return o&&this.renderWorlds(s,t,!this.getLayer().getDeclutter()&&void 0),!t.declutter&&this.clipped_&&r.restore(),this.postRender(r,t),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise((e=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const t=this.frameState.size.slice(),e=this.renderedCenter_,n=this.renderedResolution_,i=this.renderedRotation_,r=this.renderedProjection_,s=this.wrappedRenderedExtent_,o=this.getLayer(),u=[],h=t[0]*_t,c=t[1]*_t;u.push(this.getRenderTransform(e,n,i,_t,h,c,0).slice());const f=o.getSource(),d=r.getExtent();if(f.getWrapX()&&r.canWrapX()&&!(0,a.ms)(d,s)){let t=s[0];const r=(0,a.RG)(d);let o,l=0;while(t<d[0])--l,o=r*l,u.push(this.getRenderTransform(e,n,i,_t,h,c,o).slice()),t+=r;l=0,t=s[2];while(t>d[2])++l,o=r*l,u.push(this.getRenderTransform(e,n,i,_t,h,c,o).slice()),t-=r}const g=(0,l.Tf)();this.hitDetectionImageData_=vt(t,u,this.renderedFeatures_,o.getStyleFunction(),s,n,i,St(n,this.renderedPixelRatio_),g?r:null)}e(yt(t,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(t,e,n,i,r){if(!this.replayGroup_)return;const s=e.viewState.resolution,o=e.viewState.rotation,a=this.getLayer(),l={},u=function(t,e,n){const s=(0,M.v6)(t),o=l[s];if(o){if(!0!==o&&n<o.distanceSq){if(0===n)return l[s]=!0,r.splice(r.lastIndexOf(o),1),i(t,a,e);o.geometry=e,o.distanceSq=n}}else{if(0===n)return l[s]=!0,i(t,a,e);r.push(l[s]={feature:t,layer:a,geometry:e,distanceSq:n,callback:i})}},h=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,s,o,n,u,h?e.declutter?.[h]?.all().map((t=>t.value)):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),n=e.getSource();if(!n)return!1;const o=t.viewHints[i.A.ANIMATING],u=t.viewHints[i.A.INTERACTING],h=e.getUpdateWhileAnimating(),c=e.getUpdateWhileInteracting();if(this.ready&&!h&&o||!c&&u)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const f=t.extent,d=t.viewState,g=d.projection,p=d.resolution,_=t.pixelRatio,v=e.getRevision(),y=e.getRenderBuffer();let m=e.getRenderOrder();void 0===m&&(m=wt);const x=d.center.slice(),E=(0,a.r)(f,y*p),w=E.slice(),S=[E.slice()],C=g.getExtent();if(n.getWrapX()&&g.canWrapX()&&!(0,a.ms)(C,t.extent)){const t=(0,a.RG)(C),e=Math.max((0,a.RG)(E)/2,t);E[0]=C[0]-e,E[2]=C[2]+e,(0,s.Li)(x,g);const n=(0,a.Li)(S[0],g);n[0]<C[0]&&n[2]<C[2]?S.push([n[0]+t,n[1],n[2]+t,n[3]]):n[0]>C[0]&&n[2]>C[2]&&S.push([n[0]-t,n[1],n[2]-t,n[3]])}if(this.ready&&this.renderedResolution_==p&&this.renderedRevision_==v&&this.renderedRenderOrder_==m&&this.renderedFrameDeclutter_===!!t.declutter&&(0,a.ms)(this.wrappedRenderedExtent_,E))return(0,r.aI)(this.renderedExtent_,w)||(this.hitDetectionImageData_=null,this.renderedExtent_=w),this.renderedCenter_=x,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const I=new Y(Ct(p,_),E,p,_),k=(0,l.Tf)();let T;if(k){for(let t=0,e=S.length;t<e;++t){const e=S[t],i=(0,l.JR)(e,g);n.loadFeatures(i,(0,l.vN)(p,g),k)}T=(0,l.FO)(k,g)}else for(let i=0,r=S.length;i<r;++i)n.loadFeatures(S[i],p,g);const b=St(p,_);let R=!0;const A=(t,n)=>{let i;const r=t.getStyleFunction()||e.getStyleFunction();if(r&&(i=r(t,p)),i){const e=this.renderFeature(t,b,i,I,T,this.getLayer().getDeclutter(),n);R=R&&!e}},N=(0,l.JR)(E,g),O=n.getFeaturesInExtent(N);m&&O.sort(m);for(let i=0,r=O.length;i<r;++i)A(O[i],i);this.renderedFeatures_=O,this.ready=R;const L=I.finish(),M=new ct(E,p,_,n.getOverlaps(),L,e.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=p,this.renderedRevision_=v,this.renderedRenderOrder_=m,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=w,this.wrappedRenderedExtent_=E,this.renderedCenter_=x,this.renderedProjection_=g,this.renderedPixelRatio_=_,this.replayGroup_=M,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,n,i,r,s,o){if(!n)return!1;let a=!1;if(Array.isArray(n))for(let l=0,u=n.length;l<u;++l)a=kt(i,t,n[l],e,this.boundHandleStyleImageChange_,r,s,o)||a;else a=kt(i,t,n,e,this.boundHandleStyleImageChange_,r,s,o);return a}}var Gt=Ft,zt=n(3998);class Yt extends zt.A{constructor(t){super(t)}createRenderer(){return new Gt(this)}}var qt=Yt},4476:function(t,e,n){"use strict";function i(t,e,n,i,r){r=void 0!==r?r:[];let s=0;for(let o=e;o<n;o+=i)r[s++]=t.slice(o,o+i);return r.length=s,r}function r(t,e,n,r,s){s=void 0!==s?s:[];let o=0;for(let a=0,l=n.length;a<l;++a){const l=n[a];s[o++]=i(t,e,l,r,s[o]),e=l}return s.length=o,s}function s(t,e,n,i,s){s=void 0!==s?s:[];let o=0;for(let a=0,l=n.length;a<l;++a){const l=n[a];s[o++]=1===l.length&&l[0]===e?[]:r(t,e,l,i,s[o]),e=l[l.length-1]}return s.length=o,s}n.d(e,{Dz:function(){return s},cD:function(){return r},n2:function(){return i}})},4495:function(t,e,n){"use strict";var i=n(9519),r=n(9039),s=n(4576),o=s.String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},4527:function(t,e,n){"use strict";var i=n(3724),r=n(4376),s=TypeError,o=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(r(t)&&!o(t,"length").writable)throw new s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4543:function(t,e){"use strict";e.A={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},4549:function(t,e,n){"use strict";var i=n(4576);t.exports=function(t,e){var n=i.Iterator,r=n&&n.prototype,s=r&&r[t],o=!1;if(s)try{s.call({next:function(){return{done:!0}},return:function(){o=!0}},-1)}catch(a){a instanceof e||(o=!1)}if(!o)return s}},4576:function(t,e,n){"use strict";var i=function(t){return t&&t.Math===Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4659:function(t,e,n){"use strict";var i=n(3724),r=n(4913),s=n(6980);t.exports=function(t,e,n){i?r.f(t,e,s(0,n)):t[e]=n}},4871:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});class i{constructor(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function r(t,e,n,r,s){return void 0!==s?(s.minX=t,s.maxX=e,s.minY=n,s.maxY=r,s):new i(t,e,n,r)}e.A=i},4901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},4913:function(t,e,n){"use strict";var i=n(3724),r=n(5917),s=n(8686),o=n(8551),a=n(6969),l=TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,c="enumerable",f="configurable",d="writable";e.f=i?s?function(t,e,n){if(o(t),e=a(e),o(n),"function"===typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var i=h(t,e);i&&i[d]&&(t[e]=n.value,n={configurable:f in n?n[f]:i[f],enumerable:c in n?n[c]:i[c],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(o(t),e=a(e),o(n),r)try{return u(t,e,n)}catch(i){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},4916:function(t,e,n){"use strict";var i=n(7751),r=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},s=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}};t.exports=function(t,e){var n=i("Set");try{(new n)[t](r(0));try{return(new n)[t](r(-1)),!1}catch(a){if(!e)return!0;try{return(new n)[t](s(-1/0)),!1}catch(l){var o=new n;return o.add(1),o.add(2),e(o[t](s(1/0)))}}}catch(l){return!1}}},5023:function(t,e,n){"use strict";var i=n(1410),r=n(713),s=n(6294),o=n(7334),a=n(8911),l=n(8886),u=n(1382),h=n(7749);class c extends h.A{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?i.A.LOADING:i.A.LOADED,this.imageState_===i.A.LOADING&&this.ready().then((()=>this.imageState_=i.A.LOADED)),this.render()}clone(){const t=this.getScale(),e=new c({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_,e=this.getDisplacement(),n=this.getScaleArray();return[t[0]/2-e[0]/n[0],t[1]/2+e[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){const e=this.fill_?.getKey(),n=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${e}`+Object.values(this.renderOptions_).join(",");let r=u.ue.get(n,null,null)?.getImage(1);if(!r){const e=this.renderOptions_,s=Math.ceil(e.size*t),a=(0,o.Y)(s,s);this.draw_(e,a,t),r=a.canvas,u.ue.set(n,null,null,new l.A(r,void 0,null,i.A.LOADED,null))}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let i=this.radius,r=void 0===this.radius2_?i:this.radius2_;if(i<r){const t=i;i=r,r=t}const s=void 0===this.radius2_?this.points_:2*this.points_,o=2*Math.PI/s,a=r*Math.sin(o),l=Math.sqrt(r*r-a*a),u=i-l,h=Math.sqrt(a*a+u*u),c=h/a;if("miter"===t&&c<=n)return c*e;const f=e/2/c,d=e/2*(u/h),g=Math.sqrt((i+f)*(i+f)+d*d),p=g-i;if(void 0===this.radius2_||"bevel"===t)return 2*p;const _=i*Math.sin(o),v=Math.sqrt(i*i-_*_),y=r-v,m=Math.sqrt(_*_+y*y),x=m/_;if(x<=n){const t=x*e/2-r-i;return 2*Math.max(p,t)}return 2*p}createRenderOptions(){let t,e=a._m,n=a._K,i=0,r=null,o=0,l=0;this.stroke_&&(t=(0,s.F)(this.stroke_.getColor()??a.NT),l=this.stroke_.getWidth()??a.aq,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??a._K,e=this.stroke_.getLineCap()??a._m,i=this.stroke_.getMiterLimit()??a.eL);const u=this.calculateLineJoinSize_(n,l,i),h=Math.max(this.radius,this.radius2_||0),c=Math.ceil(2*h+u);return{strokeStyle:t,strokeWidth:l,size:c,lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=a.qY),e.fillStyle=(0,s.F)(t),e.fill()}t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){let e;if(this.fill_){let n=this.fill_.getColor(),i=0;"string"===typeof n&&(n=(0,r._j)(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i&&(e=(0,o.Y)(t.size,t.size),this.drawHitDetectionCanvas_(t,e))}return e?e.canvas:this.getImage(1)}createPath_(t){let e=this.points_;const n=this.radius;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{const i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);const r=this.angle_-Math.PI/2,s=2*Math.PI/e;for(let o=0;o<e;o++){const e=r+o*s,a=o%2===0?n:i;t.lineTo(a*Math.cos(e),a*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=a.qY,e.fill(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}e.A=c},5024:function(t,e,n){"use strict";var i=n(6518),r=n(3650),s=n(4916);i({target:"Set",proto:!0,real:!0,forced:!s("symmetricDifference")},{symmetricDifference:r})},5031:function(t,e,n){"use strict";var i=n(7751),r=n(9504),s=n(8480),o=n(3717),a=n(8551),l=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=s.f(a(t)),n=o.f;return n?l(e,n(t)):e}},5170:function(t,e,n){"use strict";var i=n(6706),r=n(4402);t.exports=i(r.proto,"size","get")||function(t){return t.size}},5258:function(t,e,n){"use strict";n(4114);var i=n(3851),r=n(7444),s=n(5522),o=n(3754),a=n(3665),l=n(1522),u=n(8298),h=n(6072),c=n(8330),f=n(6320),d=n(4476),g=n(7689),p=n(1814),_=n(1853),v=n(3344);class y extends a.Ay{constructor(t,e,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){const r=t,s=[],o=[];for(let t=0,e=r.length;t<e;++t){const e=r[t],n=s.length,a=e.getEnds();for(let t=0,i=a.length;t<i;++t)a[t]+=n;(0,i.X$)(s,e.getFlatCoordinates()),o.push(a)}e=0===r.length?this.getLayout():r[0].getLayout(),t=s,n=o}void 0!==e&&n?(this.setFlatCoordinates(e,t),this.endss_=n):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){const n=this.flatCoordinates.length;(0,i.X$)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let t=0,i=e.length;t<i;++t)e[t]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let i=0;i<t;++i)e[i]=this.endss_[i].slice();const n=new y(this.flatCoordinates.slice(),this.layout,e);return n.applyProperties(this),n}closestPointXY(t,e,n,i){return i<(0,r.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,h.c)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,h.te)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return(0,c.Gd)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return(0,l.Cs)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.NK)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,d.Dz)(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=(0,u.C)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,g.p)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new s.A(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;(0,_.mb)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.NK)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,v.sx)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n),new y(e,"XY",n)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(0===t)e=0;else{const n=this.endss_[t-1];e=n[n.length-1]}const n=this.endss_[t].slice(),i=n[n.length-1];if(0!==e)for(let r=0,s=n.length;r<s;++r)n[r]-=e;return new o.Ay(this.flatCoordinates.slice(e,i),this.layout,n)}getPolygons(){const t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[];let r=0;for(let s=0,a=n.length;s<a;++s){const a=n[s].slice(),l=a[a.length-1];if(0!==r)for(let t=0,e=a.length;t<e;++t)a[t]-=r;const u=new o.Ay(e.slice(r,l),t,a);i.push(u),r=l}return i}getType(){return"MultiPolygon"}intersectsExtent(t){return(0,p.Wp)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=(0,f.d6)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const t=n[n.length-1];this.flatCoordinates.length=0===t.length?0:t[t.length-1]}this.changed()}}e.A=y},5274:function(t,e,n){"use strict";var i=n(5023);class r extends i.A{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius=t,this.render()}}e.A=r},5289:function(t,e,n){"use strict";n.d(e,{a$:function(){return o},b8:function(){return r},cq:function(){return a},dv:function(){return s}});var i=n(5674);function r(t){if(void 0!==t)return 0}function s(t){if(void 0!==t)return t}function o(t){const e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?(t=Math.floor(t/e+.5)*e,t):void 0}}function a(t){const e=void 0===t?(0,i.eh)(5):t;return function(t,n){return n||void 0===t?t:Math.abs(t)<=e?0:t}}},5397:function(t,e,n){"use strict";var i=n(7055),r=n(7750);t.exports=function(t){return i(r(t))}},5522:function(t,e,n){"use strict";n(4114);var i=n(3851),r=n(7444),s=n(5674),o=n(8225),a=n(3665),l=n(6320),u=n(4476);class h extends a.Ay{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){(0,i.X$)(this.flatCoordinates,t.getFlatCoordinates()),this.changed()}clone(){const t=new h(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){if(i<(0,r.Ld)(this.getExtent(),t,e))return i;const o=this.flatCoordinates,a=this.stride;for(let r=0,l=o.length;r<l;r+=a){const l=(0,s.hG)(t,e,o[r],o[r+1]);if(l<i){i=l;for(let t=0;t<a;++t)n[t]=o[r+t];n.length=a}}return i}getCoordinates(){return(0,u.n2)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const e=this.flatCoordinates.length/this.stride;return t<0||e<=t?null:new o.A(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,n=this.stride,i=[];for(let r=0,s=t.length;r<s;r+=n){const s=new o.A(t.slice(r,r+n),e);i.push(s)}return i}getType(){return"MultiPoint"}intersectsExtent(t){const e=this.flatCoordinates,n=this.stride;for(let i=0,s=e.length;i<s;i+=n){const n=e[i],s=e[i+1];if((0,r.Rj)(t,n,s))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,l.z2)(this.flatCoordinates,0,t,this.stride),this.changed()}}e.A=h},5572:function(t,e,n){"use strict";n.d(e,{L8:function(){return a},SH:function(){return s},gr:function(){return o}});n(4114);var i=n(3851),r=n(5674);function s(t,e,n,s,o,a,l){let u,h;const c=(n-e)/s;if(1===c)u=e;else if(2===c)u=e,h=o;else if(0!==c){let r=t[e],a=t[e+1],l=0;const c=[0];for(let i=e+s;i<n;i+=s){const e=t[i],n=t[i+1];l+=Math.sqrt((e-r)*(e-r)+(n-a)*(n-a)),c.push(l),r=e,a=n}const f=o*l,d=(0,i.El)(c,f);d<0?(h=(f-c[-d-2])/(c[-d-1]-c[-d-2]),u=e+(-d-2)*s):u=e+d*s}l=l>1?l:2,a=a||new Array(l);for(let i=0;i<l;++i)a[i]=void 0===u?NaN:void 0===h?t[u+i]:(0,r.Cc)(t[u+i],t[u+s+i],h);return a}function o(t,e,n,i,s,o){if(n==e)return null;let a;if(s<t[e+i-1])return o?(a=t.slice(e,e+i),a[i-1]=s,a):null;if(t[n-1]<s)return o?(a=t.slice(n-i,n),a[i-1]=s,a):null;if(s==t[e+i-1])return t.slice(e,e+i);let l=e/i,u=n/i;while(l<u){const e=l+u>>1;s<t[(e+1)*i-1]?u=e:l=e+1}const h=t[l*i-1];if(s==h)return t.slice((l-1)*i,(l-1)*i+i);const c=t[(l+1)*i-1],f=(s-h)/(c-h);a=[];for(let d=0;d<i-1;++d)a.push((0,r.Cc)(t[(l-1)*i+d],t[l*i+d],f));return a.push(s),a}function a(t,e,n,i,r,s,a){if(a)return o(t,e,n[n.length-1],i,r,s);let l;if(r<t[i-1])return s?(l=t.slice(0,i),l[i-1]=r,l):null;if(t[t.length-1]<r)return s?(l=t.slice(t.length-i),l[i-1]=r,l):null;for(let u=0,h=n.length;u<h;++u){const s=n[u];if(e!=s){if(r<t[e+i-1])return null;if(r<=t[s-1])return o(t,e,s,i,r,!1);e=s}}return null}},5577:function(t,e,n){n(4114),n(8111),n(2489),n(116),n(7588),n(1701),n(1806),function(e,n){t.exports=n()}(0,(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function e(t,e,n){return e=l(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){if(h())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(t.bind.apply(t,i));return n&&c(r,n.prototype),r}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,g(i.key),i)}}function s(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=p(t))||e){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},a.apply(null,arguments)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function f(t,e,n,i){var r=a(l(1&i?t.prototype:t),e,n);return 2&i&&"function"==typeof r?function(t){return r.apply(n,t)}:r}function d(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:e+""}function p(e,n){if(e){if("string"==typeof e)return t(e,n);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}function _(t){var e="function"==typeof Map?new Map:void 0;return _=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return i(t,arguments,l(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,t)},_(t)}var v=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=t.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=t.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==t.JOIN_ROUND&&(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(t){this._joinStyle=t}},{key:"setSimplifyFactor",value:function(t){this._simplifyFactor=t<0?0:t}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(t){this._endCapStyle=t}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(t){this._mitreLimit=t}},{key:"setSingleSided",value:function(t){this._isSingleSided=t}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(s),this.setJoinStyle(o),this.setMitreLimit(a)}}},{key:"bufferDistanceError",value:function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)}}])}();v.CAP_ROUND=1,v.CAP_FLAT=2,v.CAP_SQUARE=3,v.JOIN_ROUND=1,v.JOIN_MITRE=2,v.JOIN_BEVEL=3,v.DEFAULT_QUADRANT_SEGMENTS=8,v.DEFAULT_MITRE_LIMIT=5,v.DEFAULT_SIMPLIFY_FACTOR=.01;var y=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({Exception:i})[0],r}return u(i,t),s(i,[{key:"toString",value:function(){return this.message}}])}(_(Error)),m=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({IllegalArgumentException:i})[0],r}return u(i,t),s(i)}(y),x=function(){return s((function t(){n(this,t)}),[{key:"filter",value:function(t){}}])}();function E(){}function w(){}function S(){}var C,I,k,T,b,R,A,N,O=function(){return s((function t(){n(this,t)}),null,[{key:"equalsWithTolerance",value:function(t,e,n){return Math.abs(t-e)<=n}}])}(),L=function(){return s((function t(e,i){n(this,t),this.low=i||0,this.high=e||0}),null,[{key:"toBinaryString",value:function(t){var e,n="";for(e=2147483648;e>0;e>>>=1)n+=(t.high&e)===e?"1":"0";for(e=2147483648;e>0;e>>>=1)n+=(t.low&e)===e?"1":"0";return n}}])}();function M(){}function P(){}M.NaN=NaN,M.isNaN=function(t){return Number.isNaN(t)},M.isInfinite=function(t){return!Number.isFinite(t)},M.MAX_VALUE=Number.MAX_VALUE,M.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,M.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,"function"==typeof Float64Array&&"function"==typeof Int32Array?(R=2146435072,A=new Float64Array(1),N=new Int32Array(A.buffer),M.doubleToLongBits=function(t){A[0]=t;var e=0|N[0],n=0|N[1];return(n&R)===R&&1048575&n&&0!==e&&(e=0,n=2146959360),new L(n,e)},M.longBitsToDouble=function(t){return N[0]=t.low,N[1]=t.high,A[0]}):(C=1023,I=Math.log2,k=Math.floor,T=Math.pow,b=function(){for(var t=53;t>0;t--){var e=T(2,t)-1;if(k(I(e))+1===t)return e}return 0}(),M.doubleToLongBits=function(t){var e,n,i,r,s,o,a,l,u;if(t<0||1/t===Number.NEGATIVE_INFINITY?(o=1<<31,t=-t):o=0,0===t)return new L(l=o,u=0);if(t===1/0)return new L(l=2146435072|o,u=0);if(t!=t)return new L(l=2146959360,u=0);if(r=0,u=0,(e=k(t))>1)if(e<=b)(r=k(I(e)))<=20?(u=0,l=e<<20-r&1048575):(u=e%(n=T(2,i=r-20))<<32-i,l=e/n&1048575);else for(i=e,u=0;0!==(i=k(n=i/2));)r++,u>>>=1,u|=(1&l)<<31,l>>>=1,n!==i&&(l|=524288);if(a=r+C,s=0===e,e=t-e,r<52&&0!==e)for(i=0;;){if((n=2*e)>=1?(e=n-1,s?(a--,s=!1):(i<<=1,i|=1,r++)):(e=n,s?0==--a&&(r++,s=!1):(i<<=1,r++)),20===r)l|=i,i=0;else if(52===r){u|=i;break}if(1===n){r<20?l|=i<<20-r:r<52&&(u|=i<<52-r);break}}return l|=a<<20,new L(l|=o,u)},M.longBitsToDouble=function(t){var e,n,i,r,s=t.high,o=t.low,a=s&1<<31?-1:1;for(i=((2146435072&s)>>20)-C,r=0,n=1<<19,e=1;e<=20;e++)s&n&&(r+=T(2,-e)),n>>>=1;for(n=1<<31,e=21;e<=52;e++)o&n&&(r+=T(2,-e)),n>>>=1;if(-1023===i){if(0===r)return 0*a;i=-1022}else{if(1024===i)return 0===r?a/0:NaN;r+=1}return a*r*T(2,i)});var D=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({RuntimeException:i})[0],r}return u(i,t),s(i)}(y),F=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,null,[{key:"constructor_",value:function(){if(0===arguments.length)D.constructor_.call(this);else if(1===arguments.length){var t=arguments[0];D.constructor_.call(this,t)}}}])}(D),G=function(){function t(){n(this,t)}return s(t,null,[{key:"shouldNeverReachHere",value:function(){if(0===arguments.length)t.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new F("Should never reach here"+(null!==e?": "+e:""))}}},{key:"isTrue",value:function(){if(1===arguments.length){var e=arguments[0];t.isTrue(e,null)}else if(2===arguments.length){var n=arguments[1];if(!arguments[0])throw null===n?new F:new F(n)}}},{key:"equals",value:function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];t.equals(e,n,null)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];if(!r.equals(i))throw new F("Expected "+i+" but encountered "+r+(null!==s?": "+s:""))}}}])}(),z=new ArrayBuffer(8),Y=new Float64Array(z),q=new Int32Array(z),B=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"getM",value:function(){return M.NaN}},{key:"setOrdinate",value:function(e,n){switch(e){case t.X:this.x=n;break;case t.Y:this.y=n;break;case t.Z:this.setZ(n);break;default:throw new m("Invalid ordinate index: "+e)}}},{key:"equals2D",value:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!O.equalsWithTolerance(this.x,e.x,n)&&!!O.equalsWithTolerance(this.y,e.y,n)}}},{key:"setM",value:function(e){throw new m("Invalid ordinate index: "+t.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(e){switch(e){case t.X:return this.x;case t.Y:return this.y;case t.Z:return this.getZ()}throw new m("Invalid ordinate index: "+e)}},{key:"equals3D",value:function(t){return this.x===t.x&&this.y===t.y&&(this.getZ()===t.getZ()||M.isNaN(this.getZ())&&M.isNaN(t.getZ()))}},{key:"equals",value:function(e){return e instanceof t&&this.equals2D(e)}},{key:"equalInZ",value:function(t,e){return O.equalsWithTolerance(this.getZ(),t.getZ(),e)}},{key:"setX",value:function(t){this.x=t}},{key:"compareTo",value:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(t){this.z=t}},{key:"clone",value:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return G.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}}},{key:"copy",value:function(){return new t(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.getZ()-t.getZ();return Math.sqrt(e*e+n*n+i*i)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(t){this.y=t}},{key:"distance",value:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}},{key:"hashCode",value:function(){var e=17;return 37*(e=37*e+t.hashCode(this.x))+t.hashCode(this.y)}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ()}},{key:"interfaces_",get:function(){return[E,w,S]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)t.constructor_.call(this,0,0);else if(1===arguments.length){var e=arguments[0];t.constructor_.call(this,e.x,e.y,e.getZ())}else if(2===arguments.length){var n=arguments[0],i=arguments[1];t.constructor_.call(this,n,i,t.NULL_ORDINATE)}else if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];this.x=r,this.y=s,this.z=o}}},{key:"hashCode",value:function(t){return Y[0]=t,q[0]^q[1]}}])}(),j=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"compare",value:function(e,n){var i=t.compare(e.x,n.x);if(0!==i)return i;var r=t.compare(e.y,n.y);return 0!==r?r:this._dimensionsToTest<=2?0:t.compare(e.getZ(),n.getZ())}},{key:"interfaces_",get:function(){return[P]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,0===arguments.length)t.constructor_.call(this,2);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new m("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}}},{key:"compare",value:function(t,e){return t<e?-1:t>e?1:M.isNaN(t)?M.isNaN(e)?0:-1:M.isNaN(e)?1:0}}])}();B.DimensionalComparator=j,B.NULL_ORDINATE=M.NaN,B.X=0,B.Y=1,B.Z=2,B.M=3;var X=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var n=e;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()}},{key:"intersection",value:function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new t;var n=this._minx>e._minx?this._minx:e._minx,i=this._miny>e._miny?this._miny:e._miny;return new t(n,this._maxx<e._maxx?this._maxx:e._maxx,i,this._maxy<e._maxy?this._maxy:e._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(1===arguments.length){if(arguments[0]instanceof B){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof t){var n=arguments[0];return!this.isNull()&&!n.isNull()&&n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return!this.isNull()&&i>=this._minx&&i<=this._maxx&&r>=this._miny&&r<=this._maxy}}},{key:"intersects",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof B){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(2===arguments.length){if(arguments[0]instanceof B&&arguments[1]instanceof B){var i=arguments[0],r=arguments[1];return!this.isNull()&&!((i.x<r.x?i.x:r.x)>this._maxx)&&!((i.x>r.x?i.x:r.x)<this._minx)&&!((i.y<r.y?i.y:r.y)>this._maxy)&&!((i.y>r.y?i.y:r.y)<this._miny)}if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[0],o=arguments[1];return!this.isNull()&&!(s>this._maxx||s<this._minx||o>this._maxy||o<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return Math.sqrt(t*t+e*e)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(1===arguments.length){if(arguments[0]instanceof B){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.isNull()?(this._minx=i,this._maxx=i,this._miny=r,this._maxy=r):(i<this._minx&&(this._minx=i),i>this._maxx&&(this._maxx=i),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0}},{key:"translate",value:function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)}},{key:"copy",value:function(){return new t(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(t){return!(!this.isNull()&&!t.isNull())||t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e}},{key:"expandBy",value:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof B){var n=arguments[0];return this.covers(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return this.covers(i,r)}}},{key:"centre",value:function(){return this.isNull()?null:new B((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof B){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2],l=arguments[3];s<o?(this._minx=s,this._maxx=o):(this._minx=o,this._maxx=s),a<l?(this._miny=a,this._maxy=l):(this._miny=l,this._maxy=a)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)}},{key:"hashCode",value:function(){var t=17;return 37*(t=37*(t=37*(t=37*t+B.hashCode(this._minx))+B.hashCode(this._maxx))+B.hashCode(this._miny))+B.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[E,S]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof B){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2],l=arguments[3];this.init(s,o,a,l)}}},{key:"intersects",value:function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3],a=Math.min(s.x,o.x),l=Math.max(s.x,o.x),u=Math.min(i.x,r.x),h=Math.max(i.x,r.x);return!(u>l)&&!(h<a)&&(a=Math.min(s.y,o.y),l=Math.max(s.y,o.y),u=Math.min(i.y,r.y),h=Math.max(i.y,r.y),!(u>l)&&!(h<a))}}}])}(),U=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(t){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(t){return this===t||this.equalsExact(t,0)}},{key:"geometryChanged",value:function(){this.apply(t.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(t){return null!==t&&this.norm().equalsExact(t.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var t;if(1===arguments.length){var e=arguments[0];return t=e,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return t=n,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(n,i)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(e){if(e.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION)throw new m("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n}},{key:"norm",value:function(){var t=this.copy();return t.normalize(),t}},{key:"reverse",value:function(){var t=this.reverseInternal();return null!=this.envelope&&(t.envelope=this.envelope.copy()),t.setSRID(this.getSRID()),t}},{key:"copy",value:function(){var t=this.copyInternal();return t.envelope=null==this._envelope?null:this._envelope.copy(),t._SRID=this._SRID,t._userData=this._userData,t}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new X(this._envelope)}},{key:"setSRID",value:function(t){this._SRID=t}},{key:"setUserData",value:function(t){this._userData=t}},{key:"compare",value:function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),s=i.next(),o=r.compareTo(s);if(0!==o)return o}return n.hasNext()?1:i.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(t){return this.getClass()===t.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===t.TYPECODE_MULTIPOINT||this.getTypeCode()===t.TYPECODE_MULTILINESTRING||this.getTypeCode()===t.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[w,E,S]}},{key:"getClass",value:function(){return t}}],[{key:"hasNonEmptyElements",value:function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1}}])}();U.constructor_=function(t){t&&(this._envelope=null,this._userData=null,this._factory=t,this._SRID=t.getSRID())},U.TYPECODE_POINT=0,U.TYPECODE_MULTIPOINT=1,U.TYPECODE_LINESTRING=2,U.TYPECODE_LINEARRING=3,U.TYPECODE_MULTILINESTRING=4,U.TYPECODE_POLYGON=5,U.TYPECODE_MULTIPOLYGON=6,U.TYPECODE_GEOMETRYCOLLECTION=7,U.TYPENAME_POINT="Point",U.TYPENAME_MULTIPOINT="MultiPoint",U.TYPENAME_LINESTRING="LineString",U.TYPENAME_LINEARRING="LinearRing",U.TYPENAME_MULTILINESTRING="MultiLineString",U.TYPENAME_POLYGON="Polygon",U.TYPENAME_MULTIPOLYGON="MultiPolygon",U.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",U.geometryChangedFilter={get interfaces_(){return[x]},filter:function(t){t.geometryChangedAction()}};var V=function(){function t(){n(this,t)}return s(t,null,[{key:"toLocationSymbol",value:function(e){switch(e){case t.EXTERIOR:return"e";case t.BOUNDARY:return"b";case t.INTERIOR:return"i";case t.NONE:return"-"}throw new m("Unknown location value: "+e)}}])}();V.INTERIOR=0,V.BOUNDARY=1,V.EXTERIOR=2,V.NONE=-1;var W=function(){return s((function t(){n(this,t)}),[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])}(),K=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({NoSuchElementException:i})[0],r}return u(i,t),s(i)}(y),H=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({UnsupportedOperationException:i})[0],r}return u(i,t),s(i)}(y),$=function(t){function i(){return n(this,i),e(this,i,arguments)}return u(i,t),s(i,[{key:"contains",value:function(){}}])}(W),Z=function(t){function i(t){var r;return n(this,i),(r=e(this,i)).map=new Map,t instanceof W&&r.addAll(t),r}return u(i,t),s(i,[{key:"contains",value:function(t){var e=t.hashCode?t.hashCode():t;return!!this.map.has(e)}},{key:"add",value:function(t){var e=t.hashCode?t.hashCode():t;return!this.map.has(e)&&!!this.map.set(e,t)}},{key:"addAll",value:function(t){var e,n=o(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.add(i)}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"remove",value:function(){throw new H}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new J(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])}($),J=function(){return s((function t(e){n(this,t),this.iterator=e.values();var i=this.iterator.next(),r=i.done,s=i.value;this.done=r,this.value=s}),[{key:"next",value:function(){if(this.done)throw new K;var t=this.value,e=this.iterator.next(),n=e.done,i=e.value;return this.done=n,this.value=i,t}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new H}}])}(),Q=function(){function t(){n(this,t)}return s(t,null,[{key:"opposite",value:function(e){return e===t.LEFT?t.RIGHT:e===t.RIGHT?t.LEFT:e}}])}();Q.ON=0,Q.LEFT=1,Q.RIGHT=2;var tt=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({EmptyStackException:i})[0],r}return u(i,t),s(i)}(y),et=function(t){function i(t){var r;return n(this,i),(r=e(this,i,[t])).name=Object.keys({IndexOutOfBoundsException:i})[0],r}return u(i,t),s(i)}(y),nt=function(t){function i(){return n(this,i),e(this,i,arguments)}return u(i,t),s(i,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])}(W),it=function(t){function i(){var t;return n(this,i),(t=e(this,i)).array=[],t}return u(i,t),s(i,[{key:"add",value:function(t){return this.array.push(t),!0}},{key:"get",value:function(t){if(t<0||t>=this.size())throw new et;return this.array[t]}},{key:"push",value:function(t){return this.array.push(t),t}},{key:"pop",value:function(){if(0===this.array.length)throw new tt;return this.array.pop()}},{key:"peek",value:function(){if(0===this.array.length)throw new tt;return this.array[this.array.length-1]}},{key:"empty",value:function(){return 0===this.array.length}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(t){return this.array.indexOf(t)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])}(nt);function rt(t,e){return t.interfaces_&&t.interfaces_.indexOf(e)>-1}var st=function(){return s((function t(e){n(this,t),this.str=e}),[{key:"append",value:function(t){this.str+=t}},{key:"setCharAt",value:function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)}},{key:"toString",value:function(){return this.str}}])}(),ot=function(){function t(e){n(this,t),this.value=e}return s(t,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(t){return this.value<t?-1:this.value>t?1:0}}],[{key:"compare",value:function(t,e){return t<e?-1:t>e?1:0}},{key:"isNan",value:function(t){return Number.isNaN(t)}},{key:"valueOf",value:function(e){return new t(e)}}])}(),at=function(){return s((function t(){n(this,t)}),null,[{key:"isWhitespace",value:function(t){return t<=32&&t>=0||127===t}},{key:"toUpperCase",value:function(t){return t.toUpperCase()}}])}(),lt=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"le",value:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<=t._lo}},{key:"extractSignificantDigits",value:function(e,n){var i=this.abs(),r=t.magnitude(i._hi),s=t.TEN.pow(r);(i=i.divide(s)).gt(t.TEN)?(i=i.divide(t.TEN),r+=1):i.lt(t.ONE)&&(i=i.multiply(t.TEN),r-=1);for(var o=r+1,a=new st,l=t.MAX_PRINT_DIGITS-1,u=0;u<=l;u++){e&&u===o&&a.append(".");var h=Math.trunc(i._hi);if(h<0)break;var c=!1,f=0;h>9?(c=!0,f="9"):f="0"+h,a.append(f),i=i.subtract(t.valueOf(h)).multiply(t.TEN),c&&i.selfAdd(t.TEN);var d=!0,g=t.magnitude(i._hi);if(g<0&&Math.abs(g)>=l-u&&(d=!1),!d)break}return n[0]=r,a.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.add(e.negate())}if("number"==typeof arguments[0]){var n=arguments[0];return this.add(-n)}}},{key:"equals",value:function(){if(1===arguments.length&&arguments[0]instanceof t){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}}},{key:"isZero",value:function(){return 0===this._hi&&0===this._lo}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(t){return this.le(t)?this:t}},{key:"selfDivide",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfDivide(n,0)}}else if(2===arguments.length){var i,r,s,o,a=arguments[0],l=arguments[1],u=null,h=null,c=null,f=null;return s=this._hi/a,f=(u=(c=t.SPLIT*s)-(u=c-s))*(h=(f=t.SPLIT*a)-(h=f-a))-(o=s*a)+u*(r=a-h)+(i=s-u)*h+i*r,f=s+(c=(this._hi-o-f+this._lo-s*l)/a),this._hi=f,this._lo=s-f+c,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof t){var e,n,i,r,s=arguments[0],o=null,a=null,l=null,u=null;return e=(i=this._hi/s._hi)-(o=(l=t.SPLIT*i)-(o=l-i)),u=o*(a=(u=t.SPLIT*s._hi)-(a=u-s._hi))-(r=i*s._hi)+o*(n=s._hi-a)+e*a+e*n,new t(u=i+(l=(this._hi-r-u+this._lo-i*s._lo)/s._hi),i-u+l)}if("number"==typeof arguments[0]){var h=arguments[0];return M.isNaN(h)?t.createNaN():t.copy(this).selfDivide(h,0)}}},{key:"ge",value:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>=t._lo}},{key:"pow",value:function(e){if(0===e)return t.valueOf(1);var n=new t(this),i=t.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2==1&&i.selfMultiply(n),(r/=2)>0&&(n=n.sqr());else i=n;return e<0?i.reciprocal():i}},{key:"ceil",value:function(){if(this.isNaN())return t.NaN;var e=Math.ceil(this._hi),n=0;return e===this._hi&&(n=Math.ceil(this._lo)),new t(e,n)}},{key:"compareTo",value:function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.init(e),this}if("number"==typeof arguments[0]){var n=arguments[0];return this.init(n),this}}},{key:"max",value:function(t){return this.ge(t)?this:t}},{key:"sqrt",value:function(){if(this.isZero())return t.valueOf(0);if(this.isNegative())return t.NaN;var e=1/Math.sqrt(this._hi),n=this._hi*e,i=t.valueOf(n),r=this.subtract(i.sqr())._hi*(.5*e);return i.add(r)}},{key:"selfAdd",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if("number"==typeof arguments[0]){var n,i,r,s,o,a=arguments[0],l=null;return l=(r=this._hi+a)-(s=r-this._hi),i=(o=(l=a-s+(this._hi-l))+this._lo)+(r-(n=r+o)),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var u,h,c,f,d=arguments[0],g=arguments[1],p=null,_=null,v=null;c=this._hi+d,h=this._lo+g,_=c-(v=c-this._hi),p=h-(f=h-this._lo);var y=(u=c+(v=(_=d-v+(this._hi-_))+h))+(v=(p=g-f+(this._lo-p))+(v+(c-u))),m=v+(u-y);return this._hi=y,this._lo=m,this}}},{key:"selfMultiply",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfMultiply(n,0)}}else if(2===arguments.length){var i,r,s=arguments[0],o=arguments[1],a=null,l=null,u=null,h=null;a=(u=t.SPLIT*this._hi)-this._hi,h=t.SPLIT*s,a=u-a,i=this._hi-a,l=h-s;var c=(u=this._hi*s)+(h=a*(l=h-l)-u+a*(r=s-l)+i*l+i*r+(this._hi*o+this._lo*s)),f=h+(a=u-c);return this._hi=c,this._lo=f,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return t.NaN;var e=Math.floor(this._hi),n=0;return e===this._hi&&(n=Math.floor(this._lo)),new t(e,n)}},{key:"negate",value:function(){return this.isNaN()?this:new t(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}}},{key:"multiply",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return e.isNaN()?t.createNaN():t.copy(this).selfMultiply(e)}if("number"==typeof arguments[0]){var n=arguments[0];return M.isNaN(n)?t.createNaN():t.copy(this).selfMultiply(n,0)}}},{key:"isNaN",value:function(){return M.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var e=t.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var e=this.getSpecialNumberString();if(null!==e)return e;var n=new Array(1).fill(null),i=this.extractSignificantDigits(!0,n),r=n[0]+1,s=i;if("."===i.charAt(0))s="0"+i;else if(r<0)s="0."+t.stringOfChar("0",-r)+i;else if(-1===i.indexOf(".")){var o=r-i.length;s=i+t.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+s:s}},{key:"reciprocal",value:function(){var e,n,i,r,s=null,o=null,a=null,l=null;e=(i=1/this._hi)-(s=(a=t.SPLIT*i)-(s=a-i)),o=(l=t.SPLIT*this._hi)-this._hi;var u=i+(a=(1-(r=i*this._hi)-(l=s*(o=l-o)-r+s*(n=this._hi-o)+e*o+e*n)-i*this._lo)/this._hi);return new t(u,i-u+a)}},{key:"toSciNotation",value:function(){if(this.isZero())return t.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var n=new Array(1).fill(null),i=this.extractSignificantDigits(!1,n),r=t.SCI_NOT_EXPONENT_CHAR+n[0];if("0"===i.charAt(0))throw new IllegalStateException("Found leading zero: "+i);var s="";i.length>1&&(s=i.substring(1));var o=i.charAt(0)+"."+s;return this.isNegative()?"-"+o+r:o+r}},{key:"abs",value:function(){return this.isNaN()?t.NaN:this.isNegative()?this.negate():new t(this)}},{key:"isPositive",value:function(){return this._hi>0||0===this._hi&&this._lo>0}},{key:"lt",value:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<t._lo}},{key:"add",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return t.copy(this).selfAdd(e)}if("number"==typeof arguments[0]){var n=arguments[0];return t.copy(this).selfAdd(n)}}},{key:"init",value:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof t){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this._hi=i,this._lo=r}}},{key:"gt",value:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>t._lo}},{key:"isNegative",value:function(){return this._hi<0||0===this._hi&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?t.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[S,E,w]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var i=arguments[0];t.constructor_.call(this,t.parse(i))}}else if(2===arguments.length){var r=arguments[0],s=arguments[1];this.init(r,s)}}},{key:"determinant",value:function(){if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];return t.determinant(t.valueOf(e),t.valueOf(n),t.valueOf(i),t.valueOf(r))}if(arguments[3]instanceof t&&arguments[2]instanceof t&&arguments[0]instanceof t&&arguments[1]instanceof t){var s=arguments[1],o=arguments[2],a=arguments[3];return arguments[0].multiply(a).selfSubtract(s.multiply(o))}}},{key:"sqr",value:function(e){return t.valueOf(e).selfMultiply(e)}},{key:"valueOf",value:function(){if("string"==typeof arguments[0]){var e=arguments[0];return t.parse(e)}if("number"==typeof arguments[0])return new t(arguments[0])}},{key:"sqrt",value:function(e){return t.valueOf(e).sqrt()}},{key:"parse",value:function(e){for(var n=0,i=e.length;at.isWhitespace(e.charAt(n));)n++;var r=!1;if(n<i){var s=e.charAt(n);"-"!==s&&"+"!==s||(n++,"-"===s&&(r=!0))}for(var o=new t,a=0,l=0,u=0,h=!1;!(n>=i);){var c=e.charAt(n);if(n++,at.isDigit(c)){var f=c-"0";o.selfMultiply(t.TEN),o.selfAdd(f),a++}else{if("."!==c){if("e"===c||"E"===c){var d=e.substring(n);try{u=ot.parseInt(d)}catch(t){throw t instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+d+" in string "+e):t}break}throw new NumberFormatException("Unexpected character '"+c+"' at position "+n+" in string "+e)}l=a,h=!0}}var g=o;h||(l=a);var p=a-l-u;if(0===p)g=o;else if(p>0){var _=t.TEN.pow(p);g=o.divide(_)}else if(p<0){var v=t.TEN.pow(-p);g=o.multiply(v)}return r?g.negate():g}},{key:"createNaN",value:function(){return new t(M.NaN,M.NaN)}},{key:"copy",value:function(e){return new t(e)}},{key:"magnitude",value:function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i}},{key:"stringOfChar",value:function(t,e){for(var n=new st,i=0;i<e;i++)n.append(t);return n.toString()}}])}();lt.PI=new lt(3.141592653589793,12246467991473532e-32),lt.TWO_PI=new lt(6.283185307179586,24492935982947064e-32),lt.PI_2=new lt(1.5707963267948966,6123233995736766e-32),lt.E=new lt(2.718281828459045,14456468917292502e-32),lt.NaN=new lt(M.NaN,M.NaN),lt.EPS=123259516440783e-46,lt.SPLIT=134217729,lt.MAX_PRINT_DIGITS=32,lt.TEN=lt.valueOf(10),lt.ONE=lt.valueOf(1),lt.SCI_NOT_EXPONENT_CHAR="E",lt.SCI_NOT_ZERO="0.0E0";var ut=function(){function t(){n(this,t)}return s(t,null,[{key:"orientationIndex",value:function(e,n,i){var r=t.orientationIndexFilter(e,n,i);if(r<=1)return r;var s=lt.valueOf(n.x).selfAdd(-e.x),o=lt.valueOf(n.y).selfAdd(-e.y),a=lt.valueOf(i.x).selfAdd(-n.x),l=lt.valueOf(i.y).selfAdd(-n.y);return s.selfMultiply(l).selfSubtract(o.selfMultiply(a)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof lt&&arguments[2]instanceof lt&&arguments[0]instanceof lt&&arguments[1]instanceof lt){var t=arguments[1],e=arguments[2],n=arguments[3];return arguments[0].multiply(n).selfSubtract(t.multiply(e)).signum()}if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var i=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3],a=lt.valueOf(i),l=lt.valueOf(r),u=lt.valueOf(s),h=lt.valueOf(o);return a.multiply(h).selfSubtract(l.multiply(u)).signum()}}},{key:"intersection",value:function(t,e,n,i){var r=new lt(t.y).selfSubtract(e.y),s=new lt(e.x).selfSubtract(t.x),o=new lt(t.x).selfMultiply(e.y).selfSubtract(new lt(e.x).selfMultiply(t.y)),a=new lt(n.y).selfSubtract(i.y),l=new lt(i.x).selfSubtract(n.x),u=new lt(n.x).selfMultiply(i.y).selfSubtract(new lt(i.x).selfMultiply(n.y)),h=s.multiply(u).selfSubtract(l.multiply(o)),c=a.multiply(o).selfSubtract(r.multiply(u)),f=r.multiply(l).selfSubtract(a.multiply(s)),d=h.selfDivide(f).doubleValue(),g=c.selfDivide(f).doubleValue();return M.isNaN(d)||M.isInfinite(d)||M.isNaN(g)||M.isInfinite(g)?null:new B(d,g)}},{key:"orientationIndexFilter",value:function(e,n,i){var r=null,s=(e.x-i.x)*(n.y-i.y),o=(e.y-i.y)*(n.x-i.x),a=s-o;if(s>0){if(o<=0)return t.signum(a);r=s+o}else{if(!(s<0))return t.signum(a);if(o>=0)return t.signum(a);r=-s-o}var l=t.DP_SAFE_EPSILON*r;return a>=l||-a>=l?t.signum(a):2}},{key:"signum",value:function(t){return t>0?1:t<0?-1:0}}])}();ut.DP_SAFE_EPSILON=1e-15;var ht=function(){return s((function t(){n(this,t)}),[{key:"getM",value:function(t){if(this.hasM()){var e=this.getDimension()-this.getMeasures();return this.getOrdinate(t,e)}return M.NaN}},{key:"setOrdinate",value:function(t,e,n){}},{key:"getZ",value:function(t){return this.hasZ()?this.getOrdinate(t,2):M.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(t,e){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(t){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(t){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(t){}},{key:"copy",value:function(){}},{key:"getY",value:function(t){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[w]}}])}();ht.X=0,ht.Y=1,ht.Z=2,ht.M=3;var ct=function(){function t(){n(this,t)}return s(t,null,[{key:"index",value:function(t,e,n){return ut.orientationIndex(t,e,n)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var e=arguments[0],n=e.length-1;if(n<3)throw new m("Ring has fewer than 4 points, so orientation cannot be determined");for(var i=e[0],r=0,s=1;s<=n;s++){var o=e[s];o.y>i.y&&(i=o,r=s)}var a=r;do{(a-=1)<0&&(a=n)}while(e[a].equals2D(i)&&a!==r);var l=r;do{l=(l+1)%n}while(e[l].equals2D(i)&&l!==r);var u=e[a],h=e[l];if(u.equals2D(i)||h.equals2D(i)||u.equals2D(h))return!1;var c=t.index(u,i,h);return 0===c?u.x>h.x:c>0}if(rt(arguments[0],ht)){var f=arguments[0],d=f.size()-1;if(d<3)throw new m("Ring has fewer than 4 points, so orientation cannot be determined");for(var g=f.getCoordinate(0),p=0,_=1;_<=d;_++){var v=f.getCoordinate(_);v.y>g.y&&(g=v,p=_)}var y=null,x=p;do{(x-=1)<0&&(x=d),y=f.getCoordinate(x)}while(y.equals2D(g)&&x!==p);var E=null,w=p;do{w=(w+1)%d,E=f.getCoordinate(w)}while(E.equals2D(g)&&w!==p);if(y.equals2D(g)||E.equals2D(g)||y.equals2D(E))return!1;var S=t.index(y,g,E);return 0===S?y.x>E.x:S>0}}}])}();ct.CLOCKWISE=-1,ct.RIGHT=ct.CLOCKWISE,ct.COUNTERCLOCKWISE=1,ct.LEFT=ct.COUNTERCLOCKWISE,ct.COLLINEAR=0,ct.STRAIGHT=ct.COLLINEAR;var ft=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n}},{key:"findRightmostEdgeAtVertex",value:function(){var t=this._minDe.getEdge().getCoordinates();G.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=ct.index(this._minCoord,n,e),r=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===ct.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===ct.CLOCKWISE)&&(r=!0),r&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=Q.LEFT;return n[e].y<n[e+1].y&&(i=Q.RIGHT),i}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])}},{key:"findRightmostEdgeAtNode",value:function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}G.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Q.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])}(),dt=function(t){function i(t,r){var s;return n(this,i),(s=e(this,i,[r?t+" [ "+r+" ]":t])).pt=r?new B(r):void 0,s.name=Object.keys({TopologyException:i})[0],s}return u(i,t),s(i,[{key:"getCoordinate",value:function(){return this.pt}}])}(D),gt=function(){return s((function t(){n(this,t),this.array=[]}),[{key:"addLast",value:function(t){this.array.push(t)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return 0===this.array.length}}])}(),pt=function(t){function i(t){var r;return n(this,i),(r=e(this,i)).array=[],t instanceof W&&r.addAll(t),r}return u(i,t),s(i,[{key:"interfaces_",get:function(){return[nt,W]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(t){return 1===arguments.length?this.array.push(t):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(t){var e,n=o(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.array.push(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"set",value:function(t,e){var n=this.array[t];return this.array[t]=e,n}},{key:"iterator",value:function(){return new _t(this)}},{key:"get",value:function(t){if(t<0||t>=this.size())throw new et;return this.array[t]}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"sort",value:function(t){t?this.array.sort((function(e,n){return t.compare(e,n)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(t){for(var e=0,n=this.array.length;e<n;e++)if(this.array[e]===t)return!!this.array.splice(e,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])}(nt),_t=function(){return s((function t(e){n(this,t),this.arrayList=e,this.position=0}),[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new K;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(t){return this.arrayList.set(this.position-1,t)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])}(),vt=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"clearVisitedEdges",value:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new dt("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var s=r.next();s.setVisited(!0),this.copySymDepths(s)}}},{key:"computeDepth",value:function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(Q.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)}},{key:"create",value:function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Q.RIGHT)>=1&&e.getDepth(Q.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}}},{key:"computeDepths",value:function(t){var e=new Z,n=new gt,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var s=r.getEdges().iterator();s.hasNext();){var o=s.next().getSym();if(!o.isVisited()){var a=o.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}}},{key:"compareTo",value:function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(null===this._env){for(var t=new X,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env}},{key:"addReachable",value:function(t){var e=new it;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}}},{key:"copySymDepths",value:function(t){var e=t.getSym();e.setDepth(Q.LEFT,t.getDepth(Q.RIGHT)),e.setDepth(Q.RIGHT,t.getDepth(Q.LEFT))}},{key:"add",value:function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[E]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new pt,this._nodes=new pt,this._rightMostCoord=null,this._env=null,this._finder=new ft}}])}(),yt=function(){return s((function t(){n(this,t)}),null,[{key:"intersection",value:function(t,e,n,i){var r=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,o=t.x>e.x?t.x:e.x,a=t.y>e.y?t.y:e.y,l=n.x<i.x?n.x:i.x,u=n.y<i.y?n.y:i.y,h=n.x>i.x?n.x:i.x,c=n.y>i.y?n.y:i.y,f=((r>l?r:l)+(o<h?o:h))/2,d=((s>u?s:u)+(a<c?a:c))/2,g=t.x-f,p=t.y-d,_=e.x-f,v=e.y-d,y=n.x-f,m=n.y-d,x=i.x-f,E=i.y-d,w=p-v,S=_-g,C=g*v-_*p,I=m-E,k=x-y,T=y*E-x*m,b=w*k-I*S,R=(S*T-k*C)/b,A=(I*C-w*T)/b;return M.isNaN(R)||M.isInfinite(R)||M.isNaN(A)||M.isInfinite(A)?null:new B(R+f,A+d)}}])}(),mt=function(){return s((function t(){n(this,t)}),null,[{key:"arraycopy",value:function(t,e,n,i,r){for(var s=0,o=e;o<e+r;o++)n[i+s]=t[o],s++}},{key:"getProperty",value:function(t){return{"line.separator":"\n"}[t]}}])}(),xt=function(){function t(){n(this,t)}return s(t,null,[{key:"log10",value:function(e){var n=Math.log(e);return M.isInfinite(n)||M.isNaN(n)?n:n/t.LOG_10}},{key:"min",value:function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r}},{key:"clamp",value:function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],s=arguments[2];return i<r?r:i>s?s:i}}},{key:"wrap",value:function(t,e){return t<0?e- -t%e:t%e}},{key:"max",value:function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var i=arguments[1],r=arguments[2],s=arguments[3],o=arguments[0];return i>o&&(o=i),r>o&&(o=r),s>o&&(o=s),o}}},{key:"average",value:function(t,e){return(t+e)/2}}])}();xt.LOG_10=Math.log(10);var Et=function(){function t(){n(this,t)}return s(t,null,[{key:"segmentToSegment",value:function(e,n,i,r){if(e.equals(n))return t.pointToSegment(e,i,r);if(i.equals(r))return t.pointToSegment(r,e,n);var s=!1;if(X.intersects(e,n,i,r)){var o=(n.x-e.x)*(r.y-i.y)-(n.y-e.y)*(r.x-i.x);if(0===o)s=!0;else{var a=(e.y-i.y)*(r.x-i.x)-(e.x-i.x)*(r.y-i.y),l=((e.y-i.y)*(n.x-e.x)-(e.x-i.x)*(n.y-e.y))/o,u=a/o;(u<0||u>1||l<0||l>1)&&(s=!0)}}else s=!0;return s?xt.min(t.pointToSegment(e,i,r),t.pointToSegment(n,i,r),t.pointToSegment(i,e,n),t.pointToSegment(r,e,n)):0}},{key:"pointToSegment",value:function(t,e,n){if(e.x===n.x&&e.y===n.y)return t.distance(e);var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;if(r<=0)return t.distance(e);if(r>=1)return t.distance(n);var s=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(s)*Math.sqrt(i)}},{key:"pointToLinePerpendicular",value:function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)}},{key:"pointToSegmentString",value:function(e,n){if(0===n.length)throw new m("Line array must contain at least one vertex");for(var i=e.distance(n[0]),r=0;r<n.length-1;r++){var s=t.pointToSegment(e,n[r],n[r+1]);s<i&&(i=s)}return i}}])}(),wt=function(){return s((function t(){n(this,t)}),[{key:"create",value:function(){if(1===arguments.length)arguments[0]instanceof Array||rt(arguments[0],ht);else if(2===arguments.length);else if(3===arguments.length){var t=arguments[0],e=arguments[1];return this.create(t,e)}}}])}(),St=function(){return s((function t(){n(this,t)}),[{key:"filter",value:function(t){}}])}(),Ct=function(){return s((function t(){n(this,t)}),null,[{key:"ofLine",value:function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new B;t.getCoordinate(0,i);for(var r=i.x,s=i.y,o=1;o<e;o++){t.getCoordinate(o,i);var a=i.x,l=i.y,u=a-r,h=l-s;n+=Math.sqrt(u*u+h*h),r=a,s=l}return n}}])}(),It=s((function t(){n(this,t)})),kt=function(){function t(){n(this,t)}return s(t,null,[{key:"copyCoord",value:function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),s=0;s<r;s++)n.setOrdinate(i,s,t.getOrdinate(e,s))}},{key:"isRing",value:function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,ht.X)===t.getOrdinate(e-1,ht.X)&&t.getOrdinate(0,ht.Y)===t.getOrdinate(e-1,ht.Y)}},{key:"scroll",value:function(){if(2===arguments.length){if(rt(arguments[0],ht)&&Number.isInteger(arguments[1])){var e=arguments[0],n=arguments[1];t.scroll(e,n,t.isRing(e))}else if(rt(arguments[0],ht)&&arguments[1]instanceof B){var i=arguments[0],r=arguments[1],s=t.indexOf(r,i);if(s<=0)return null;t.scroll(i,s)}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],l=arguments[2];if(a<=0)return null;for(var u=o.copy(),h=l?o.size()-1:o.size(),c=0;c<h;c++)for(var f=0;f<o.getDimension();f++)o.setOrdinate(c,f,u.getOrdinate((a+c)%h,f));if(l)for(var d=0;d<o.getDimension();d++)o.setOrdinate(h,d,o.getOrdinate(0,d))}}},{key:"isEqual",value:function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var s=0;s<i;s++){var o=t.getOrdinate(r,s),a=e.getOrdinate(r,s);if(t.getOrdinate(r,s)!==e.getOrdinate(r,s)&&(!M.isNaN(o)||!M.isNaN(a)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(1===arguments.length){var e=arguments[0];return t.minCoordinateIndex(e,0,e.size()-1)}if(3===arguments.length){for(var n=arguments[0],i=arguments[2],r=-1,s=null,o=arguments[1];o<=i;o++){var a=n.getCoordinate(o);(null===s||s.compareTo(a)>0)&&(s=a,r=o)}return r}}},{key:"extend",value:function(e,n,i){var r=e.create(i,n.getDimension()),s=n.size();if(t.copy(n,0,r,0,s),s>0)for(var o=s;o<i;o++)t.copy(n,s-1,r,o,1);return r}},{key:"reverse",value:function(e){for(var n=e.size()-1,i=Math.trunc(n/2),r=0;r<=i;r++)t.swap(e,r,n-r)}},{key:"swap",value:function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}}},{key:"copy",value:function(e,n,i,r,s){for(var o=0;o<s;o++)t.copyCoord(e,n+o,i,r+o)}},{key:"ensureValidRing",value:function(e,n){var i=n.size();return 0===i?n:i<=3?t.createClosedRing(e,n,4):n.getOrdinate(0,ht.X)===n.getOrdinate(i-1,ht.X)&&n.getOrdinate(0,ht.Y)===n.getOrdinate(i-1,ht.Y)?n:t.createClosedRing(e,n,i+1)}},{key:"indexOf",value:function(t,e){for(var n=0;n<e.size();n++)if(t.x===e.getOrdinate(n,ht.X)&&t.y===e.getOrdinate(n,ht.Y))return n;return-1}},{key:"createClosedRing",value:function(e,n,i){var r=e.create(i,n.getDimension()),s=n.size();t.copy(n,0,r,0,s);for(var o=s;o<i;o++)t.copy(n,0,r,o,1);return r}},{key:"minCoordinate",value:function(t){for(var e=null,n=0;n<t.size();n++){var i=t.getCoordinate(n);(null===e||e.compareTo(i)>0)&&(e=i)}return e}}])}(),Tt=function(){function t(){n(this,t)}return s(t,null,[{key:"toDimensionSymbol",value:function(e){switch(e){case t.FALSE:return t.SYM_FALSE;case t.TRUE:return t.SYM_TRUE;case t.DONTCARE:return t.SYM_DONTCARE;case t.P:return t.SYM_P;case t.L:return t.SYM_L;case t.A:return t.SYM_A}throw new m("Unknown dimension value: "+e)}},{key:"toDimensionValue",value:function(e){switch(at.toUpperCase(e)){case t.SYM_FALSE:return t.FALSE;case t.SYM_TRUE:return t.TRUE;case t.SYM_DONTCARE:return t.DONTCARE;case t.SYM_P:return t.P;case t.SYM_L:return t.L;case t.SYM_A:return t.A}throw new m("Unknown dimension symbol: "+e)}}])}();Tt.P=0,Tt.L=1,Tt.A=2,Tt.FALSE=-1,Tt.TRUE=-2,Tt.DONTCARE=-3,Tt.SYM_FALSE="F",Tt.SYM_TRUE="T",Tt.SYM_DONTCARE="*",Tt.SYM_P="0",Tt.SYM_L="1",Tt.SYM_A="2";var bt=function(){return s((function t(){n(this,t)}),[{key:"filter",value:function(t){}}])}(),Rt=function(){return s((function t(){n(this,t)}),[{key:"filter",value:function(t,e){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])}(),At=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new X:this._points.expandEnvelope(new X)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new i(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._points.size()!==n._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),n._points.getCoordinate(r),e))return!1;return!0}return f(i,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e))){if(this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0){var n=this._points.copy();kt.reverse(n),this._points=n}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Tt.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var t=this._points.copy();return kt.reverse(t),this.getFactory().createLineString(t)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return U.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Ct.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var i=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}}},{key:"apply",value:function(){if(rt(arguments[0],St))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(rt(arguments[0],Rt)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else(rt(arguments[0],bt)||rt(arguments[0],x))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new H}},{key:"isEquivalentClass",value:function(t){return t instanceof i}},{key:"getCoordinateN",value:function(t){return this._points.getCoordinate(t)}},{key:"getGeometryType",value:function(){return U.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return 0===this._points.size()}},{key:"init",value:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new m("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t}},{key:"isCoordinate",value:function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))}},{key:"interfaces_",get:function(){return[It]}}],[{key:"constructor_",value:function(){if(this._points=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];U.constructor_.call(this,e),this.init(t)}}}])}(U),Nt=s((function t(){n(this,t)})),Ot=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new X;var t=new X;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new i(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return f(i,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Tt.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return U.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}}},{key:"apply",value:function(){if(rt(arguments[0],St)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(rt(arguments[0],Rt)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(rt(arguments[0],bt)||rt(arguments[0],x))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return U.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return 0===this._coordinates.size()}},{key:"init",value:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),G.isTrue(t.size()<=1),this._coordinates=t}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Nt]}}],[{key:"constructor_",value:function(){this._coordinates=null;var t=arguments[0],e=arguments[1];U.constructor_.call(this,e),this.init(t)}}])}(U),Lt=function(){function t(){n(this,t)}return s(t,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];return Math.abs(t.ofRingSigned(e))}if(rt(arguments[0],ht)){var n=arguments[0];return Math.abs(t.ofRingSigned(n))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,s=t[i+1].y;e+=r*(t[i-1].y-s)}return e/2}if(rt(arguments[0],ht)){var o=arguments[0],a=o.size();if(a<3)return 0;var l=new B,u=new B,h=new B;o.getCoordinate(0,u),o.getCoordinate(1,h);var c=u.x;h.x-=c;for(var f=0,d=1;d<a-1;d++)l.y=u.y,u.x=h.x,u.y=h.y,o.getCoordinate(d+1,h),h.x-=c,f+=u.x*(l.y-h.y);return f/2}}}])}(),Mt=function(){return s((function t(){n(this,t)}),null,[{key:"sort",value:function(){var t=arguments,e=arguments[0];if(1===arguments.length)e.sort((function(t,e){return t.compareTo(e)}));else if(2===arguments.length)e.sort((function(e,n){return t[1].compare(e,n)}));else if(3===arguments.length){var n=e.slice(arguments[1],arguments[2]);n.sort();var i=e.slice(0,arguments[1]).concat(n,e.slice(arguments[2],e.length));e.splice(0,e.length);var r,s=o(i);try{for(s.s();!(r=s.n()).done;){var a=r.value;e.push(a)}}catch(t){s.e(t)}finally{s.f()}}else if(4===arguments.length){var l=e.slice(arguments[1],arguments[2]);l.sort((function(e,n){return t[3].compare(e,n)}));var u=e.slice(0,arguments[1]).concat(l,e.slice(arguments[2],e.length));e.splice(0,e.length);var h,c=o(u);try{for(c.s();!(h=c.n()).done;){var f=h.value;e.push(f)}}catch(t){c.e(t)}finally{c.f()}}}},{key:"asList",value:function(t){var e,n=new pt,i=o(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;n.add(r)}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"copyOf",value:function(t,e){return t.slice(0,e)}}])}(),Pt=s((function t(){n(this,t)})),Dt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var s=this._holes[r].getCoordinates(),o=0;o<s.length;o++)t[++e]=s[o];return t}},{key:"getArea",value:function(){var t=0;t+=Lt.ofRing(this._shell.getCoordinateSequence());for(var e=0;e<this._holes.length;e++)t-=Lt.ofRing(this._holes[e].getCoordinateSequence());return t}},{key:"copyInternal",value:function(){for(var t=this._shell.copy(),e=new Array(this._holes.length).fill(null),n=0;n<this._holes.length;n++)e[n]=this._holes[n].copy();return new i(t,e,this._factory)}},{key:"isRectangle",value:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var s=t.getX(0),o=t.getY(0),a=1;a<=4;a++){var l=t.getX(a),u=t.getY(a);if(l!==s===(u!==o))return!1;s=l,o=u}return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,r=this._shell,s=n._shell;if(!r.equalsExact(s,e))return!1;if(this._holes.length!==n._holes.length)return!1;for(var o=0;o<this._holes.length;o++)if(!this._holes[o].equalsExact(n._holes[o],e))return!1;return!0}return f(i,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(0===arguments.length){this._shell=this.normalized(this._shell,!0);for(var t=0;t<this._holes.length;t++)this._holes[t]=this.normalized(this._holes[t],!1);Mt.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=e.getCoordinateSequence(),r=kt.minCoordinateIndex(i,0,i.size()-2);kt.scroll(i,r,!0),ct.isCCW(i)===n&&kt.reverse(i)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var t=this.getExteriorRing().reverse(),e=new Array(this.getNumInteriorRing()).fill(null),n=0;n<e.length;n++)e[n]=this.getInteriorRingN(n).reverse();return this.getFactory().createPolygon(t,e)}},{key:"getTypeCode",value:function(){return U.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t}},{key:"getNumPoints",value:function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(t,e){var n=t.copy();return this.normalize(n,e),n}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[1],r=arguments[0],s=this._shell,o=r._shell,a=s.compareToSameClass(o,i);if(0!==a)return a;for(var l=this.getNumInteriorRing(),u=r.getNumInteriorRing(),h=0;h<l&&h<u;){var c=this.getInteriorRingN(h),f=r.getInteriorRingN(h),d=c.compareToSameClass(f,i);if(0!==d)return d;h++}return h<l?1:h<u?-1:0}}},{key:"apply",value:function(){if(rt(arguments[0],St)){var t=arguments[0];this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(rt(arguments[0],Rt)){var n=arguments[0];if(this._shell.apply(n),!n.isDone())for(var i=0;i<this._holes.length&&(this._holes[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(rt(arguments[0],bt))arguments[0].filter(this);else if(rt(arguments[0],x)){var r=arguments[0];r.filter(this),this._shell.apply(r);for(var s=0;s<this._holes.length;s++)this._holes[s].apply(r)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)}},{key:"getGeometryType",value:function(){return U.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(t){return this._holes[t]}},{key:"interfaces_",get:function(){return[Pt]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(U.constructor_.call(this,n),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),U.hasNullElements(e))throw new m("holes must not contain null elements");if(t.isEmpty()&&U.hasNonEmptyElements(e))throw new m("shell is empty but holes are not");this._shell=t,this._holes=e}}])}(U),Ft=function(t){function i(){return n(this,i),e(this,i,arguments)}return u(i,t),s(i)}($),Gt=function(t){function i(t){var r;return n(this,i),(r=e(this,i)).array=[],t instanceof W&&r.addAll(t),r}return u(i,t),s(i,[{key:"contains",value:function(t){var e,n=o(this.array);try{for(n.s();!(e=n.n()).done;)if(0===e.value.compareTo(t))return!0}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"add",value:function(t){if(this.contains(t))return!1;for(var e=0,n=this.array.length;e<n;e++)if(1===this.array[e].compareTo(t))return!!this.array.splice(e,0,t);return this.array.push(t),!0}},{key:"addAll",value:function(t){var e,n=o(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.add(i)}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"remove",value:function(){throw new H}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new zt(this.array)}}])}(Ft),zt=function(){return s((function t(e){n(this,t),this.array=e,this.position=0}),[{key:"next",value:function(){if(this.position===this.array.length)throw new K;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new H}}])}(),Yt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"computeEnvelopeInternal",value:function(){for(var t=new X,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t}},{key:"getGeometryN",value:function(t){return this._geometries[t]}},{key:"getCoordinates",value:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t}},{key:"getArea",value:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t}},{key:"copyInternal",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new i(t,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this._geometries.length!==n._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(n._geometries[r],e))return!1;return!0}return f(i,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Mt.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var t=Tt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t}},{key:"reverseInternal",value:function(){for(var t=this._geometries.length,e=new pt(t),n=0;n<t;n++)e.add(this._geometries[n].reverse());return this.getFactory().buildGeometry(e)}},{key:"getTypeCode",value:function(){return U.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var t=Tt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t}},{key:"getLength",value:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t}},{key:"getNumPoints",value:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var t=arguments[0],e=new Gt(Mt.asList(this._geometries)),n=new Gt(Mt.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[1],r=arguments[0],s=this.getNumGeometries(),o=r.getNumGeometries(),a=0;a<s&&a<o;){var l=this.getGeometryN(a),u=r.getGeometryN(a),h=l.compareToSameClass(u,i);if(0!==h)return h;a++}return a<s?1:a<o?-1:0}}},{key:"apply",value:function(){if(rt(arguments[0],St))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(rt(arguments[0],Rt)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(rt(arguments[0],bt)){var r=arguments[0];r.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(r)}else if(rt(arguments[0],x)){var o=arguments[0];o.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(o)}}},{key:"getBoundary",value:function(){return U.checkNotGeometryCollection(this),G.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return U.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];if(U.constructor_.call(this,e),null===t&&(t=[]),U.hasNullElements(t))throw new m("geometries must not contain null elements");this._geometries=t}}}])}(U),qt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"copyInternal",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new i(t,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f(i,"equalsExact",this,1).call(this,t,e)}return f(i,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(1===arguments.length&&Number.isInteger(arguments[0])){var t=arguments[0];return this._geometries[t].getCoordinate()}return f(i,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Tt.FALSE}},{key:"getTypeCode",value:function(){return U.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return U.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Nt]}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Yt.constructor_.call(this,t,e)}}])}(Yt),Bt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"copyInternal",value:function(){return new i(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Tt.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||f(i,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var t=this._points.copy();return kt.reverse(t),this.getFactory().createLinearRing(t)}},{key:"getTypeCode",value:function(){return U.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!f(i,"isClosed",this,1).call(this))throw new m("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<i.MINIMUM_VALID_SIZE)throw new m("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return U.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];At.constructor_.call(this,t,e),this.validateConstruction()}}])}(At);Bt.MINIMUM_VALID_SIZE=4;var jt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"setOrdinate",value:function(t,e){switch(t){case i.X:this.x=e;break;case i.Y:this.y=e;break;default:throw new m("Invalid ordinate index: "+t)}}},{key:"getZ",value:function(){return B.NULL_ORDINATE}},{key:"getOrdinate",value:function(t){switch(t){case i.X:return this.x;case i.Y:return this.y}throw new m("Invalid ordinate index: "+t)}},{key:"setZ",value:function(t){throw new m("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new i(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ()}}],[{key:"constructor_",value:function(){if(0===arguments.length)B.constructor_.call(this);else if(1===arguments.length){if(arguments[0]instanceof i){var t=arguments[0];B.constructor_.call(this,t.x,t.y)}else if(arguments[0]instanceof B){var e=arguments[0];B.constructor_.call(this,e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];B.constructor_.call(this,n,r,B.NULL_ORDINATE)}}}])}(B);jt.X=0,jt.Y=1,jt.Z=-1,jt.M=-1;var Xt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(t,e){switch(t){case i.X:this.x=e;break;case i.Y:this.y=e;break;case i.M:this._m=e;break;default:throw new m("Invalid ordinate index: "+t)}}},{key:"setM",value:function(t){this._m=t}},{key:"getZ",value:function(){return B.NULL_ORDINATE}},{key:"getOrdinate",value:function(t){switch(t){case i.X:return this.x;case i.Y:return this.y;case i.M:return this._m}throw new m("Invalid ordinate index: "+t)}},{key:"setZ",value:function(t){throw new m("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new i(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ(),this._m=t.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)B.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof i){var t=arguments[0];B.constructor_.call(this,t.x,t.y),this._m=t._m}else if(arguments[0]instanceof B){var e=arguments[0];B.constructor_.call(this,e.x,e.y),this._m=this.getM()}}else if(3===arguments.length){var n=arguments[0],r=arguments[1],s=arguments[2];B.constructor_.call(this,n,r,B.NULL_ORDINATE),this._m=s}}}])}(B);Xt.X=0,Xt.Y=1,Xt.Z=-1,Xt.M=2;var Ut=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(t,e){switch(t){case B.X:this.x=e;break;case B.Y:this.y=e;break;case B.Z:this.z=e;break;case B.M:this._m=e;break;default:throw new m("Invalid ordinate index: "+t)}}},{key:"setM",value:function(t){this._m=t}},{key:"getOrdinate",value:function(t){switch(t){case B.X:return this.x;case B.Y:return this.y;case B.Z:return this.getZ();case B.M:return this.getM()}throw new m("Invalid ordinate index: "+t)}},{key:"copy",value:function(){return new i(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ(),this._m=t.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)B.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof i){var t=arguments[0];B.constructor_.call(this,t),this._m=t._m}else if(arguments[0]instanceof B){var e=arguments[0];B.constructor_.call(this,e),this._m=this.getM()}}else if(4===arguments.length){var n=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3];B.constructor_.call(this,n,r,s),this._m=o}}}])}(B),Vt=function(){function t(){n(this,t)}return s(t,null,[{key:"measures",value:function(t){return t instanceof jt?0:t instanceof Xt||t instanceof Ut?1:0}},{key:"dimension",value:function(t){return t instanceof jt?2:t instanceof Xt?3:t instanceof Ut?4:3}},{key:"create",value:function(){if(1===arguments.length){var e=arguments[0];return t.create(e,0)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return 2===n?new jt:3===n&&0===i?new B:3===n&&1===i?new Xt:4===n&&1===i?new Ut:new B}}}])}(),Wt=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"getCoordinate",value:function(t){return this.get(t)}},{key:"addAll",value:function(){if(2===arguments.length&&"boolean"==typeof arguments[1]&&rt(arguments[0],W)){for(var t=arguments[1],e=!1,n=arguments[0].iterator();n.hasNext();)this.add(n.next(),t),e=!0;return e}return f(i,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var t=f(i,"clone",this,1).call(this),e=0;e<this.size();e++)t.add(e,this.get(e).clone());return t}},{key:"toCoordinateArray",value:function(){if(0===arguments.length)return this.toArray(i.coordArrayType);if(1===arguments.length){if(arguments[0])return this.toArray(i.coordArrayType);for(var t=this.size(),e=new Array(t).fill(null),n=0;n<t;n++)e[n]=this.get(t-n-1);return e}}},{key:"add",value:function(){if(1===arguments.length){var t=arguments[0];return f(i,"add",this,1).call(this,t)}if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof B&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;f(i,"add",this,1).call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var s=arguments[0],o=arguments[1];return this.add(s,o),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],l=arguments[1];if(arguments[2])for(var u=0;u<a.length;u++)this.add(a[u],l);else for(var h=a.length-1;h>=0;h--)this.add(a[h],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof B){var c=arguments[0],d=arguments[1];if(!arguments[2]){var g=this.size();if(g>0){if(c>0&&this.get(c-1).equals2D(d))return null;if(c<g&&this.get(c).equals2D(d))return null}}f(i,"add",this,1).call(this,c,d)}}else if(4===arguments.length){var p=arguments[0],_=arguments[1],v=arguments[2],y=arguments[3],m=1;v>y&&(m=-1);for(var x=v;x!==y;x+=m)this.add(p[x],_);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var t=this.get(0).copy();this.add(t,!1)}}}],[{key:"constructor_",value:function(){if(0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}}])}(pt);Wt.coordArrayType=new Array(0).fill(null);var Kt=function(){function t(){n(this,t)}return s(t,null,[{key:"isRing",value:function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])}},{key:"ptNotInList",value:function(e,n){for(var i=0;i<e.length;i++){var r=e[i];if(t.indexOf(r,n)<0)return r}return null}},{key:"scroll",value:function(e,n){var i=t.indexOf(n,e);if(i<0)return null;var r=new Array(e.length).fill(null);mt.arraycopy(e,i,r,0,e.length-i),mt.arraycopy(e,0,r,e.length-i,i),mt.arraycopy(r,0,e,0,e.length)}},{key:"equals",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var o=0;o<i.length;o++)if(0!==s.compare(i[o],r[o]))return!1;return!0}}},{key:"intersection",value:function(t,e){for(var n=new Wt,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()}},{key:"measures",value:function(t){if(null===t||0===t.length)return 0;var e,n=0,i=o(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;n=Math.max(n,Vt.measures(r))}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"hasRepeatedPoints",value:function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(e){return t.hasRepeatedPoints(e)?new Wt(e,!1).toCoordinateArray():e}},{key:"reverse",value:function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}}},{key:"removeNull",value:function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,s=0;s<t.length;s++)null!==t[s]&&(i[r++]=t[s]);return i}},{key:"copyDeep",value:function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=t[n].copy();return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],s=arguments[2],o=arguments[3],a=arguments[4],l=0;l<a;l++)s[o+l]=i[r+l].copy()}},{key:"isEqualReversed",value:function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0}},{key:"envelope",value:function(t){for(var e=new X,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e}},{key:"toCoordinateArray",value:function(e){return e.toArray(t.coordArrayType)}},{key:"dimension",value:function(t){if(null===t||0===t.length)return 3;var e,n=0,i=o(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;n=Math.max(n,Vt.dimension(r))}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"atLeastNCoordinatesOrNothing",value:function(t,e){return e.length>=t?e:[]}},{key:"indexOf",value:function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1}},{key:"increasingDirection",value:function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1}},{key:"compare",value:function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0}},{key:"minCoordinate",value:function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e}},{key:"extract",value:function(t,e,n){e=xt.clamp(e,0,t.length);var i=(n=xt.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var s=0,o=e;o<=n;o++)r[s++]=t[o];return r}}])}(),Ht=function(){return s((function t(){n(this,t)}),[{key:"compare",value:function(t,e){var n=t,i=e;return Kt.compare(n,i)}},{key:"interfaces_",get:function(){return[P]}}])}(),$t=function(){return s((function t(){n(this,t)}),[{key:"compare",value:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=Kt.compare(n,i);return Kt.isEqualReversed(n,i)?0:r}},{key:"OLDcompare",value:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=Kt.increasingDirection(n),s=Kt.increasingDirection(i),o=r>0?0:n.length-1,a=s>0?0:n.length-1,l=0;l<n.length;l++){var u=n[o].compareTo(i[a]);if(0!==u)return u;o+=r,a+=s}return 0}},{key:"interfaces_",get:function(){return[P]}}])}();Kt.ForwardComparator=Ht,Kt.BidirectionalComparator=$t,Kt.coordArrayType=new Array(0).fill(null);var Zt=function(){return s((function t(e){n(this,t),this.str=e}),[{key:"append",value:function(t){this.str+=t}},{key:"setCharAt",value:function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)}},{key:"toString",value:function(){return this.str}}])}(),Jt=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"getM",value:function(t){return this.hasM()?this._coordinates[t].getM():M.NaN}},{key:"setOrdinate",value:function(t,e,n){switch(e){case ht.X:this._coordinates[t].x=n;break;case ht.Y:this._coordinates[t].y=n;break;default:this._coordinates[t].setOrdinate(e,n)}}},{key:"getZ",value:function(t){return this.hasZ()?this._coordinates[t].getZ():M.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(t,e){switch(e){case ht.X:return this._coordinates[t].x;case ht.Y:return this._coordinates[t].y;default:return this._coordinates[t].getOrdinate(e)}}},{key:"getCoordinate",value:function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0];arguments[1].setCoordinate(this._coordinates[e])}}},{key:"getCoordinateCopy",value:function(t){var e=this.createCoordinate();return e.setCoordinate(this._coordinates[t]),e}},{key:"createCoordinate",value:function(){return Vt.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(t){return this._coordinates[t].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t}},{key:"copy",value:function(){for(var e=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++){var i=this.createCoordinate();i.setCoordinate(this._coordinates[n]),e[n]=i}return new t(e,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var t=new Zt(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"}},{key:"getY",value:function(t){return this._coordinates[t].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[ht,S]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];t.constructor_.call(this,e,Kt.dimension(e),Kt.measures(e))}else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var i=0;i<n;i++)this._coordinates[i]=new B}else if(rt(arguments[0],ht)){var r=arguments[0];if(null===r)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._measures=r.getMeasures(),this._coordinates=new Array(r.size()).fill(null);for(var s=0;s<this._coordinates.length;s++)this._coordinates[s]=r.getCoordinateCopy(s)}}else if(2===arguments.length){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],a=arguments[1];t.constructor_.call(this,o,a,Kt.measures(o))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var l=arguments[0],u=arguments[1];this._coordinates=new Array(l).fill(null),this._dimension=u;for(var h=0;h<l;h++)this._coordinates[h]=Vt.create(u)}}else if(3===arguments.length)if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var c=arguments[0],f=arguments[1],d=arguments[2];this._dimension=f,this._measures=d,this._coordinates=null===c?new Array(0).fill(null):c}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var g=arguments[0],p=arguments[1],_=arguments[2];this._coordinates=new Array(g).fill(null),this._dimension=p,this._measures=_;for(var v=0;v<g;v++)this._coordinates[v]=this.createCoordinate()}}}])}(),Qt=function(){function t(){n(this,t)}return s(t,[{key:"readResolve",value:function(){return t.instance()}},{key:"create",value:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Jt(arguments[0]);if(rt(arguments[0],ht))return new Jt(arguments[0])}else{if(2===arguments.length){var t=arguments[1];return t>3&&(t=3),t<2&&(t=2),new Jt(arguments[0],t)}if(3===arguments.length){var e=arguments[2],n=arguments[1]-e;return e>1&&(e=1),n>3&&(n=3),n<2&&(n=2),new Jt(arguments[0],n+e,e)}}}},{key:"interfaces_",get:function(){return[wt,S]}}],[{key:"instance",value:function(){return t.instanceObject}}])}();Qt.instanceObject=new Qt;var te=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"copyInternal",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new i(t,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f(i,"equalsExact",this,1).call(this,t,e)}return f(i,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return U.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new pt,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))}},{key:"getGeometryType",value:function(){return U.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Pt]}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Yt.constructor_.call(this,t,e)}}])}(Yt),ee=function(){return s((function t(){n(this,t)}),[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])}(),ne=function(t){function i(){var t;return n(this,i),(t=e(this,i)).map=new Map,t}return u(i,t),s(i,[{key:"get",value:function(t){return this.map.get(t)||null}},{key:"put",value:function(t,e){return this.map.set(t,e),e}},{key:"values",value:function(){for(var t=new pt,e=this.map.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t}},{key:"entrySet",value:function(){var t=new Z;return this.map.entries().forEach((function(e){return t.add(e)})),t}},{key:"size",value:function(){return this.map.size()}}])}(ee),ie=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"equals",value:function(e){if(!(e instanceof t))return!1;var n=e;return this._modelType===n._modelType&&this._scale===n._scale}},{key:"compareTo",value:function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return ot.compare(n,i)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===t.FLOATING||this._modelType===t.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var e="UNKNOWN";return this._modelType===t.FLOATING?e="Floating":this._modelType===t.FLOATING_SINGLE?e="Floating-Single":this._modelType===t.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e}},{key:"makePrecise",value:function(){if("number"==typeof arguments[0]){var e=arguments[0];return M.isNaN(e)||this._modelType===t.FLOATING_SINGLE?e:this._modelType===t.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof B){var n=arguments[0];if(this._modelType===t.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}}},{key:"getMaximumSignificantDigits",value:function(){var e=16;return this._modelType===t.FLOATING?e=16:this._modelType===t.FLOATING_SINGLE?e=6:this._modelType===t.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e}},{key:"setScale",value:function(t){this._scale=Math.abs(t)}},{key:"interfaces_",get:function(){return[S,E]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof re){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}}},{key:"mostPrecise",value:function(t,e){return t.compareTo(e)>=0?t:e}}])}(),re=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"readResolve",value:function(){return t.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[S]}}],[{key:"constructor_",value:function(){this._name=null;var e=arguments[0];this._name=e,t.nameToTypeMap.put(e,this)}}])}();re.nameToTypeMap=new ne,ie.Type=re,ie.FIXED=new re("FIXED"),ie.FLOATING=new re("FLOATING"),ie.FLOATING_SINGLE=new re("FLOATING SINGLE"),ie.maximumPreciseValue=9007199254740992;var se=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"copyInternal",value:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new i(t,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof U){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&f(i,"equalsExact",this,1).call(this,t,e)}return f(i,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Tt.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return U.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new H}},{key:"getGeometryType",value:function(){return U.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[It]}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Yt.constructor_.call(this,t,e)}}])}(Yt),oe=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"createEmpty",value:function(t){switch(t){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new m("Invalid dimension: "+t)}}},{key:"toGeometry",value:function(t){return t.isNull()?this.createPoint():t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new B(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new B(t.getMinX(),t.getMinY()),new B(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new B(t.getMinX(),t.getMinY()),new B(t.getMinX(),t.getMaxY()),new B(t.getMaxX(),t.getMaxY()),new B(t.getMaxX(),t.getMinY()),new B(t.getMinX(),t.getMinY())]),null)}},{key:"createLineString",value:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(rt(arguments[0],ht))return new At(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return 0===arguments.length?new se(null,this):1===arguments.length?new se(arguments[0],this):void 0}},{key:"buildGeometry",value:function(e){for(var n=null,i=!1,r=!1,s=e.iterator();s.hasNext();){var o=s.next(),a=o.getTypeCode();null===n&&(n=a),a!==n&&(i=!0),o instanceof Yt&&(r=!0)}if(null===n)return this.createGeometryCollection();if(i||r)return this.createGeometryCollection(t.toGeometryArray(e));var l=e.iterator().next();if(e.size()>1){if(l instanceof Dt)return this.createMultiPolygon(t.toPolygonArray(e));if(l instanceof At)return this.createMultiLineString(t.toLineStringArray(e));if(l instanceof Ot)return this.createMultiPoint(t.toPointArray(e));G.shouldNeverReachHere("Unhandled geometry type: "+l.getGeometryType())}return l}},{key:"createMultiPointFromCoords",value:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}},{key:"createPoint",value:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof B){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(rt(arguments[0],ht))return new Ot(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(rt(arguments[0],ht)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Bt){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new Dt(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return 0===arguments.length?new Yt(null,this):1===arguments.length?new Yt(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(rt(arguments[0],ht))return new Bt(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return 0===arguments.length?new te(null,this):1===arguments.length?new te(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(0===arguments.length)return new qt(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new qt(arguments[0],this);if(rt(arguments[0],ht)){var t=arguments[0];if(null===t)return this.createMultiPoint(new Array(0).fill(null));for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var i=this.getCoordinateSequenceFactory().create(1,t.getDimension(),t.getMeasures());kt.copy(t,n,i,0,1),e[n]=this.createPoint(i)}return this.createMultiPoint(e)}}}},{key:"interfaces_",get:function(){return[S]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)t.constructor_.call(this,new ie,0);else if(1===arguments.length){if(rt(arguments[0],wt)){var e=arguments[0];t.constructor_.call(this,new ie,0,e)}else if(arguments[0]instanceof ie){var n=arguments[0];t.constructor_.call(this,n,0,t.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];t.constructor_.call(this,i,r,t.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2];this._precisionModel=s,this._coordinateSequenceFactory=a,this._SRID=o}}},{key:"toMultiPolygonArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toGeometryArray",value:function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return Qt.instance()}},{key:"toMultiLineStringArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toLineStringArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toMultiPointArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toLinearRingArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toPointArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toPolygonArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"createPointFromInternalCoord",value:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)}}])}(),ae="XY",le="XYZ",ue="XYM",he="XYZM",ce={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},fe="EMPTY",de=1,ge=2,pe=3,_e=4,ve=5,ye=6;for(var me in ce)ce[me].toUpperCase();var xe=function(){return s((function t(e){n(this,t),this.wkt=e,this.index_=-1}),[{key:"isAlpha_",value:function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"}},{key:"isNumeric_",value:function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)}},{key:"isWhiteSpace_",value:function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var t,e=this.nextChar_(),n=this.index_,i=e;if("("==e)t=ge;else if(","==e)t=ve;else if(")"==e)t=pe;else if(this.isNumeric_(e)||"-"==e)t=_e,i=this.readNumber_();else if(this.isAlpha_(e))t=de,i=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=ye}return{position:n,value:i,type:t}}},{key:"readNumber_",value:function(){var t,e=this.index_,n=!1,i=!1;do{"."==t?n=!0:"e"!=t&&"E"!=t||(i=!0),t=this.nextChar_()}while(this.isNumeric_(t,n)||!i&&("e"==t||"E"==t)||i&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))}},{key:"readText_",value:function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()}}])}(),Ee=function(){return s((function t(e,i){n(this,t),this.lexer_=e,this.token_,this.layout_=ae,this.factory=i}),[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(t){return this.token_.type==t}},{key:"match",value:function(t){var e=this.isTokenType(t);return e&&this.consume_(),e}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var t=ae,e=this.token_;if(this.isTokenType(de)){var n=e.value;"Z"===n?t=le:"M"===n?t=ue:"ZM"===n&&(t=he),t!==ae&&this.consume_()}return t}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(ge)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(ve));if(this.match(pe))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(ge)){var t=this.parsePoint_();if(this.match(pe))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(ge)){var t=this.parsePointList_();if(this.match(pe))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(ge)){var t=this.parseLineStringTextList_();if(this.match(pe))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var t;if(this.match(ge)){if(t=this.token_.type==ge?this.parsePointTextList_():this.parsePointList_(),this.match(pe))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(ge)){var t=this.parseLineStringTextList_();if(this.match(pe))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(ge)){var t=this.parsePolygonTextList_();if(this.match(pe))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var t=[],e=this.layout_.length,n=0;n<e;++n){var i=this.token_;if(!this.match(_e))break;t.push(i.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var t=[this.parsePoint_()];this.match(ve);)t.push(this.parsePoint_());return t}},{key:"parsePointTextList_",value:function(){for(var t=[this.parsePointText_()];this.match(ve);)t.push(this.parsePointText_());return t}},{key:"parseLineStringTextList_",value:function(){for(var t=[this.parseLineStringText_()];this.match(ve);)t.push(this.parseLineStringText_());return t}},{key:"parsePolygonTextList_",value:function(){for(var t=[this.parsePolygonText_()];this.match(ve);)t.push(this.parsePolygonText_());return t}},{key:"isEmptyGeometry_",value:function(){var t=this.isTokenType(de)&&this.token_.value==fe;return t&&this.consume_(),t}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var t=this.factory,e=function(t){return i(B,d(t))},n=function(n){var i=n.map((function(n){return t.createLinearRing(n.map(e))}));return i.length>1?t.createPolygon(i[0],i.slice(1)):t.createPolygon(i[0])},r=this.token_;if(this.match(de)){var s=r.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==s){var o=this.parseGeometryCollectionText_();return t.createGeometryCollection(o)}switch(s){case"POINT":var a=this.parsePointText_();return a?t.createPoint(i(B,d(a))):t.createPoint();case"LINESTRING":var l=this.parseLineStringText_().map(e);return t.createLineString(l);case"LINEARRING":var u=this.parseLineStringText_().map(e);return t.createLinearRing(u);case"POLYGON":var h=this.parsePolygonText_();return h&&0!==h.length?n(h):t.createPolygon();case"MULTIPOINT":var c=this.parseMultiPointText_();if(!c||0===c.length)return t.createMultiPoint();var f=c.map(e).map((function(e){return t.createPoint(e)}));return t.createMultiPoint(f);case"MULTILINESTRING":var g=this.parseMultiLineStringText_().map((function(n){return t.createLineString(n.map(e))}));return t.createMultiLineString(g);case"MULTIPOLYGON":var p=this.parseMultiPolygonText_();if(!p||0===p.length)return t.createMultiPolygon();var _=p.map(n);return t.createMultiPolygon(_);default:throw new Error("Invalid geometry type: "+s)}}throw new Error(this.formatErrorMessage_())}}])}();function we(t){if(t.isEmpty())return"";var e=t.getCoordinate(),n=[e.x,e.y];return void 0===e.z||Number.isNaN(e.z)||n.push(e.z),void 0===e.m||Number.isNaN(e.m)||n.push(e.m),n.join(" ")}function Se(t){for(var e=t.getCoordinates().map((function(t){var e=[t.x,t.y];return void 0===t.z||Number.isNaN(t.z)||e.push(t.z),void 0===t.m||Number.isNaN(t.m)||e.push(t.m),e})),n=[],i=0,r=e.length;i<r;++i)n.push(e[i].join(" "));return n.join(", ")}function Ce(t){var e=[];e.push("("+Se(t.getExteriorRing())+")");for(var n=0,i=t.getNumInteriorRing();n<i;++n)e.push("("+Se(t.getInteriorRingN(n))+")");return e.join(", ")}var Ie={Point:we,LineString:Se,LinearRing:Se,Polygon:Ce,MultiPoint:function(t){for(var e=[],n=0,i=t.getNumGeometries();n<i;++n)e.push("("+we(t.getGeometryN(n))+")");return e.join(", ")},MultiLineString:function(t){for(var e=[],n=0,i=t.getNumGeometries();n<i;++n)e.push("("+Se(t.getGeometryN(n))+")");return e.join(", ")},MultiPolygon:function(t){for(var e=[],n=0,i=t.getNumGeometries();n<i;++n)e.push("("+Ce(t.getGeometryN(n))+")");return e.join(", ")},GeometryCollection:function(t){for(var e=[],n=0,i=t.getNumGeometries();n<i;++n)e.push(ke(t.getGeometryN(n)));return e.join(", ")}};function ke(t){var e=t.getGeometryType(),n=Ie[e];e=e.toUpperCase();var i=function(t){var e="";if(t.isEmpty())return e;var n=t.getCoordinate();return void 0===n.z||Number.isNaN(n.z)||(e+="Z"),void 0===n.m||Number.isNaN(n.m)||(e+="M"),e}(t);return i.length>0&&(e+=" "+i),t.isEmpty()?e+" "+fe:e+" ("+n(t)+")"}var Te=function(){return s((function t(e){n(this,t),this.geometryFactory=e||new oe,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:"read",value:function(t){var e=new xe(t);return new Ee(e,this.geometryFactory).parse()}},{key:"write",value:function(t){return ke(t)}}])}(),be=function(){return s((function t(e){n(this,t),this.parser=new Te(e)}),[{key:"write",value:function(t){return this.parser.write(t)}}],[{key:"toLineString",value:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}])}(),Re=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"getIndexAlongSegment",value:function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]}},{key:"getTopologySummary",value:function(){var t=new Zt;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()}},{key:"computeIntersection",value:function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(t){this._precisionModel=t}},{key:"isInteriorIntersection",value:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}}},{key:"getIntersection",value:function(t){return this._intPt[t]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==t.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(e,n){return t.computeEdgeDistance(this._intPt[n],this._inputLines[e][0],this._inputLines[e][1])}},{key:"isCollinear",value:function(){return this._result===t.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return be.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+be.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(t,e){return this._inputLines[t][e]}},{key:"isIntersection",value:function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new B,this._intPt[1]=new B,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),s=-1;if(t.equals(e))s=0;else if(t.equals(n))s=i>r?i:r;else{var o=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(s=i>r?o:a)||t.equals(e)||(s=Math.max(o,a))}return G.isTrue(!(0===s&&!t.equals(e)),"Bad distance calculation"),s}},{key:"nonRobustComputeEdgeDistance",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y,s=Math.sqrt(i*i+r*r);return G.isTrue(!(0===s&&!t.equals(e)),"Invalid distance calculation"),s}}])}();Re.DONT_INTERSECT=0,Re.DO_INTERSECT=1,Re.COLLINEAR=2,Re.NO_INTERSECTION=0,Re.POINT_INTERSECTION=1,Re.COLLINEAR_INTERSECTION=2;var Ae=function(t){function i(){return n(this,i),e(this,i)}return u(i,t),s(i,[{key:"isInSegmentEnvelopes",value:function(t){var e=new X(this._inputLines[0][0],this._inputLines[0][1]),n=new X(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)}},{key:"computeIntersection",value:function(){if(3!==arguments.length)return f(i,"computeIntersection",this,1).apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];if(this._isProper=!1,X.intersects(e,n,t)&&0===ct.index(e,n,t)&&0===ct.index(n,e,t))return this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this._result=Re.POINT_INTERSECTION,null;this._result=Re.NO_INTERSECTION}},{key:"intersection",value:function(t,e,n,r){var s=this.intersectionSafe(t,e,n,r);return this.isInSegmentEnvelopes(s)||(s=new B(i.nearestEndpoint(t,e,n,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(s),s}},{key:"checkDD",value:function(t,e,n,i,r){var s=ut.intersection(t,e,n,i),o=this.isInSegmentEnvelopes(s);mt.out.println("DD in env = "+o+"  --------------------- "+s),r.distance(s)>1e-4&&mt.out.println("Distance = "+r.distance(s))}},{key:"intersectionSafe",value:function(t,e,n,r){var s=yt.intersection(t,e,n,r);return null===s&&(s=i.nearestEndpoint(t,e,n,r)),s}},{key:"computeCollinearIntersection",value:function(t,e,n,i){var r=X.intersects(t,e,n),s=X.intersects(t,e,i),o=X.intersects(n,i,t),a=X.intersects(n,i,e);return r&&s?(this._intPt[0]=n,this._intPt[1]=i,Re.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=t,this._intPt[1]=e,Re.COLLINEAR_INTERSECTION):r&&o?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||s||a?Re.COLLINEAR_INTERSECTION:Re.POINT_INTERSECTION):r&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||s||o?Re.COLLINEAR_INTERSECTION:Re.POINT_INTERSECTION):s&&o?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||r||a?Re.COLLINEAR_INTERSECTION:Re.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||r||o?Re.COLLINEAR_INTERSECTION:Re.POINT_INTERSECTION):Re.NO_INTERSECTION}},{key:"computeIntersect",value:function(t,e,n,i){if(this._isProper=!1,!X.intersects(t,e,n,i))return Re.NO_INTERSECTION;var r=ct.index(t,e,n),s=ct.index(t,e,i);if(r>0&&s>0||r<0&&s<0)return Re.NO_INTERSECTION;var o=ct.index(n,i,t),a=ct.index(n,i,e);return o>0&&a>0||o<0&&a<0?Re.NO_INTERSECTION:0===r&&0===s&&0===o&&0===a?this.computeCollinearIntersection(t,e,n,i):(0===r||0===s||0===o||0===a?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this._intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this._intPt[0]=e:0===r?this._intPt[0]=new B(n):0===s?this._intPt[0]=new B(i):0===o?this._intPt[0]=new B(t):0===a&&(this._intPt[0]=new B(e))):(this._isProper=!0,this._intPt[0]=this.intersection(t,e,n,i)),Re.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(t,e,n,i){var r=t,s=Et.pointToSegment(t,n,i),o=Et.pointToSegment(e,n,i);return o<s&&(s=o,r=e),(o=Et.pointToSegment(n,t,e))<s&&(s=o,r=n),(o=Et.pointToSegment(i,t,e))<s&&(s=o,r=i),r}}])}(Re),Ne=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"countSegment",value:function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=ct.index(t,e,this._p);if(r===ct.COLLINEAR)return this._isPointOnSegment=!0,null;e.y<t.y&&(r=-r),r===ct.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==V.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?V.BOUNDARY:this._crossingCount%2==1?V.INTERIOR:V.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof B&&rt(arguments[1],ht)){for(var e=arguments[1],n=new t(arguments[0]),i=new B,r=new B,s=1;s<e.size();s++)if(e.getCoordinate(s,i),e.getCoordinate(s-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof B&&arguments[1]instanceof Array){for(var o=arguments[1],a=new t(arguments[0]),l=1;l<o.length;l++){var u=o[l],h=o[l-1];if(a.countSegment(u,h),a.isOnSegment())return a.getLocation()}return a.getLocation()}}}])}(),Oe=function(){function t(){n(this,t)}return s(t,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof B&&rt(arguments[1],ht)){for(var t=arguments[0],e=arguments[1],n=new Ae,i=new B,r=new B,s=e.size(),o=1;o<s;o++)if(e.getCoordinate(o-1,i),e.getCoordinate(o,r),n.computeIntersection(t,i,r),n.hasIntersection())return!0;return!1}if(arguments[0]instanceof B&&arguments[1]instanceof Array){for(var a=arguments[0],l=arguments[1],u=new Ae,h=1;h<l.length;h++){var c=l[h-1],f=l[h];if(u.computeIntersection(a,c,f),u.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(t,e){return Ne.locatePointInRing(t,e)}},{key:"isInRing",value:function(e,n){return t.locateInRing(e,n)!==V.EXTERIOR}}])}(),Le=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"setAllLocations",value:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t}},{key:"isNull",value:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==V.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===V.NONE&&(this.location[e]=t)}},{key:"isLine",value:function(){return 1===this.location.length}},{key:"merge",value:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Q.ON]=this.location[Q.ON],e[Q.LEFT]=V.NONE,e[Q.RIGHT]=V.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===V.NONE&&n<t.location.length&&(this.location[n]=t.location[n])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var t=this.location[Q.LEFT];this.location[Q.LEFT]=this.location[Q.RIGHT],this.location[Q.RIGHT]=t}},{key:"toString",value:function(){var t=new st;return this.location.length>1&&t.append(V.toLocationSymbol(this.location[Q.LEFT])),t.append(V.toLocationSymbol(this.location[Q.ON])),this.location.length>1&&t.append(V.toLocationSymbol(this.location[Q.RIGHT])),t.toString()}},{key:"setLocations",value:function(t,e,n){this.location[Q.ON]=t,this.location[Q.LEFT]=e,this.location[Q.RIGHT]=n}},{key:"get",value:function(t){return t<this.location.length?this.location[t]:V.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===V.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Q.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}}},{key:"init",value:function(t){this.location=new Array(t).fill(null),this.setAllLocations(V.NONE)}},{key:"isEqualOnSide",value:function(t,e){return this.location[e]===t.location[e]}},{key:"allPositionsEqual",value:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Q.ON]=n}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2];this.init(3),this.location[Q.ON]=s,this.location[Q.LEFT]=o,this.location[Q.RIGHT]=a}}}])}(),Me=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"getGeometryCount",value:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t}},{key:"setAllLocations",value:function(t,e){this.elt[t].setAllLocations(e)}},{key:"isNull",value:function(t){return this.elt[t].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}}},{key:"isLine",value:function(t){return this.elt[t].isLine()}},{key:"merge",value:function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Le(t.elt[e]):this.elt[e].merge(t.elt[e])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Q.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}}},{key:"toString",value:function(){var t=new st;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()}},{key:"isArea",value:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}}},{key:"isAnyNull",value:function(t){return this.elt[t].isAnyNull()}},{key:"setLocation",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Q.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}}},{key:"isEqualOnSide",value:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)}},{key:"allPositionsEqual",value:function(t,e){return this.elt[t].allPositionsEqual(e)}},{key:"toLine",value:function(t){this.elt[t].isArea()&&(this.elt[t]=new Le(this.elt[t].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Le(e),this.elt[1]=new Le(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Le(n.elt[0]),this.elt[1]=new Le(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new Le(V.NONE),this.elt[1]=new Le(V.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2];this.elt[0]=new Le(s,o,a),this.elt[1]=new Le(s,o,a)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],h=arguments[2],c=arguments[3];this.elt[0]=new Le(V.NONE,V.NONE,V.NONE),this.elt[1]=new Le(V.NONE,V.NONE,V.NONE),this.elt[l].setLocations(u,h,c)}}},{key:"toLineLabel",value:function(e){for(var n=new t(V.NONE),i=0;i<2;i++)n.setLocation(i,e.getLocation(i));return n}}])}(),Pe=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"computeRing",value:function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=ct.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"computePoints",value:function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new dt("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new dt("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var i=e.getLabel();G.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(t){return this._pts.get(t)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var s=r;s<i.length;s++)this._pts.add(i[s])}else{var o=i.length-2;n&&(o=i.length-1);for(var a=o;a>=0;a--)this._pts.add(i[a])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)}},{key:"containsPoint",value:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Oe.isInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0}},{key:"addHole",value:function(t){this._holes.add(t)}},{key:"isShell",value:function(){return null===this._shell}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,Q.RIGHT);if(n===V.NONE)return null;if(this._label.getLocation(e)===V.NONE)return this._label.setLocation(e,n),null}}},{key:"setShell",value:function(t){this._shell=t,null!==t&&t.addHole(this)}},{key:"toPolygon",value:function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new pt,this._pts=new pt,this._label=new Me(V.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new pt,this._geometryFactory=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()}}}])}(),De=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"setEdgeRing",value:function(t,e){t.setMinEdgeRing(e)}},{key:"getNext",value:function(t){return t.getNextMin()}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Pe.constructor_.call(this,t,e)}}])}(Pe),Fe=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"buildMinimalRings",value:function(){var t=new pt,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new De(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t}},{key:"setEdgeRing",value:function(t,e){t.setEdgeRing(e)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)}},{key:"getNext",value:function(t){return t.getNext()}}],[{key:"constructor_",value:function(){var t=arguments[0],e=arguments[1];Pe.constructor_.call(this,t,e)}}])}(Pe),Ge=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"setVisited",value:function(t){this._isVisited=t}},{key:"setInResult",value:function(t){this._isInResult=t}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(t){this._label=t}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(t){this._isCovered=t,this._isCoveredSet=!0}},{key:"updateIM",value:function(t){G.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}}}])}(),ze=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"isIncidentEdgeInResult",value:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(t){t.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(t){}},{key:"computeMergedLocation",value:function(t,e){var n=V.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==V.BOUNDARY&&(n=i)}return n}},{key:"setLabel",value:function(){if(2!==arguments.length||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return f(i,"setLabel",this,1).apply(this,arguments);var t=arguments[0],e=arguments[1];null===this._label?this._label=new Me(t,e):this._label.setLocation(t,e)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof i){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Me)for(var e=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(e,n);this._label.getLocation(n)===V.NONE&&this._label.setLocation(n,r)}}},{key:"add",value:function(t){this._edges.insert(t),t.setNode(this)}},{key:"setLabelBoundary",value:function(t){if(null===this._label)return null;var e=V.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case V.BOUNDARY:n=V.INTERIOR;break;case V.INTERIOR:default:n=V.BOUNDARY}this._label.setLocation(t,n)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var t=arguments[0],e=arguments[1];this._coord=t,this._edges=e,this._label=new Me(0,V.NONE)}}])}(Ge),Ye=function(t){function i(){return n(this,i),e(this,i,arguments)}return u(i,t),s(i)}(ee);function qe(t){return null==t?0:t.color}function Be(t){return null==t?null:t.parent}function je(t,e){null!==t&&(t.color=e)}function Xe(t){return null==t?null:t.left}function Ue(t){return null==t?null:t.right}var Ve=function(t){function i(){var t;return n(this,i),(t=e(this,i)).root_=null,t.size_=0,t}return u(i,t),s(i,[{key:"get",value:function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null}},{key:"put",value:function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var s=r.value;return r.value=e,s}r=r.right}}while(null!==r);var o={key:t,left:null,right:null,value:e,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=o:n.right=o,this.fixAfterInsertion(o),this.size_++,null}},{key:"fixAfterInsertion",value:function(t){var e;for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)Be(t)===Xe(Be(Be(t)))?1===qe(e=Ue(Be(Be(t))))?(je(Be(t),0),je(e,0),je(Be(Be(t)),1),t=Be(Be(t))):(t===Ue(Be(t))&&(t=Be(t),this.rotateLeft(t)),je(Be(t),0),je(Be(Be(t)),1),this.rotateRight(Be(Be(t)))):1===qe(e=Xe(Be(Be(t))))?(je(Be(t),0),je(e,0),je(Be(Be(t)),1),t=Be(Be(t))):(t===Xe(Be(t))&&(t=Be(t),this.rotateRight(t)),je(Be(t),0),je(Be(Be(t)),1),this.rotateLeft(Be(Be(t))));this.root_.color=0}},{key:"values",value:function(){var t=new pt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=i.successor(e));)t.add(e.value);return t}},{key:"entrySet",value:function(){var t=new Z,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=i.successor(e));)t.add(e);return t}},{key:"rotateLeft",value:function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}}},{key:"rotateRight",value:function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}}},{key:"getFirstEntry",value:function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return!0;e=e.right}}return!1}}],[{key:"successor",value:function(t){var e;if(null===t)return null;if(null!==t.right){for(e=t.right;null!==e.left;)e=e.left;return e}e=t.parent;for(var n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e}}])}(Ye),We=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"find",value:function(t){return this.nodeMap.get(t)}},{key:"addNode",value:function(){if(arguments[0]instanceof B){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof ze){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}}},{key:"print",value:function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(t){for(var e=new pt,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===V.BOUNDARY&&e.add(i)}return e}},{key:"add",value:function(t){var e=t.getCoordinate();this.addNode(e).add(t)}}],[{key:"constructor_",value:function(){this.nodeMap=new Ve,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}}])}(),Ke=function(){function t(){n(this,t)}return s(t,null,[{key:"isNorthern",value:function(e){return e===t.NE||e===t.NW}},{key:"isOpposite",value:function(t,e){return t!==e&&2===(t-e+4)%4}},{key:"commonHalfPlane",value:function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n}},{key:"isInHalfPlane",value:function(e,n){return n===t.SE?e===t.SE||e===t.SW:e===n||e===n+1}},{key:"quadrant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];if(0===e&&0===n)throw new m("Cannot compute the quadrant for point ( "+e+", "+n+" )");return e>=0?n>=0?t.NE:t.SE:n>=0?t.NW:t.SW}if(arguments[0]instanceof B&&arguments[1]instanceof B){var i=arguments[0],r=arguments[1];if(r.x===i.x&&r.y===i.y)throw new m("Cannot compute the quadrant for two identical points "+i);return r.x>=i.x?r.y>=i.y?t.NE:t.SE:r.y>=i.y?t.NW:t.SW}}}])}();Ke.NE=0,Ke.NW=1,Ke.SW=2,Ke.SE=3;var He=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"compareDirection",value:function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:ct.index(t._p0,t._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(t){this._node=t}},{key:"print",value:function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)}},{key:"compareTo",value:function(t){var e=t;return this.compareDirection(e)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label}},{key:"computeLabel",value:function(t){}},{key:"init",value:function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Ke.quadrant(this._dx,this._dy),G.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[E]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var e=arguments[0];this._edge=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];t.constructor_.call(this,n,i,r,null)}else if(4===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2],l=arguments[3];t.constructor_.call(this,s),this.init(o,a),this._label=l}}}])}(),$e=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(t){return this._depth[t]}},{key:"setVisited",value:function(t){this._isVisited=t}},{key:"computeDirectedLabel",value:function(){this._label=new Me(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new dt("assigned depths do not match",this.getCoordinate());this._depth[t]=e}},{key:"isInteriorAreaEdge",value:function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Q.LEFT)===V.INTERIOR&&this._label.getLocation(e,Q.RIGHT)===V.INTERIOR||(t=!1);return t}},{key:"setNextMin",value:function(t){this._nextMin=t}},{key:"print",value:function(t){f(i,"print",this,1).call(this,t),t.print(" "+this._depth[Q.LEFT]+"/"+this._depth[Q.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")}},{key:"setMinEdgeRing",value:function(t){this._minEdgeRing=t}},{key:"isLineEdge",value:function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,V.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,V.EXTERIOR);return t&&e&&n}},{key:"setEdgeRing",value:function(t){this._edgeRing=t}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t}},{key:"setInResult",value:function(t){this._isInResult=t}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)}},{key:"setSym",value:function(t){this._sym=t}},{key:"setVisitedEdge",value:function(t){this.setVisited(t),this._sym.setVisited(t)}},{key:"setEdgeDepths",value:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===Q.LEFT&&(i=-1);var r=Q.opposite(t),s=e+n*i;this.setDepth(t,e),this.setDepth(r,s)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(t){this._next=t}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(He.constructor_.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(t,e){return t===V.EXTERIOR&&e===V.INTERIOR?1:t===V.INTERIOR&&e===V.EXTERIOR?-1:0}}])}(He),Ze=function(){return s((function t(){n(this,t)}),[{key:"createNode",value:function(t){return new ze(t,null)}}])}(),Je=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"printEdges",value:function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}}},{key:"find",value:function(t){return this._nodes.find(t)}},{key:"addNode",value:function(){if(arguments[0]instanceof ze){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof B){var e=arguments[0];return this._nodes.addNode(e)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(t){mt.out.println(t)}},{key:"isBoundaryNode",value:function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===V.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(t,e,n,i){return!!t.equals(n)&&ct.index(t,e,i)===ct.COLLINEAR&&Ke.quadrant(t,e)===Ke.quadrant(n,i)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(t){mt.out.print(t)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null}},{key:"insertEdge",value:function(t){this._edges.add(t)}},{key:"findEdgeEnd",value:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null}},{key:"addEdges",value:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new $e(n,!0),r=new $e(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}}},{key:"add",value:function(t){this._nodes.add(t),this._edgeEndList.add(t)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null}}],[{key:"constructor_",value:function(){if(this._edges=new pt,this._nodes=null,this._edgeEndList=new pt,0===arguments.length)this._nodes=new We(new Ze);else if(1===arguments.length){var t=arguments[0];this._nodes=new We(t)}}},{key:"linkResultDirectedEdges",value:function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}}])}(),Qe=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"sortShellsAndHoles",value:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}}},{key:"computePolygons",value:function(t){for(var e=new pt,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e}},{key:"placeFreeHoles",value:function(e,n){for(var i=n.iterator();i.hasNext();){var r=i.next();if(null===r.getShell()){var s=t.findEdgeRingContaining(r,e);if(null===s)throw new dt("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(s)}}}},{key:"buildMinimalEdgeRings",value:function(t,e,n){for(var i=new pt,r=t.iterator();r.hasNext();){var s=r.next();if(s.getMaxNodeDegree()>2){s.linkDirectedEdgesForMinimalEdgeRings();var o=s.buildMinimalRings(),a=this.findShell(o);null!==a?(this.placePolygonHoles(a,o),e.add(a)):n.addAll(o)}else i.add(s)}return i}},{key:"buildMaximalEdgeRings",value:function(t){for(var e=new pt,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new Fe(i,this._geometryFactory);e.add(r),r.setInResult()}}return e}},{key:"placePolygonHoles",value:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return G.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n}},{key:"add",value:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Je.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new pt,s=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(s,this._shellList,r),this.placeFreeHoles(this._shellList,r)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new pt;var t=arguments[0];this._geometryFactory=t}},{key:"findEdgeRingContaining",value:function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),s=null,o=null,a=e.iterator();a.hasNext();){var l=a.next(),u=l.getLinearRing(),h=u.getEnvelopeInternal();if(!h.equals(i)&&h.contains(i)){r=Kt.ptNotInList(n.getCoordinates(),u.getCoordinates());var c=!1;Oe.isInRing(r,u.getCoordinates())&&(c=!0),c&&(null===s||o.contains(h))&&(o=(s=l).getLinearRing().getEnvelopeInternal())}}return s}}])}(),tn=function(){return s((function t(){n(this,t)}),[{key:"getBounds",value:function(){}}])}(),en=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[tn,S]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e}}])}(),nn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"poll",value:function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return 0===this._size}},{key:"add",value:function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new pt,this._items.add(null)}}])}(),rn=function(){return s((function t(){n(this,t)}),[{key:"insert",value:function(t,e){}},{key:"remove",value:function(t,e){}},{key:"query",value:function(){}}])}(),sn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(t){G.isTrue(null===this._bounds),this._childBoundables.add(t)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[tn,S]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new pt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}}}])}(),on={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return on.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?Mt.sort(n,e):Mt.sort(n);for(var i=t.iterator(),r=0,s=n.length;r<s;r++)i.next(),i.set(n[r])},singletonList:function(t){var e=new pt;return e.add(t),e}},an=function(){function t(){n(this,t)}return s(t,null,[{key:"maxDistance",value:function(e,n,i,r,s,o,a,l){var u=t.distance(e,n,s,o);return u=Math.max(u,t.distance(e,n,a,l)),u=Math.max(u,t.distance(i,r,s,o)),Math.max(u,t.distance(i,r,a,l))}},{key:"distance",value:function(t,e,n,i){var r=n-t,s=i-e;return Math.sqrt(r*r+s*s)}},{key:"maximumDistance",value:function(e,n){var i=Math.min(e.getMinX(),n.getMinX()),r=Math.min(e.getMinY(),n.getMinY()),s=Math.max(e.getMaxX(),n.getMaxX()),o=Math.max(e.getMaxY(),n.getMaxY());return t.distance(i,r,s,o)}},{key:"minMaxDistance",value:function(e,n){var i=e.getMinX(),r=e.getMinY(),s=e.getMaxX(),o=e.getMaxY(),a=n.getMinX(),l=n.getMinY(),u=n.getMaxX(),h=n.getMaxY(),c=t.maxDistance(i,r,i,o,a,l,a,h);return c=Math.min(c,t.maxDistance(i,r,i,o,a,l,u,l)),c=Math.min(c,t.maxDistance(i,r,i,o,u,h,a,h)),c=Math.min(c,t.maxDistance(i,r,i,o,u,h,u,l)),c=Math.min(c,t.maxDistance(i,r,s,r,a,l,a,h)),c=Math.min(c,t.maxDistance(i,r,s,r,a,l,u,l)),c=Math.min(c,t.maxDistance(i,r,s,r,u,h,a,h)),c=Math.min(c,t.maxDistance(i,r,s,r,u,h,u,l)),c=Math.min(c,t.maxDistance(s,o,i,o,a,l,a,h)),c=Math.min(c,t.maxDistance(s,o,i,o,a,l,u,l)),c=Math.min(c,t.maxDistance(s,o,i,o,u,h,a,h)),c=Math.min(c,t.maxDistance(s,o,i,o,u,h,u,l)),c=Math.min(c,t.maxDistance(s,o,s,r,a,l,a,h)),c=Math.min(c,t.maxDistance(s,o,s,r,a,l,u,l)),c=Math.min(c,t.maxDistance(s,o,s,r,u,h,a,h)),Math.min(c,t.maxDistance(s,o,s,r,u,h,u,l))}}])}(),ln=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"maximumDistance",value:function(){return an.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(e,n){var i=t.isComposite(this._boundable1),r=t.isComposite(this._boundable2);if(i&&r)return t.area(this._boundable1)>t.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,e,n),null):(this.expand(this._boundable2,this._boundable1,!0,e,n),null);if(i)return this.expand(this._boundable1,this._boundable2,!1,e,n),null;if(r)return this.expand(this._boundable2,this._boundable1,!0,e,n),null;throw new m("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(t.isComposite(this._boundable1)||t.isComposite(this._boundable2))}},{key:"compareTo",value:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0}},{key:"expand",value:function(e,n,i,r,s){for(var o=e.getChildBoundables().iterator();o.hasNext();){var a=o.next(),l=null;(l=i?new t(n,a,this._itemDistance):new t(a,n,this._itemDistance)).getDistance()<s&&r.add(l)}}},{key:"getBoundable",value:function(t){return 0===t?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[E]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()}},{key:"area",value:function(t){return t.getBounds().getArea()}},{key:"isComposite",value:function(t){return t instanceof sn}}])}(),un=function(){return s((function t(){n(this,t)}),[{key:"visitItem",value:function(t){}}])}(),hn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"queryInternal",value:function(){if(rt(arguments[2],un)&&arguments[0]instanceof Object&&arguments[1]instanceof sn)for(var t=arguments[0],e=arguments[2],n=arguments[1].getChildBoundables(),i=0;i<n.size();i++){var r=n.get(i);this.getIntersectsOp().intersects(r.getBounds(),t)&&(r instanceof sn?this.queryInternal(t,r,e):r instanceof en?e.visitItem(r.getItem()):G.shouldNeverReachHere())}else if(rt(arguments[2],nt)&&arguments[0]instanceof Object&&arguments[1]instanceof sn)for(var s=arguments[0],o=arguments[2],a=arguments[1].getChildBoundables(),l=0;l<a.size();l++){var u=a.get(l);this.getIntersectsOp().intersects(u.getBounds(),s)&&(u instanceof sn?this.queryInternal(s,u,o):u instanceof en?o.add(u.getItem()):G.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(t){return t.get(t.size()-1)}},{key:"size",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof sn?t+=this.size(n):n instanceof en&&(t+=1)}return t}}},{key:"removeItem",value:function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof en&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)}},{key:"itemsTree",value:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new pt:t}if(1===arguments.length){for(var e=arguments[0],n=new pt,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof sn){var s=this.itemsTree(r);null!==s&&n.add(s)}else r instanceof en?n.add(r.getItem()):G.shouldNeverReachHere()}return n.size()<=0?null:n}}},{key:"insert",value:function(t,e){G.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new en(t,e))}},{key:"boundablesAtLevel",value:function(){if(1===arguments.length){var t=arguments[0],e=new pt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(G.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var s=i.getChildBoundables().iterator();s.hasNext();){var o=s.next();o instanceof sn?this.boundablesAtLevel(n,o,r):(G.isTrue(o instanceof en),-1===n&&r.add(o))}return null}}},{key:"query",value:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new pt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.queryInternal(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,i)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],s=this.removeItem(i,r);if(s)return!0;for(var o=null,a=i.getChildBoundables().iterator();a.hasNext();){var l=a.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof sn&&(s=this.remove(n,l,r))){o=l;break}}return null!==o&&o.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(o),s}}},{key:"createHigherLevels",value:function(t,e){G.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)}},{key:"depth",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof sn){var i=this.depth(n);i>t&&(t=i)}}return t+1}}},{key:"createParentBoundables",value:function(t,e){G.isTrue(!t.isEmpty());var n=new pt;n.add(this.createNode(e));var i=new pt(t);on.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var s=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(s)}return n}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[S]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new pt,this._nodeCapacity=null,0===arguments.length)t.constructor_.call(this,t.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var e=arguments[0];G.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}}},{key:"compareDoubles",value:function(t,e){return t>e?1:t<e?-1:0}}])}();hn.IntersectsOp=function(){},hn.DEFAULT_NODE_CAPACITY=10;var cn=function(){return s((function t(){n(this,t)}),[{key:"distance",value:function(t,e){}}])}(),fn=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"createParentBoundablesFromVerticalSlices",value:function(t,e){G.isTrue(t.length>0);for(var n=new pt,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n}},{key:"nearestNeighbourK",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.nearestNeighbourK(t,M.POSITIVE_INFINITY,e)}if(3===arguments.length){var n=arguments[0],r=arguments[2],s=arguments[1],o=new nn;o.add(n);for(var a=new nn;!o.isEmpty()&&s>=0;){var l=o.poll(),u=l.getDistance();if(u>=s)break;l.isLeaves()?a.size()<r?a.add(l):(a.peek().getDistance()>u&&(a.poll(),a.add(l)),s=a.peek().getDistance()):l.expandToQueue(o,s)}return i.getItems(a)}}},{key:"createNode",value:function(t){return new dn(t)}},{key:"size",value:function(){return 0===arguments.length?f(i,"size",this,1).call(this):f(i,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof X))return f(i,"insert",this,1).apply(this,arguments);var t=arguments[0],e=arguments[1];if(t.isNull())return null;f(i,"insert",this,1).call(this,t,e)}},{key:"getIntersectsOp",value:function(){return i.intersectsOp}},{key:"verticalSlices",value:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),s=0;s<e;s++){i[s]=new pt;for(var o=0;r.hasNext()&&o<n;){var a=r.next();i[s].add(a),o++}}return i}},{key:"query",value:function(){if(1===arguments.length){var t=arguments[0];return f(i,"query",this,1).call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];f(i,"query",this,1).call(this,e,n)}}},{key:"getComparator",value:function(){return i.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(t,e){return f(i,"createParentBoundables",this,1).call(this,t,e)}},{key:"remove",value:function(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof X){var t=arguments[0],e=arguments[1];return f(i,"remove",this,1).call(this,t,e)}return f(i,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return 0===arguments.length?f(i,"depth",this,1).call(this):f(i,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(t,e){G.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new pt(t);on.sort(r,i.xComparator);var s=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(s,e)}},{key:"nearestNeighbour",value:function(){if(1===arguments.length){if(rt(arguments[0],cn)){var t=arguments[0];if(this.isEmpty())return null;var e=new ln(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof ln){var n=arguments[0],i=M.POSITIVE_INFINITY,r=null,s=new nn;for(s.add(n);!s.isEmpty()&&i>0;){var o=s.poll(),a=o.getDistance();if(a>=i)break;o.isLeaves()?(i=a,r=o):o.expandToQueue(s,i)}return null===r?null:[r.getBoundable(0).getItem(),r.getBoundable(1).getItem()]}}else{if(2===arguments.length){var l=arguments[0],u=arguments[1];if(this.isEmpty()||l.isEmpty())return null;var h=new ln(this.getRoot(),l.getRoot(),u);return this.nearestNeighbour(h)}if(3===arguments.length){var c=arguments[2],f=new en(arguments[0],arguments[1]),d=new ln(this.getRoot(),f,c);return this.nearestNeighbour(d)[0]}if(4===arguments.length){var g=arguments[2],p=arguments[3],_=new en(arguments[0],arguments[1]),v=new ln(this.getRoot(),_,g);return this.nearestNeighbourK(v,p)}}}},{key:"isWithinDistance",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=M.POSITIVE_INFINITY,i=new nn;for(i.add(t);!i.isEmpty();){var r=i.poll(),s=r.getDistance();if(s>e)return!1;if(r.maximumDistance()<=e)return!0;if(r.isLeaves()){if((n=s)<=e)return!0}else r.expandToQueue(i,n)}return!1}if(3===arguments.length){var o=arguments[0],a=arguments[1],l=arguments[2],u=new ln(this.getRoot(),o.getRoot(),a);return this.isWithinDistance(u,l)}}},{key:"interfaces_",get:function(){return[rn,S]}}],[{key:"constructor_",value:function(){if(0===arguments.length)i.constructor_.call(this,i.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];hn.constructor_.call(this,t)}}},{key:"centreX",value:function(t){return i.avg(t.getMinX(),t.getMaxX())}},{key:"avg",value:function(t,e){return(t+e)/2}},{key:"getItems",value:function(t){for(var e=new Array(t.size()).fill(null),n=0;!t.isEmpty();){var i=t.poll();e[n]=i.getBoundable(0).getItem(),n++}return e}},{key:"centreY",value:function(t){return i.avg(t.getMinY(),t.getMaxY())}}])}(hn),dn=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"computeBounds",value:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new X(n.getBounds()):t.expandToInclude(n.getBounds())}return t}}],[{key:"constructor_",value:function(){var t=arguments[0];sn.constructor_.call(this,t)}}])}(sn);fn.STRtreeNode=dn,fn.xComparator=new(function(){return s((function t(){n(this,t)}),[{key:"interfaces_",get:function(){return[P]}},{key:"compare",value:function(t,e){return hn.compareDoubles(fn.centreX(t.getBounds()),fn.centreX(e.getBounds()))}}])}()),fn.yComparator=new(function(){return s((function t(){n(this,t)}),[{key:"interfaces_",get:function(){return[P]}},{key:"compare",value:function(t,e){return hn.compareDoubles(fn.centreY(t.getBounds()),fn.centreY(e.getBounds()))}}])}()),fn.intersectsOp=new(function(){return s((function t(){n(this,t)}),[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(t,e){return t.intersects(e)}}])}()),fn.DEFAULT_NODE_CAPACITY=10;var gn=function(){function t(){n(this,t)}return s(t,null,[{key:"relativeSign",value:function(t,e){return t<e?-1:t>e?1:0}},{key:"compare",value:function(e,n,i){if(n.equals2D(i))return 0;var r=t.relativeSign(n.x,i.x),s=t.relativeSign(n.y,i.y);switch(e){case 0:return t.compareValue(r,s);case 1:return t.compareValue(s,r);case 2:return t.compareValue(s,-r);case 3:return t.compareValue(-r,s);case 4:return t.compareValue(-r,-s);case 5:return t.compareValue(-s,-r);case 6:return t.compareValue(-s,r);case 7:return t.compareValue(r,-s)}return G.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0}}])}(),pn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:this._isInterior?e._isInterior?gn.compare(this._segmentOctant,this.coord,e.coord):1:-1}},{key:"isEndPoint",value:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[E]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new B(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))}}])}(),_n=function(){return s((function t(){n(this,t)}),[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])}(),vn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"getSplitCoordinates",value:function(){var t=new Wt;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var t=new pt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}}},{key:"createSplitEdgePts",value:function(t,e){var n=e.segmentIndex-t.segmentIndex+2;if(2===n)return[new B(t.coord),new B(e.coord)];var i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var s=new Array(n).fill(null),o=0;s[o++]=new B(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)s[o++]=this._edge.getCoordinate(a);return r&&(s[o]=new B(e.coord)),s}},{key:"print",value:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)}},{key:"findCollapsesFromExistingVertices",value:function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e);this._edge.getCoordinate(e+1);var i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(ot.valueOf(e+1))}}},{key:"addEdgeCoordinates",value:function(t,e,n){var i=this.createSplitEdgePts(t,e);n.add(i,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}}},{key:"findCollapseIndex",value:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(ot.valueOf(e[0])),i=r}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)}},{key:"createSplitEdge",value:function(t,e){var n=this.createSplitEdgePts(t,e);return new En(n,this._edge.getData())}},{key:"add",value:function(t,e){var n=new pn(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(G.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)}},{key:"checkSplitEdgesCorrectness",value:function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new D("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new D("bad split edge end point at "+r)}}],[{key:"constructor_",value:function(){this._nodeMap=new Ve,this._edge=null;var t=arguments[0];this._edge=t}}])}(),yn=function(){function t(){n(this,t)}return s(t,null,[{key:"octant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];if(0===e&&0===n)throw new m("Cannot compute the octant for point ( "+e+", "+n+" )");var i=Math.abs(e),r=Math.abs(n);return e>=0?n>=0?i>=r?0:1:i>=r?7:6:n>=0?i>=r?3:2:i>=r?4:5}if(arguments[0]instanceof B&&arguments[1]instanceof B){var s=arguments[0],o=arguments[1],a=o.x-s.x,l=o.y-s.y;if(0===a&&0===l)throw new m("Cannot compute the octant for two identical points "+s);return t.octant(a,l)}}}])}(),mn=function(){return s((function t(){n(this,t)}),[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(t){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(t){}},{key:"getData",value:function(){}}])}(),xn=function(){return s((function t(){n(this,t)}),[{key:"addIntersection",value:function(t,e){}},{key:"interfaces_",get:function(){return[mn]}}])}(),En=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(t){return this._pts[t]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))}},{key:"setData",value:function(t){this._data=t}},{key:"safeOctant",value:function(t,e){return t.equals2D(e)?0:yn.octant(t,e)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[1],i=arguments[3],r=new B(arguments[0].getIntersection(i));this.addIntersection(r,n)}}},{key:"toString",value:function(){return be.toLineString(new Jt(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(t,e){var n=e,i=n+1;if(i<this._pts.length){var r=this._pts[i];t.equals2D(r)&&(n=i)}return this._nodeList.add(t,n)}},{key:"addIntersections",value:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)}},{key:"interfaces_",get:function(){return[xn]}}],[{key:"constructor_",value:function(){this._nodeList=new vn(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}},{key:"getNodedSubstrings",value:function(){if(1===arguments.length){var e=arguments[0],n=new pt;return t.getNodedSubstrings(e,n),n}if(2===arguments.length)for(var i=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(i)}}])}(),wn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof t){var e=arguments[0],n=ct.index(this.p0,this.p1,e.p0),i=ct.index(this.p0,this.p1,e.p1);return n>=0&&i>=0||n<=0&&i<=0?Math.max(n,i):0}if(arguments[0]instanceof B){var r=arguments[0];return ct.index(this.p0,this.p1,r)}}},{key:"toGeometry",value:function(t){return t.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var n=e;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)}},{key:"intersection",value:function(t){var e=new Ae;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof B){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new B(e);var n=this.projectionFactor(e),i=new B;return i.x=this.p0.x+n*(this.p1.x-this.p0.x),i.y=this.p0.y+n*(this.p1.y-this.p0.y),i}if(arguments[0]instanceof t){var r=arguments[0],s=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(s>=1&&o>=1)return null;if(s<=0&&o<=0)return null;var a=this.project(r.p0);s<0&&(a=this.p0),s>1&&(a=this.p1);var l=this.project(r.p1);return o<0&&(l=this.p0),o>1&&(l=this.p1),new t(a,l)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(t){return 0===t?this.p0:this.p1}},{key:"distancePerpendicular",value:function(t){return Et.pointToLinePerpendicular(t,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return t.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?M.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i}},{key:"closestPoints",value:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=M.MAX_VALUE,r=null,s=this.closestPoint(t.p0);i=s.distance(t.p0),n[0]=s,n[1]=t.p0;var o=this.closestPoint(t.p1);(r=o.distance(t.p1))<i&&(i=r,n[0]=o,n[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var l=t.closestPoint(this.p1);return(r=l.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=l),n}},{key:"closestPoint",value:function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)}},{key:"reverse",value:function(){var t=this.p0;this.p0=this.p1,this.p1=t}},{key:"equalsTopo",value:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)}},{key:"lineIntersection",value:function(t){return yt.intersection(this.p0,this.p1,t.p0,t.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,o=Math.sqrt(r*r+s*s),a=0,l=0;if(0!==e){if(o<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=e*r/o,l=e*s/o}return new B(n-l,i+a)}},{key:"setCoordinates",value:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}}},{key:"segmentFraction",value:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||M.isNaN(e))&&(e=1),e}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(t){var e=this.p1.getY()-this.p0.getY(),n=this.p0.getX()-this.p1.getX(),i=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),r=e*e+n*n,s=e*e-n*n,o=t.getX(),a=t.getY();return new B((-s*o-2*e*n*a-2*e*i)/r,(s*a-2*e*n*o-2*n*i)/r)}},{key:"distance",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return Et.segmentToSegment(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof B){var n=arguments[0];return Et.pointToSegment(n,this.p0,this.p1)}}},{key:"pointAlong",value:function(t){var e=new B;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e}},{key:"hashCode",value:function(){var t=M.doubleToLongBits(this.p0.x);t^=31*M.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=M.doubleToLongBits(this.p1.x);return n^=31*M.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)}},{key:"interfaces_",get:function(){return[E,S]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,0===arguments.length)t.constructor_.call(this,new B,new B);else if(1===arguments.length){var e=arguments[0];t.constructor_.call(this,e.p0,e.p1)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.p0=n,this.p1=i}else if(4===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];t.constructor_.call(this,new B(r,s),new B(o,a))}}},{key:"midPoint",value:function(t,e){return new B((t.x+e.x)/2,(t.y+e.y)/2)}}])}(),Sn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"overlap",value:function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[3];arguments[0].getLineSegment(t,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new wn,this._overlapSeg2=new wn}}])}(),Cn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"getLineSegment",value:function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]}},{key:"computeSelect",value:function(t,e,n,i){var r=this._pts[e],s=this._pts[n];if(n-e==1)return i.select(this,e),null;if(!t.intersects(r,s))return null;var o=Math.trunc((e+n)/2);e<o&&this.computeSelect(t,e,o,i),o<n&&this.computeSelect(t,o,n,i)}},{key:"getCoordinates",value:function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t}},{key:"computeOverlaps",value:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.computeOverlaps(this._start,this._end,t,t._start,t._end,e)}else if(6===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],s=arguments[3],o=arguments[4],a=arguments[5];if(i-n==1&&o-s==1)return a.overlap(this,n,r,s),null;if(!this.overlaps(n,i,r,s,o))return null;var l=Math.trunc((n+i)/2),u=Math.trunc((s+o)/2);n<l&&(s<u&&this.computeOverlaps(n,l,r,s,u,a),u<o&&this.computeOverlaps(n,l,r,u,o,a)),l<i&&(s<u&&this.computeOverlaps(l,i,r,s,u,a),u<o&&this.computeOverlaps(l,i,r,u,o,a))}}},{key:"setId",value:function(t){this._id=t}},{key:"select",value:function(t,e){this.computeSelect(t,this._start,this._end,e)}},{key:"getEnvelope",value:function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new X(t,e)}return this._env}},{key:"overlaps",value:function(t,e,n,i,r){return X.intersects(this._pts[t],this._pts[e],n._pts[i],n._pts[r])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i}}])}(),In=function(){function t(){n(this,t)}return s(t,null,[{key:"findChainEnd",value:function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=Ke.quadrant(t[n],t[n+1]),r=e+1;r<t.length;){if(!t[r-1].equals2D(t[r])&&Ke.quadrant(t[r-1],t[r])!==i)break;r++}return r-1}},{key:"getChains",value:function(){if(1===arguments.length){var e=arguments[0];return t.getChains(e,null)}if(2===arguments.length){var n=arguments[0],i=arguments[1],r=new pt,s=0;do{var o=t.findChainEnd(n,s),a=new Cn(n,s,o,i);r.add(a),s=o}while(s<n.length-1);return r}}}])}(),kn=function(){return s((function t(){n(this,t)}),[{key:"computeNodes",value:function(t){}},{key:"getNodedSubstrings",value:function(){}}])}(),Tn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"setSegmentIntersector",value:function(t){this._segInt=t}},{key:"interfaces_",get:function(){return[kn]}}],[{key:"constructor_",value:function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}}])}(),bn=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return En.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(t){for(var e=In.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}}},{key:"computeNodes",value:function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var t=new Rn(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new pt,this._index=new fn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];Tn.constructor_.call(this,t)}}}])}(Tn),Rn=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"overlap",value:function(){if(4!==arguments.length)return f(i,"overlap",this,1).apply(this,arguments);var t=arguments[1],e=arguments[2],n=arguments[3],r=arguments[0].getContext(),s=e.getContext();this._si.processIntersections(r,t,s,n)}}],[{key:"constructor_",value:function(){this._si=null;var t=arguments[0];this._si=t}}])}(Sn);bn.SegmentOverlapAction=Rn;var An=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"isDeletable",value:function(t,e,n,i){var r=this._inputLine[t],s=this._inputLine[e],o=this._inputLine[n];return!!this.isConcave(r,s,o)&&!!this.isShallow(r,s,o,i)&&this.isShallowSampled(r,s,t,n,i)}},{key:"deleteShallowConcavities",value:function(){for(var e=1,n=this.findNextNonDeletedIndex(e),i=this.findNextNonDeletedIndex(n),r=!1;i<this._inputLine.length;){var s=!1;this.isDeletable(e,n,i,this._distanceTol)&&(this._isDeleted[n]=t.DELETE,s=!0,r=!0),e=s?i:n,n=this.findNextNonDeletedIndex(e),i=this.findNextNonDeletedIndex(n)}return r}},{key:"isShallowConcavity",value:function(t,e,n,i){return ct.index(t,e,n)===this._angleOrientation&&Et.pointToSegment(e,t,n)<i}},{key:"isShallowSampled",value:function(e,n,i,r,s){var o=Math.trunc((r-i)/t.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=i;a<r;a+=o)if(!this.isShallow(e,n,this._inputLine[a],s))return!1;return!0}},{key:"isConcave",value:function(t,e,n){var i=ct.index(t,e,n)===this._angleOrientation;return i}},{key:"simplify",value:function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=ct.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(e){for(var n=e+1;n<this._inputLine.length&&this._isDeleted[n]===t.DELETE;)n++;return n}},{key:"isShallow",value:function(t,e,n,i){return Et.pointToSegment(e,t,n)<i}},{key:"collapseLine",value:function(){for(var e=new Wt,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==t.DELETE&&e.add(this._inputLine[n]);return e.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ct.COUNTERCLOCKWISE;var t=arguments[0];this._inputLine=t}},{key:"simplify",value:function(e,n){return new t(e).simplify(n)}}])}();An.INIT=0,An.DELETE=1,An.KEEP=1,An.NUM_PTS_TO_CHECK=10;var Nn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"getCoordinates",value:function(){return this._ptList.toArray(t.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(t){this._precisionModel=t}},{key:"addPt",value:function(t){var e=new B(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])}},{key:"isRedundant",value:function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance}},{key:"toString",value:function(){return(new oe).createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var t=new B(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)}},{key:"setMinimumVertexDistance",value:function(t){this._minimimVertexDistance=t}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new pt}}])}();Nn.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var On=function(){function t(){n(this,t)}return s(t,null,[{key:"toDegrees",value:function(t){return 180*t/Math.PI}},{key:"normalize",value:function(e){for(;e>Math.PI;)e-=t.PI_TIMES_2;for(;e<=-Math.PI;)e+=t.PI_TIMES_2;return e}},{key:"angle",value:function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}}},{key:"isAcute",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0}},{key:"isObtuse",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0}},{key:"interiorAngle",value:function(e,n,i){var r=t.angle(n,e),s=t.angle(n,i);return Math.abs(s-r)}},{key:"normalizePositive",value:function(e){if(e<0){for(;e<0;)e+=t.PI_TIMES_2;e>=t.PI_TIMES_2&&(e=0)}else{for(;e>=t.PI_TIMES_2;)e-=t.PI_TIMES_2;e<0&&(e=0)}return e}},{key:"angleBetween",value:function(e,n,i){var r=t.angle(n,e),s=t.angle(n,i);return t.diff(r,s)}},{key:"diff",value:function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n}},{key:"toRadians",value:function(t){return t*Math.PI/180}},{key:"getTurn",value:function(e,n){var i=Math.sin(n-e);return i>0?t.COUNTERCLOCKWISE:i<0?t.CLOCKWISE:t.NONE}},{key:"angleBetweenOriented",value:function(e,n,i){var r=t.angle(n,e),s=t.angle(n,i)-r;return s<=-Math.PI?s+t.PI_TIMES_2:s>Math.PI?s-t.PI_TIMES_2:s}}])}();On.PI_TIMES_2=2*Math.PI,On.PI_OVER_2=Math.PI/2,On.PI_OVER_4=Math.PI/4,On.COUNTERCLOCKWISE=ct.COUNTERCLOCKWISE,On.CLOCKWISE=ct.CLOCKWISE,On.NONE=ct.COLLINEAR;var Ln=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"addNextSegment",value:function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=ct.index(this._s0,this._s1,this._s2),i=n===ct.CLOCKWISE&&this._side===Q.LEFT||n===ct.COUNTERCLOCKWISE&&this._side===Q.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)}},{key:"addLineEndCap",value:function(t,e){var n=new wn(t,e),i=new wn;this.computeOffsetSegment(n,Q.LEFT,this._distance,i);var r=new wn;this.computeOffsetSegment(n,Q.RIGHT,this._distance,r);var s=e.x-t.x,o=e.y-t.y,a=Math.atan2(o,s);switch(this._bufParams.getEndCapStyle()){case v.CAP_ROUND:this._segList.addPt(i.p1),this.addDirectedFillet(e,a+Math.PI/2,a-Math.PI/2,ct.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case v.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case v.CAP_SQUARE:var l=new B;l.x=Math.abs(this._distance)*Math.cos(a),l.y=Math.abs(this._distance)*Math.sin(a);var u=new B(i.p1.x+l.x,i.p1.y+l.y),h=new B(r.p1.x+l.x,r.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(h)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(t,e,n,i){var r=yt.intersection(e.p0,e.p1,n.p0,n.p1);if(null!==r&&(i<=0?1:r.distance(t)/Math.abs(i))<=this._bufParams.getMitreLimit())return this._segList.addPt(r),null;this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(e,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*t.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===v.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===v.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(t){this._segList.addPt(new B(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new B(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new B(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new B(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(t,e){this._segList.addPts(t,e)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(t,e,n,i,r){var s=e.x-t.x,o=e.y-t.y,a=Math.atan2(o,s),l=n.x-t.x,u=n.y-t.y,h=Math.atan2(u,l);i===ct.CLOCKWISE?a<=h&&(a+=2*Math.PI):a>=h&&(a-=2*Math.PI),this._segList.addPt(e),this.addDirectedFillet(t,a,h,i,r),this._segList.addPt(n)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(t,e,n,i){var r=this._seg0.p1,s=On.angle(r,this._seg0.p0),o=On.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,a=On.normalize(s+o),l=On.normalize(a+Math.PI),u=i*n,h=n-u*Math.abs(Math.sin(o)),c=r.x+u*Math.cos(l),f=r.y+u*Math.sin(l),d=new B(c,f),g=new wn(r,d),p=g.pointAlongOffset(1,h),_=g.pointAlongOffset(1,-h);this._side===Q.LEFT?(this._segList.addPt(p),this._segList.addPt(_)):(this._segList.addPt(_),this._segList.addPt(p))}},{key:"addDirectedFillet",value:function(t,e,n,i,r){var s=i===ct.CLOCKWISE?-1:1,o=Math.abs(e-n),a=Math.trunc(o/this._filletAngleQuantum+.5);if(a<1)return null;for(var l=o/a,u=new B,h=0;h<a;h++){var c=e+s*h*l;u.x=t.x+r*Math.cos(c),u.y=t.y+r*Math.sin(c),this._segList.addPt(u)}}},{key:"computeOffsetSegment",value:function(t,e,n,i){var r=e===Q.LEFT?1:-1,s=t.p1.x-t.p0.x,o=t.p1.y-t.p0.y,a=Math.sqrt(s*s+o*o),l=r*n*s/a,u=r*n*o/a;i.p0.x=t.p0.x-u,i.p0.y=t.p0.y+l,i.p1.x=t.p1.x-u,i.p1.y=t.p1.y+l}},{key:"addInsideTurn",value:function(e,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*t.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var i=new B((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i);var r=new B((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(t){var e=new B(t.x+this._distance,t.y);this._segList.addPt(e),this.addDirectedFillet(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)}},{key:"init",value:function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Nn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*t.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===v.JOIN_BEVEL||this._bufParams.getJoinStyle()===v.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,ct.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new wn,this._seg1=new wn,this._offset0=new wn,this._offset1=new wn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new Ae,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===v.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)}}])}();Ln.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Ln.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Ln.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Ln.MAX_CLOSING_SEG_LEN_FACTOR=80;var Mn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"getOffsetCurve",value:function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var s=r.getCoordinates();return n&&Kt.reverse(s),s}},{key:"computeSingleSidedBufferCurve",value:function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=An.simplify(t,-i),s=r.length-1;n.initSideSegments(r[s],r[s-1],Q.LEFT),n.addFirstSegment();for(var o=s-2;o>=0;o--)n.addNextSegment(r[o],!0)}else{n.addSegments(t,!1);var a=An.simplify(t,i),l=a.length-1;n.initSideSegments(a[0],a[1],Q.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(a[u],!0)}n.addLastSegment(),n.closeRing()}},{key:"computeRingBufferCurve",value:function(t,e,n){var i=this.simplifyTolerance(this._distance);e===Q.RIGHT&&(i=-i);var r=An.simplify(t,i),s=r.length-1;n.initSideSegments(r[s-1],r[0],e);for(var o=1;o<=s;o++){var a=1!==o;n.addNextSegment(r[o],a)}n.closeRing()}},{key:"computeLineBufferCurve",value:function(t,e){var n=this.simplifyTolerance(this._distance),i=An.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],Q.LEFT);for(var s=2;s<=r;s++)e.addNextSegment(i[s],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var o=An.simplify(t,-n),a=o.length-1;e.initSideSegments(o[a],o[a-1],Q.LEFT);for(var l=a-2;l>=0;l--)e.addNextSegment(o[l],!0);e.addLastSegment(),e.addLineEndCap(o[1],o[0]),e.closeRing()}},{key:"computePointCurve",value:function(t,e){switch(this._bufParams.getEndCapStyle()){case v.CAP_ROUND:e.createCircle(t);break;case v.CAP_SQUARE:e.createSquare(t)}}},{key:"getLineCurve",value:function(t,e){if(this._distance=e,this.isLineOffsetEmpty(e))return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(t){return t*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(e,n,i){if(this._distance=i,e.length<=2)return this.getLineCurve(e,i);if(0===i)return t.copyCoordinates(e);var r=this.getSegGen(i);return this.computeRingBufferCurve(e,n,r),r.getCoordinates()}},{key:"computeOffsetCurve",value:function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=An.simplify(t,-i),s=r.length-1;n.initSideSegments(r[s],r[s-1],Q.LEFT),n.addFirstSegment();for(var o=s-2;o>=0;o--)n.addNextSegment(r[o],!0)}else{var a=An.simplify(t,i),l=a.length-1;n.initSideSegments(a[0],a[1],Q.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(a[u],!0)}n.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(t){return 0===t||t<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(t){return new Ln(this._precisionModel,this._bufParams,t)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e}},{key:"copyCoordinates",value:function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new B(t[n]);return e}}])}(),Pn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"findStabbedSegments",value:function(){if(1===arguments.length){for(var t=arguments[0],e=new pt,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(rt(arguments[2],nt)&&arguments[0]instanceof B&&arguments[1]instanceof $e){for(var s=arguments[0],o=arguments[1],a=arguments[2],l=o.getEdge().getCoordinates(),u=0;u<l.length-1;u++)if(this._seg.p0=l[u],this._seg.p1=l[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<s.x||this._seg.isHorizontal()||s.y<this._seg.p0.y||s.y>this._seg.p1.y||ct.index(this._seg.p0,this._seg.p1,s)===ct.RIGHT)){var h=o.getDepth(Q.LEFT);this._seg.p0.equals(l[u])||(h=o.getDepth(Q.RIGHT));var c=new Dn(this._seg,h);a.add(c)}}else if(rt(arguments[2],nt)&&arguments[0]instanceof B&&rt(arguments[1],nt))for(var f=arguments[0],d=arguments[2],g=arguments[1].iterator();g.hasNext();){var p=g.next();p.isForward()&&this.findStabbedSegments(f,p,d)}}},{key:"getDepth",value:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:on.min(e)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new wn;var t=arguments[0];this._subgraphs=t}}])}(),Dn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"compareTo",value:function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!==(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)}},{key:"compareX",value:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[E]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new wn(t),this._leftDepth=e}}])}();Pn.DepthSegment=Dn;var Fn=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,null,[{key:"constructor_",value:function(){y.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])}(y),Gn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"getY",value:function(){var t=this.y/this.w;if(M.isNaN(t)||M.isInfinite(t))throw new Fn;return t}},{key:"getX",value:function(){var t=this.x/this.w;if(M.isNaN(t)||M.isInfinite(t))throw new Fn;return t}},{key:"getCoordinate",value:function(){var t=new B;return t.x=this.getX(),t.y=this.getY(),t}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],s=arguments[1];this.x=r.y*s.w-s.y*r.w,this.y=s.x*r.w-r.x*s.w,this.w=r.x*s.y-s.x*r.y}else if(arguments[0]instanceof B&&arguments[1]instanceof B){var o=arguments[0],a=arguments[1];this.x=o.y-a.y,this.y=a.x-o.x,this.w=o.x*a.y-a.x*o.y}}else if(3===arguments.length){var l=arguments[0],u=arguments[1],h=arguments[2];this.x=l,this.y=u,this.w=h}else if(4===arguments.length){var c=arguments[0],f=arguments[1],d=arguments[2],g=arguments[3],p=c.y-f.y,_=f.x-c.x,v=c.x*f.y-f.x*c.y,y=d.y-g.y,m=g.x-d.x,x=d.x*g.y-g.x*d.y;this.x=_*x-m*v,this.y=y*v-p*x,this.w=p*m-y*_}}}])}(),zn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"area",value:function(){return t.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return t.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(e){if(null===e)throw new m("Supplied point is null.");return t.interpolateZ(e,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return t.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return t.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return t.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return t.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return t.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return t.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}},{key:"area",value:function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)}},{key:"signedArea",value:function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2}},{key:"det",value:function(t,e,n,i){return t*i-e*n}},{key:"interpolateZ",value:function(t,e,n,i){var r=e.x,s=e.y,o=n.x-r,a=i.x-r,l=n.y-s,u=i.y-s,h=o*u-a*l,c=t.x-r,f=t.y-s,d=(u*c-a*f)/h,g=(-l*c+o*f)/h;return e.getZ()+d*(n.getZ()-e.getZ())+g*(i.getZ()-e.getZ())}},{key:"longestSideLength",value:function(t,e,n){var i=t.distance(e),r=e.distance(n),s=n.distance(t),o=i;return r>o&&(o=r),s>o&&(o=s),o}},{key:"circumcentreDD",value:function(t,e,n){var i=lt.valueOf(t.x).subtract(n.x),r=lt.valueOf(t.y).subtract(n.y),s=lt.valueOf(e.x).subtract(n.x),o=lt.valueOf(e.y).subtract(n.y),a=lt.determinant(i,r,s,o).multiply(2),l=i.sqr().add(r.sqr()),u=s.sqr().add(o.sqr()),h=lt.determinant(r,l,o,u),c=lt.determinant(i,l,s,u),f=lt.valueOf(n.x).subtract(h.divide(a)).doubleValue(),d=lt.valueOf(n.y).add(c.divide(a)).doubleValue();return new B(f,d)}},{key:"isAcute",value:function(t,e,n){return!!On.isAcute(t,e,n)&&!!On.isAcute(e,n,t)&&!!On.isAcute(n,t,e)}},{key:"circumcentre",value:function(e,n,i){var r=i.x,s=i.y,o=e.x-r,a=e.y-s,l=n.x-r,u=n.y-s,h=2*t.det(o,a,l,u),c=t.det(a,o*o+a*a,u,l*l+u*u),f=t.det(o,o*o+a*a,l,l*l+u*u);return new B(r-c/h,s+f/h)}},{key:"perpendicularBisector",value:function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new Gn(t.x+n/2,t.y+i/2,1),s=new Gn(t.x-i+n/2,t.y+n+i/2,1);return new Gn(r,s)}},{key:"angleBisector",value:function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n)),s=n.x-t.x,o=n.y-t.y;return new B(t.x+r*s,t.y+r*o)}},{key:"area3D",value:function(t,e,n){var i=e.x-t.x,r=e.y-t.y,s=e.getZ()-t.getZ(),o=n.x-t.x,a=n.y-t.y,l=n.getZ()-t.getZ(),u=r*l-s*a,h=s*o-i*l,c=i*a-r*o,f=u*u+h*h+c*c,d=Math.sqrt(f)/2;return d}},{key:"centroid",value:function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new B(i,r)}},{key:"inCentre",value:function(t,e,n){var i=e.distance(n),r=t.distance(n),s=t.distance(e),o=i+r+s,a=(i*t.x+r*e.x+s*n.x)/o,l=(i*t.y+r*e.y+s*n.y)/o;return new B(a,l)}}])}(),Yn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"addRingSide",value:function(t,e,n,i,r){if(0===e&&t.length<Bt.MINIMUM_VALID_SIZE)return null;var s=i,o=r;t.length>=Bt.MINIMUM_VALID_SIZE&&ct.isCCW(t)&&(s=r,o=i,n=Q.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,s,o)}},{key:"addRingBothSides",value:function(t,e){this.addRingSide(t,e,Q.LEFT,V.EXTERIOR,V.INTERIOR),this.addRingSide(t,e,Q.RIGHT,V.INTERIOR,V.EXTERIOR)}},{key:"addPoint",value:function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,V.EXTERIOR,V.INTERIOR)}},{key:"addPolygon",value:function(t){var e=this._distance,n=Q.LEFT;this._distance<0&&(e=-this._distance,n=Q.RIGHT);var i=t.getExteriorRing(),r=Kt.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addRingSide(r,e,n,V.EXTERIOR,V.INTERIOR);for(var s=0;s<t.getNumInteriorRing();s++){var o=t.getInteriorRingN(s),a=Kt.removeRepeatedPoints(o.getCoordinates());this._distance>0&&this.isErodedCompletely(o,-this._distance)||this.addRingSide(a,e,Q.opposite(n),V.INTERIOR,V.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(t,e){var n=new zn(t[0],t[1],t[2]),i=n.inCentre();return Et.pointToSegment(i,n.p0,n.p1)<Math.abs(e)}},{key:"addLineString",value:function(t){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var e=Kt.removeRepeatedPoints(t.getCoordinates());if(Kt.isRing(e)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(e,this._distance);else{var n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,V.EXTERIOR,V.INTERIOR)}}},{key:"addCurve",value:function(t,e,n){if(null===t||t.length<2)return null;var i=new En(t,new Me(0,V.BOUNDARY,e,n));this._curveList.add(i)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(t){if(t.isEmpty())return null;if(t instanceof Dt)this.addPolygon(t);else if(t instanceof At)this.addLineString(t);else if(t instanceof Ot)this.addPoint(t);else if(t instanceof qt)this.addCollection(t);else if(t instanceof se)this.addCollection(t);else if(t instanceof te)this.addCollection(t);else{if(!(t instanceof Yt))throw new H(t.getGeometryType());this.addCollection(t)}}},{key:"isErodedCompletely",value:function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r}},{key:"addCollection",value:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new pt;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n}}])}(),qn=function(){return s((function t(){n(this,t)}),[{key:"locate",value:function(t){}}])}(),Bn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,t.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new K;var e=this._parent.getGeometryN(this._index++);return e instanceof Yt?(this._subcollectionIterator=new t(e),this._subcollectionIterator.next()):e}},{key:"remove",value:function(){throw new H(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[_n]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()}},{key:"isAtomic",value:function(t){return!(t instanceof Yt)}}])}(),jn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"locate",value:function(e){return t.locate(e,this._geom)}},{key:"interfaces_",get:function(){return[qn]}}],[{key:"constructor_",value:function(){this._geom=null;var t=arguments[0];this._geom=t}},{key:"locatePointInPolygon",value:function(e,n){if(n.isEmpty())return V.EXTERIOR;var i=n.getExteriorRing(),r=t.locatePointInRing(e,i);if(r!==V.INTERIOR)return r;for(var s=0;s<n.getNumInteriorRing();s++){var o=n.getInteriorRingN(s),a=t.locatePointInRing(e,o);if(a===V.BOUNDARY)return V.BOUNDARY;if(a===V.INTERIOR)return V.EXTERIOR}return V.INTERIOR}},{key:"locatePointInRing",value:function(t,e){return e.getEnvelopeInternal().intersects(t)?Oe.locateInRing(t,e.getCoordinates()):V.EXTERIOR}},{key:"containsPointInPolygon",value:function(e,n){return V.EXTERIOR!==t.locatePointInPolygon(e,n)}},{key:"locateInGeometry",value:function(e,n){if(n instanceof Dt)return t.locatePointInPolygon(e,n);if(n instanceof Yt)for(var i=new Bn(n);i.hasNext();){var r=i.next();if(r!==n){var s=t.locateInGeometry(e,r);if(s!==V.EXTERIOR)return s}}return V.EXTERIOR}},{key:"isContained",value:function(e,n){return V.EXTERIOR!==t.locate(e,n)}},{key:"locate",value:function(e,n){return n.isEmpty()?V.EXTERIOR:n.getEnvelopeInternal().intersects(e)?t.locateInGeometry(e,n):V.EXTERIOR}}])}(),Xn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"getNextCW",value:function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)}},{key:"propagateSideLabels",value:function(t){for(var e=V.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,Q.LEFT)!==V.NONE&&(e=i.getLocation(t,Q.LEFT))}if(e===V.NONE)return null;for(var r=e,s=this.iterator();s.hasNext();){var o=s.next(),a=o.getLabel();if(a.getLocation(t,Q.ON)===V.NONE&&a.setLocation(t,Q.ON,r),a.isArea(t)){var l=a.getLocation(t,Q.LEFT),u=a.getLocation(t,Q.RIGHT);if(u!==V.NONE){if(u!==r)throw new dt("side location conflict",o.getCoordinate());l===V.NONE&&G.shouldNeverReachHere("found single null side (at "+o.getCoordinate()+")"),r=l}else G.isTrue(a.getLocation(t,Q.LEFT)===V.NONE,"found single null side"),a.setLocation(t,Q.RIGHT,r),a.setLocation(t,Q.LEFT,r)}}}},{key:"getCoordinate",value:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null}},{key:"print",value:function(t){mt.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)}},{key:"isAreaLabelsConsistent",value:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,Q.LEFT);G.isTrue(i!==V.NONE,"Found unlabelled area edge");for(var r=i,s=this.iterator();s.hasNext();){var o=s.next().getLabel();G.isTrue(o.isArea(t),"Found non-area edge");var a=o.getLocation(t,Q.LEFT),l=o.getLocation(t,Q.RIGHT);if(a===l)return!1;if(l!==r)return!1;r=a}return!0}},{key:"findIndex",value:function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return null===this._edgeList&&(this._edgeList=new pt(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(t,e,n){return this._ptInAreaLocation[t]===V.NONE&&(this._ptInAreaLocation[t]=jn.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]}},{key:"toString",value:function(){var t=new st;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()}},{key:"computeEdgeEndLabels",value:function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)}},{key:"computeLabelling",value:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===V.BOUNDARY&&(e[r]=!0);for(var s=this.iterator();s.hasNext();)for(var o=s.next(),a=o.getLabel(),l=0;l<2;l++)if(a.isAnyNull(l)){var u=V.NONE;if(e[l])u=V.EXTERIOR;else{var h=o.getCoordinate();u=this.getLocation(l,h,t)}a.setAllLocationsIfNull(l,u)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(t,e){this._edgeMap.put(t,e),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Ve,this._edgeList=null,this._ptInAreaLocation=[V.NONE,V.NONE]}}])}(),Un=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),s=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!s.isInResult())continue;e=s,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new dt("no outgoing dirEdge found",this.getCoordinate());G.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}}},{key:"insert",value:function(t){var e=t;this.insertEdgeEnd(e,e)}},{key:"getRightmostEdge",value:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),s=i.getQuadrant();return Ke.isNorthern(r)&&Ke.isNorthern(s)?n:Ke.isNorthern(r)||Ke.isNorthern(s)?0!==n.getDy()?n:0!==i.getDy()?i:(G.shouldNeverReachHere("found two horizontal edges incident on node"),null):i}},{key:"print",value:function(t){mt.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}}},{key:"getResultAreaEdges",value:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new pt;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)}},{key:"computeDepths",value:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Q.LEFT),i=t.getDepth(Q.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new dt("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[1],o=arguments[2],a=arguments[0];a<s;a++){var l=this._edgeList.get(a);l.setEdgeDepths(Q.RIGHT,o),o=l.getDepth(Q.LEFT)}return o}}},{key:"mergeSymLabels",value:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var s=this._resultAreaEdgeList.get(r),o=s.getSym();switch(null===e&&s.getEdgeRing()===t&&(e=s),i){case this._SCANNING_FOR_INCOMING:if(o.getEdgeRing()!==t)continue;n=o,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(s.getEdgeRing()!==t)continue;n.setNextMin(s),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(G.isTrue(null!==e,"found null for first outgoing dirEdge"),G.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))}},{key:"getOutgoingDegree",value:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var t=V.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=V.INTERIOR;break}if(i.isInResult()){t=V.EXTERIOR;break}}}if(t===V.NONE)return null;for(var r=t,s=this.iterator();s.hasNext();){var o=s.next(),a=o.getSym();o.isLineEdge()?o.getEdge().setCovered(r===V.INTERIOR):(o.isInResult()&&(r=V.EXTERIOR),a.isInResult()&&(r=V.INTERIOR))}}},{key:"computeLabelling",value:function(t){f(i,"computeLabelling",this,1).call(this,t),this._label=new Me(V.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next().getEdge().getLabel(),r=0;r<2;r++){var s=n.getLocation(r);s!==V.INTERIOR&&s!==V.BOUNDARY||this._label.setLocation(r,V.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])}(Xn),Vn=function(t){function i(){return n(this,i),e(this,i)}return u(i,t),s(i,[{key:"createNode",value:function(t){return new ze(t,new Un)}}])}(Ze),Wn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"compareTo",value:function(e){var n=e;return t.compareOriented(this._pts,this._orientation,n._pts,n._orientation)}},{key:"interfaces_",get:function(){return[E]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)}},{key:"orientation",value:function(t){return 1===Kt.increasingDirection(t)}},{key:"compareOriented",value:function(t,e,n,i){for(var r=e?1:-1,s=i?1:-1,o=e?t.length:-1,a=i?n.length:-1,l=e?0:t.length-1,u=i?0:n.length-1;;){var h=t[l].compareTo(n[u]);if(0!==h)return h;var c=(l+=r)===o,f=(u+=s)===a;if(c&&!f)return-1;if(!c&&f)return 1;if(c&&f)return 0}}}])}(),Kn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"print",value:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")}},{key:"addAll",value:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())}},{key:"findEdgeIndex",value:function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(t){return this._edges.get(t)}},{key:"findEqualEdge",value:function(t){var e=new Wn(t.getCoordinates());return this._ocaMap.get(e)}},{key:"add",value:function(t){this._edges.add(t);var e=new Wn(t.getCoordinates());this._ocaMap.put(e,t)}}],[{key:"constructor_",value:function(){this._edges=new pt,this._ocaMap=new Ve}}])}(),Hn=function(){return s((function t(){n(this,t)}),[{key:"processIntersections",value:function(t,e,n,i){}},{key:"isDone",value:function(){}}])}(),$n=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"isTrivialIntersection",value:function(e,n,i,r){if(e===i&&1===this._li.getIntersectionNum()){if(t.isAdjacentSegments(n,r))return!0;if(e.isClosed()){var s=e.size()-1;if(0===n&&r===s||0===r&&n===s)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],s=t.getCoordinates()[e+1],o=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,s,o,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Hn]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t}},{key:"isAdjacentSegments",value:function(t,e){return 1===Math.abs(t-e)}}])}(),Zn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)}},{key:"compareTo",value:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)}},{key:"isEndPoint",value:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0}},{key:"interfaces_",get:function(){return[E]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new B(t),this.segmentIndex=e,this.dist=n}}])}(),Jn=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"print",value:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}}},{key:"addEndpoints",value:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)}},{key:"createSplitEdge",value:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var s=new Array(n).fill(null),o=0;s[o++]=new B(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)s[o++]=this.edge.pts[a];return r&&(s[o]=e.coord),new ri(s,new Me(this.edge._label))}},{key:"add",value:function(t,e,n){var i=new Zn(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)}},{key:"isIntersection",value:function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Ve,this.edge=null;var t=arguments[0];this.edge=t}}])}(),Qn=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(t.isTrue(this._matrix[V.INTERIOR][V.INTERIOR])||t.isTrue(this._matrix[V.INTERIOR][V.BOUNDARY])||t.isTrue(this._matrix[V.BOUNDARY][V.INTERIOR])||t.isTrue(this._matrix[V.BOUNDARY][V.BOUNDARY]))&&this._matrix[V.EXTERIOR][V.INTERIOR]===Tt.FALSE&&this._matrix[V.EXTERIOR][V.BOUNDARY]===Tt.FALSE}},{key:"isCoveredBy",value:function(){return(t.isTrue(this._matrix[V.INTERIOR][V.INTERIOR])||t.isTrue(this._matrix[V.INTERIOR][V.BOUNDARY])||t.isTrue(this._matrix[V.BOUNDARY][V.INTERIOR])||t.isTrue(this._matrix[V.BOUNDARY][V.BOUNDARY]))&&this._matrix[V.INTERIOR][V.EXTERIOR]===Tt.FALSE&&this._matrix[V.BOUNDARY][V.EXTERIOR]===Tt.FALSE}},{key:"set",value:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this._matrix[n][i]=Tt.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];this._matrix[r][s]=o}}},{key:"isContains",value:function(){return t.isTrue(this._matrix[V.INTERIOR][V.INTERIOR])&&this._matrix[V.EXTERIOR][V.INTERIOR]===Tt.FALSE&&this._matrix[V.EXTERIOR][V.BOUNDARY]===Tt.FALSE}},{key:"setAtLeast",value:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.setAtLeast(n,i,Tt.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2];this._matrix[r][s]<o&&(this._matrix[r][s]=o)}}},{key:"setAtLeastIfValid",value:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)}},{key:"isWithin",value:function(){return t.isTrue(this._matrix[V.INTERIOR][V.INTERIOR])&&this._matrix[V.INTERIOR][V.EXTERIOR]===Tt.FALSE&&this._matrix[V.BOUNDARY][V.EXTERIOR]===Tt.FALSE}},{key:"isTouches",value:function(e,n){return e>n?this.isTouches(n,e):(e===Tt.A&&n===Tt.A||e===Tt.L&&n===Tt.L||e===Tt.L&&n===Tt.A||e===Tt.P&&n===Tt.A||e===Tt.P&&n===Tt.L)&&this._matrix[V.INTERIOR][V.INTERIOR]===Tt.FALSE&&(t.isTrue(this._matrix[V.INTERIOR][V.BOUNDARY])||t.isTrue(this._matrix[V.BOUNDARY][V.INTERIOR])||t.isTrue(this._matrix[V.BOUNDARY][V.BOUNDARY]))}},{key:"isOverlaps",value:function(e,n){return e===Tt.P&&n===Tt.P||e===Tt.A&&n===Tt.A?t.isTrue(this._matrix[V.INTERIOR][V.INTERIOR])&&t.isTrue(this._matrix[V.INTERIOR][V.EXTERIOR])&&t.isTrue(this._matrix[V.EXTERIOR][V.INTERIOR]):e===Tt.L&&n===Tt.L&&1===this._matrix[V.INTERIOR][V.INTERIOR]&&t.isTrue(this._matrix[V.INTERIOR][V.EXTERIOR])&&t.isTrue(this._matrix[V.EXTERIOR][V.INTERIOR])}},{key:"isEquals",value:function(e,n){return e===n&&t.isTrue(this._matrix[V.INTERIOR][V.INTERIOR])&&this._matrix[V.INTERIOR][V.EXTERIOR]===Tt.FALSE&&this._matrix[V.BOUNDARY][V.EXTERIOR]===Tt.FALSE&&this._matrix[V.EXTERIOR][V.INTERIOR]===Tt.FALSE&&this._matrix[V.EXTERIOR][V.BOUNDARY]===Tt.FALSE}},{key:"toString",value:function(){for(var t=new Zt("123456789"),e=0;e<3;e++)for(var n=0;n<3;n++)t.setCharAt(3*e+n,Tt.toDimensionSymbol(this._matrix[e][n]));return t.toString()}},{key:"setAll",value:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this._matrix[e][n]=t}},{key:"get",value:function(t,e){return this._matrix[t][e]}},{key:"transpose",value:function(){var t=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=t,t=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=t,t=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=t,this}},{key:"matches",value:function(e){if(9!==e.length)throw new m("Should be length 9: "+e);for(var n=0;n<3;n++)for(var i=0;i<3;i++)if(!t.matches(this._matrix[n][i],e.charAt(3*n+i)))return!1;return!0}},{key:"add",value:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.setAtLeast(e,n,t.get(e,n))}},{key:"isDisjoint",value:function(){return this._matrix[V.INTERIOR][V.INTERIOR]===Tt.FALSE&&this._matrix[V.INTERIOR][V.BOUNDARY]===Tt.FALSE&&this._matrix[V.BOUNDARY][V.INTERIOR]===Tt.FALSE&&this._matrix[V.BOUNDARY][V.BOUNDARY]===Tt.FALSE}},{key:"isCrosses",value:function(e,n){return e===Tt.P&&n===Tt.L||e===Tt.P&&n===Tt.A||e===Tt.L&&n===Tt.A?t.isTrue(this._matrix[V.INTERIOR][V.INTERIOR])&&t.isTrue(this._matrix[V.INTERIOR][V.EXTERIOR]):e===Tt.L&&n===Tt.P||e===Tt.A&&n===Tt.P||e===Tt.A&&n===Tt.L?t.isTrue(this._matrix[V.INTERIOR][V.INTERIOR])&&t.isTrue(this._matrix[V.EXTERIOR][V.INTERIOR]):e===Tt.L&&n===Tt.L&&0===this._matrix[V.INTERIOR][V.INTERIOR]}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(Tt.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var e=arguments[0];t.constructor_.call(this),this.set(e)}else if(arguments[0]instanceof t){var n=arguments[0];t.constructor_.call(this),this._matrix[V.INTERIOR][V.INTERIOR]=n._matrix[V.INTERIOR][V.INTERIOR],this._matrix[V.INTERIOR][V.BOUNDARY]=n._matrix[V.INTERIOR][V.BOUNDARY],this._matrix[V.INTERIOR][V.EXTERIOR]=n._matrix[V.INTERIOR][V.EXTERIOR],this._matrix[V.BOUNDARY][V.INTERIOR]=n._matrix[V.BOUNDARY][V.INTERIOR],this._matrix[V.BOUNDARY][V.BOUNDARY]=n._matrix[V.BOUNDARY][V.BOUNDARY],this._matrix[V.BOUNDARY][V.EXTERIOR]=n._matrix[V.BOUNDARY][V.EXTERIOR],this._matrix[V.EXTERIOR][V.INTERIOR]=n._matrix[V.EXTERIOR][V.INTERIOR],this._matrix[V.EXTERIOR][V.BOUNDARY]=n._matrix[V.EXTERIOR][V.BOUNDARY],this._matrix[V.EXTERIOR][V.EXTERIOR]=n._matrix[V.EXTERIOR][V.EXTERIOR]}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return n===Tt.SYM_DONTCARE||n===Tt.SYM_TRUE&&(e>=0||e===Tt.TRUE)||n===Tt.SYM_FALSE&&e===Tt.FALSE||n===Tt.SYM_P&&e===Tt.P||n===Tt.SYM_L&&e===Tt.L||n===Tt.SYM_A&&e===Tt.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var i=arguments[1];return new t(arguments[0]).matches(i)}}},{key:"isTrue",value:function(t){return t>=0||t===Tt.TRUE}}])}(),ti=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(t){return null===t||0===t.length?null:(this.ensureCapacity(this._size+t.length),mt.arraycopy(t,0,this._data,this._size,t.length),void(this._size+=t.length))}},{key:"ensureCapacity",value:function(t){if(t<=this._data.length)return null;var e=Math.max(t,2*this._data.length);this._data=Mt.copyOf(this._data,e)}},{key:"toArray",value:function(){var t=new Array(this._size).fill(null);return mt.arraycopy(this._data,0,t,0,this._size),t}},{key:"add",value:function(t){this.ensureCapacity(this._size+1),this._data[this._size]=t,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,0===arguments.length)t.constructor_.call(this,10);else if(1===arguments.length){var e=arguments[0];this._data=new Array(e).fill(null)}}}])}(),ei=function(){function t(){n(this,t)}return s(t,[{key:"getChainStartIndices",value:function(t){var e=0,n=new ti(Math.trunc(t.length/2));n.add(e);do{var i=this.findChainEnd(t,e);n.add(i),e=i}while(e<t.length-1);return n.toArray()}},{key:"findChainEnd",value:function(t,e){for(var n=Ke.quadrant(t[e],t[e+1]),i=e+1;i<t.length;){if(Ke.quadrant(t[i-1],t[i])!==n)break;i++}return i-1}},{key:"OLDgetChainStartIndices",value:function(e){var n=0,i=new pt;i.add(n);do{var r=this.findChainEnd(e,n);i.add(r),n=r}while(n<e.length-1);return t.toIntArray(i)}}],[{key:"toIntArray",value:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e}}])}(),ni=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n}},{key:"getMinX",value:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n}},{key:"computeIntersectsForChain",value:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3],l=arguments[4],u=arguments[5];if(s-r==1&&l-a==1)return u.addIntersections(this.e,r,o.e,a),null;if(!this.overlaps(r,s,o,a,l))return null;var h=Math.trunc((r+s)/2),c=Math.trunc((a+l)/2);r<h&&(a<c&&this.computeIntersectsForChain(r,h,o,a,c,u),c<l&&this.computeIntersectsForChain(r,h,o,c,l,u)),h<s&&(a<c&&this.computeIntersectsForChain(h,s,o,a,c,u),c<l&&this.computeIntersectsForChain(h,s,o,c,l,u))}}},{key:"overlaps",value:function(t,e,n,i,r){return X.intersects(this.pts[t],this.pts[e],n.pts[i],n.pts[r])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new ei;this.startIndex=e.getChainStartIndices(this.pts)}}])}(),ii=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"getDepth",value:function(t,e){return this._depth[t][e]}},{key:"setDepth",value:function(t,e,n){this._depth[t][e]=n}},{key:"isNull",value:function(){if(0===arguments.length){for(var e=0;e<2;e++)for(var n=0;n<3;n++)if(this._depth[e][n]!==t.NULL_VALUE)return!1;return!0}if(1===arguments.length){var i=arguments[0];return this._depth[i][1]===t.NULL_VALUE}if(2===arguments.length){var r=arguments[0],s=arguments[1];return this._depth[r][s]===t.NULL_VALUE}}},{key:"normalize",value:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}}},{key:"getDelta",value:function(t){return this._depth[t][Q.RIGHT]-this._depth[t][Q.LEFT]}},{key:"getLocation",value:function(t,e){return this._depth[t][e]<=0?V.EXTERIOR:V.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(1===arguments.length)for(var e=arguments[0],n=0;n<2;n++)for(var i=1;i<3;i++){var r=e.getLocation(n,i);r!==V.EXTERIOR&&r!==V.INTERIOR||(this.isNull(n,i)?this._depth[n][i]=t.depthAtLocation(r):this._depth[n][i]+=t.depthAtLocation(r))}else if(3===arguments.length){var s=arguments[0],o=arguments[1];arguments[2]===V.INTERIOR&&this._depth[s][o]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE}},{key:"depthAtLocation",value:function(e){return e===V.EXTERIOR?0:e===V.INTERIOR?1:t.NULL_VALUE}}])}();ii.NULL_VALUE=-1;var ri=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new i(t,Me.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(t){this._isIsolated=t}},{key:"setName",value:function(t){this._name=t}},{key:"equals",value:function(t){if(!(t instanceof i))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,r=!0,s=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(n=!1),this.pts[o].equals2D(e.pts[--s])||(r=!1),!n&&!r)return!1;return!0}},{key:"getCoordinate",value:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}}},{key:"print",value:function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(t){i.updateIM(this._label,t)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")}},{key:"getMonotoneChainEdge",value:function(){return null===this._mce&&(this._mce=new ni(this)),this._mce}},{key:"getEnvelope",value:function(){if(null===this._env){this._env=new X;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env}},{key:"addIntersection",value:function(t,e,n,i){var r=new B(t.getIntersection(i)),s=e,o=t.getEdgeDistance(n,i),a=s+1;if(a<this.pts.length){var l=this.pts[a];r.equals2D(l)&&(s=a,o=0)}this.eiList.add(r,s,o)}},{key:"toString",value:function(){var t=new Zt;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()}},{key:"isPointwiseEqual",value:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0}},{key:"setDepthDelta",value:function(t){this._depthDelta=t}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Jn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ii,this._depthDelta=0,1===arguments.length){var t=arguments[0];i.constructor_.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this._label=n}}},{key:"updateIM",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Qn&&arguments[0]instanceof Me))return f(i,"updateIM",this).apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,Q.ON),t.getLocation(1,Q.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,Q.LEFT),t.getLocation(1,Q.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,Q.RIGHT),t.getLocation(1,Q.RIGHT),2))}}])}(Ge),si=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"setWorkingPrecisionModel",value:function(t){this._workingPrecisionModel=t}},{key:"insertUniqueEdge",value:function(e){var n=this._edgeList.findEqualEdge(e);if(null!==n){var i=n.getLabel(),r=e.getLabel();n.isPointwiseEqual(e)||(r=new Me(e.getLabel())).flip(),i.merge(r);var s=t.depthDelta(r),o=n.getDepthDelta()+s;n.setDepthDelta(o)}else this._edgeList.add(e),e.setDepthDelta(t.depthDelta(e.getLabel()))}},{key:"buildSubgraphs",value:function(t,e){for(var n=new pt,i=t.iterator();i.hasNext();){var r=i.next(),s=r.getRightmostCoordinate(),o=new Pn(n).getDepth(s);r.computeDepth(o),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}}},{key:"createSubgraphs",value:function(t){for(var e=new pt,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new vt;r.create(i),e.add(r)}}return on.sort(e,on.reverseOrder()),e}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new bn,n=new Ae;return n.setPrecisionModel(t),e.setSegmentIntersector(new $n(n)),e}},{key:"buffer",value:function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new Mn(n,this._bufParams),r=new Yn(t,e,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new Je(new Vn),this._graph.addEdges(this._edgeList.getEdges());var s=this.createSubgraphs(this._graph),o=new Qe(this._geomFact);this.buildSubgraphs(s,o);var a=o.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)}},{key:"computeNodedEdges",value:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),s=r.getCoordinates();if(2!==s.length||!s[0].equals2D(s[1])){var o=r.getData(),a=new ri(r.getCoordinates(),new Me(o));this.insertUniqueEdge(a)}}}},{key:"setNoder",value:function(t){this._workingNoder=t}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Kn;var t=arguments[0];this._bufParams=t}},{key:"depthDelta",value:function(t){var e=t.getLocation(0,Q.LEFT),n=t.getLocation(0,Q.RIGHT);return e===V.INTERIOR&&n===V.EXTERIOR?1:e===V.EXTERIOR&&n===V.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(t){for(var e=new oe,n=new pt;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)}}])}(),oi=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"rescale",value:function(){if(rt(arguments[0],W))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&mt.out.println(n)}}},{key:"scale",value:function(){if(rt(arguments[0],W)){for(var t=arguments[0],e=new pt(t.size()),n=t.iterator();n.hasNext();){var i=n.next();e.add(new En(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],s=new Array(r.length).fill(null),o=0;o<r.length;o++)s[o]=new B(Math.round((r[o].x-this._offsetX)*this._scaleFactor),Math.round((r[o].y-this._offsetY)*this._scaleFactor),r[o].getZ());return Kt.removeRepeatedPoints(s)}}},{key:"isIntegerPrecision",value:function(){return 1===this._scaleFactor}},{key:"getNodedSubstrings",value:function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t}},{key:"computeNodes",value:function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)}},{key:"interfaces_",get:function(){return[kn]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[0],n=arguments[1];t.constructor_.call(this,e,n,0,0)}else if(4===arguments.length){var i=arguments[0],r=arguments[1];this._noder=i,this._scaleFactor=r,this._isScaled=!this.isIntegerPrecision()}}}])}(),ai=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"checkEndPtVertexIntersections",value:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),s=1;s<r.length-1;s++)if(r[s].equals(n))throw new D("found endpt/interior pt intersection at index "+s+" :pt "+n)}},{key:"checkInteriorIntersections",value:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],s=arguments[1],o=r.getCoordinates(),a=s.getCoordinates(),l=0;l<o.length-1;l++)for(var u=0;u<a.length-1;u++)this.checkInteriorIntersections(r,l,s,u);else if(4===arguments.length){var h=arguments[0],c=arguments[1],f=arguments[2],d=arguments[3];if(h===f&&c===d)return null;var g=h.getCoordinates()[c],p=h.getCoordinates()[c+1],_=f.getCoordinates()[d],v=f.getCoordinates()[d+1];if(this._li.computeIntersection(g,p,_,v),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,p)||this.hasInteriorIntersection(this._li,_,v)))throw new D("found non-noded intersection at "+g+"-"+p+" and "+_+"-"+v)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])}},{key:"hasInteriorIntersection",value:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1}},{key:"checkCollapse",value:function(e,n,i){if(e.equals(i))throw new D("found non-noded collapse at "+t.fact.createLineString([e,n,i]))}}],[{key:"constructor_",value:function(){this._li=new Ae,this._segStrings=null;var t=arguments[0];this._segStrings=t}}])}();ai.fact=new oe;var li=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"intersectsScaled",value:function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),s=Math.max(t.y,e.y),o=this._maxx<n||this._minx>i||this._maxy<r||this._miny>s;if(o)return!1;var a=this.intersectsToleranceSquare(t,e);return G.isTrue(!(o&&a),"Found bad envelope test"),a}},{key:"initCorners",value:function(t){var e=.5;this._minx=t.x-e,this._maxx=t.x+e,this._miny=t.y-e,this._maxy=t.y+e,this._corner[0]=new B(this._maxx,this._maxy),this._corner[1]=new B(this._minx,this._maxy),this._corner[2]=new B(this._minx,this._miny),this._corner[3]=new B(this._maxx,this._miny)}},{key:"intersects",value:function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(t){return Math.round(t*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)}},{key:"getSafeEnvelope",value:function(){if(null===this._safeEnv){var e=t.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new X(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!i)||!!t.equals(this._pt)||!!e.equals(this._pt))))}},{key:"addSnappedNode",value:function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new m("Scale factor must be non-zero");1!==e&&(this._pt=new B(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new B,this._p1Scaled=new B),this.initCorners(this._pt)}}])}();li.SAFE_ENV_EXPANSION_FACTOR=.75;var ui=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"select",value:function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[1];arguments[0].getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}}}],[{key:"constructor_",value:function(){this.selectedSegment=new wn}}])}(),hi=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"snap",value:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],i=arguments[1],r=arguments[2],o=e.getSafeEnvelope(),a=new ci(e,i,r);return this._index.query(o,new(function(){return s((function t(){n(this,t)}),[{key:"interfaces_",get:function(){return[un]}},{key:"visitItem",value:function(t){t.select(o,a)}}])}())),a.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var t=arguments[0];this._index=t}}])}(),ci=function(t){function i(){var t;return n(this,i),t=e(this,i),i.constructor_.apply(t,arguments),t}return u(i,t),s(i,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(2===arguments.length&&Number.isInteger(arguments[1])&&arguments[0]instanceof Cn))return f(i,"select",this,1).apply(this,arguments);var t=arguments[1],e=arguments[0].getContext();if(this._parentEdge===e&&(t===this._hotPixelVertexIndex||t+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(e,t)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._hotPixel=t,this._parentEdge=e,this._hotPixelVertexIndex=n}}])}(ui);hi.HotPixelSnapAction=ci;var fi=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"processIntersections",value:function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],s=t.getCoordinates()[e+1],o=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,s,o,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Hn]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new pt}}])}(),di=function(){return s((function t(){n(this,t),t.constructor_.apply(this,arguments)}),[{key:"checkCorrectness",value:function(t){var e=En.getNodedSubstrings(t),n=new ai(e);try{n.checkValid()}catch(t){if(!(t instanceof y))throw t;t.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return En.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)}},{key:"findInteriorIntersections",value:function(t,e){var n=new fi(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(rt(arguments[0],W))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof En)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var s=new li(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(s,n,r)&&n.addIntersection(i[r],r)}}},{key:"computeNodes",value:function(t){this._nodedSegStrings=t,this._noder=new bn,this._pointSnapper=new hi(this._noder.getIndex()),this.snapRound(t,this._li)}},{key:"computeIntersectionSnaps",value:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new li(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}}},{key:"interfaces_",get:function(){return[kn]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Ae,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()}}])}(),gi=function(){function t(){n(this,t),t.constructor_.apply(this,arguments)}return s(t,[{key:"bufferFixedPrecision",value:function(t){var e=new oi(new di(new ie(1)),t.getScale()),n=new si(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(0===arguments.length){for(var e=t.MAX_PRECISION_DIGITS;e>=0;e--){try{this.bufferReducedPrecision(e)}catch(t){if(!(t instanceof dt))throw t;this._saveException=t}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=t.precisionScaleFactor(this._argGeom,this._distance,n),r=new ie(i);this.bufferFixedPrecision(r)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===ie.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(t){this._bufParams.setQuadrantSegments(t)}},{key:"bufferOriginalPrecision",value:function(){try{var t=new si(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof D))throw t;this._saveException=t}}},{key:"getResultGeometry",value:function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(t){this._bufParams.setEndCapStyle(t)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new v,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}}},{key:"bufferOp",value:function(){if(2===arguments.length){var e=arguments[1];return new t(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof U&&"number"==typeof arguments[1]){var n=arguments[1],i=arguments[2],r=new t(arguments[0]);return r.setQuadrantSegments(i),r.getResultGeometry(n)}if(arguments[2]instanceof v&&arguments[0]instanceof U&&"number"==typeof arguments[1]){var s=arguments[1];return new t(arguments[0],arguments[2]).getResultGeometry(s)}}else if(4===arguments.length){var o=arguments[1],a=arguments[2],l=arguments[3],u=new t(arguments[0]);return u.setQuadrantSegments(a),u.setEndCapStyle(l),u.getResultGeometry(o)}}},{key:"precisionScaleFactor",value:function(t,e,n){var i=t.getEnvelopeInternal(),r=xt.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),s=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,s)}}])}();gi.CAP_ROUND=v.CAP_ROUND,gi.CAP_BUTT=v.CAP_FLAT,gi.CAP_FLAT=v.CAP_FLAT,gi.CAP_SQUARE=v.CAP_SQUARE,gi.MAX_PRECISION_DIGITS=12;var pi=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],_i=function(){return s((function t(e){n(this,t),this.geometryFactory=e||new oe}),[{key:"read",value:function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!vi[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==pi.indexOf(n)?vi[n].call(this,e.coordinates):"GeometryCollection"===n?vi[n].call(this,e.geometries):vi[n].call(this,e)}},{key:"write",value:function(t){var e=t.getGeometryType();if(!yi[e])throw new Error("Geometry is not supported");return yi[e].call(this,t)}}])}(),vi={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!vi[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=vi.bbox.call(this,t.bbox)),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.call(this,t.bbox)),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(i(B,d(r)))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new B(t[0],t[1]),new B(t[2],t[1]),new B(t[2],t[3]),new B(t[0],t[3]),new B(t[0],t[1])])},Point:function(t){var e=i(B,d(t));return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(vi.Point.call(this,t[n]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=vi.coordinates.call(this,t);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(vi.LineString.call(this,t[n]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=vi.coordinates.call(this,t[0]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var s=t[r],o=vi.coordinates.call(this,s),a=this.geometryFactory.createLinearRing(o);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(vi.Polygon.call(this,i))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},yi={coordinate:function(t){var e=[t.x,t.y];return t.z&&e.push(t.z),t.m&&e.push(t.m),e},Point:function(t){return{type:"Point",coordinates:yi.coordinate.call(this,t.getCoordinate())}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=yi.Point.call(this,i);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(yi.coordinate.call(this,r))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=yi.LineString.call(this,i);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=yi.LineString.call(this,t._shell);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],s=yi.LineString.call(this,r);e.push(s.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=yi.Polygon.call(this,i);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(yi[r].call(this,i))}return{type:"GeometryCollection",geometries:e}}};return{BufferOp:gi,GeoJSONReader:function(){return s((function t(e){n(this,t),this.parser=new _i(e||new oe)}),[{key:"read",value:function(t){return this.parser.read(t)}}])}(),GeoJSONWriter:function(){return s((function t(){n(this,t),this.parser=new _i(this.geometryFactory)}),[{key:"write",value:function(t){return this.parser.write(t)}}])}()}}))},5596:function(t,e,n){"use strict";n.d(e,{v:function(){return o}});var i=n(3156),r=n(6425);class s extends r.Ay{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==i.A.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==i.A.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==i.A.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==i.A.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function o(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return{clientX:n/e,clientY:i/e}}e.A=s},5610:function(t,e,n){"use strict";var i=n(1291),r=Math.max,s=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):s(n,e)}},5674:function(t,e,n){"use strict";function i(t,e,n){return Math.min(Math.max(t,e),n)}function r(t,e,n,i,r,o){const a=r-n,l=o-i;if(0!==a||0!==l){const s=((t-n)*a+(e-i)*l)/(a*a+l*l);s>1?(n=r,i=o):s>0&&(n+=a*s,i+=l*s)}return s(t,e,n,i)}function s(t,e,n,i){const r=n-t,s=i-e;return r*r+s*s}function o(t){const e=t.length;for(let i=0;i<e;i++){let n=i,r=Math.abs(t[i][i]);for(let o=i+1;o<e;o++){const e=Math.abs(t[o][i]);e>r&&(r=e,n=o)}if(0===r)return null;const s=t[n];t[n]=t[i],t[i]=s;for(let o=i+1;o<e;o++){const n=-t[o][i]/t[i][i];for(let r=i;r<e+1;r++)i==r?t[o][r]=0:t[o][r]+=n*t[i][r]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let r=i-1;r>=0;r--)t[r][e]-=t[r][i]*n[i]}return n}function a(t){return 180*t/Math.PI}function l(t){return t*Math.PI/180}function u(t,e){const n=t%e;return n*e<0?n+e:n}function h(t,e,n){return t+n*(e-t)}function c(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function f(t,e){return Math.floor(c(t,e))}function d(t,e){return Math.ceil(c(t,e))}function g(t,e,n){if(t>=e&&t<n)return t;const i=n-e;return((t-e)%i+i)%i+e}n.d(e,{Cc:function(){return h},KU:function(){return o},LV:function(){return g},Mg:function(){return c},Q1:function(){return r},RI:function(){return f},eh:function(){return l},hG:function(){return s},mk:function(){return d},qE:function(){return i},xP:function(){return u},xW:function(){return a}})},5689:function(t,e,n){"use strict";function i(t){return t[0]>0&&t[1]>0}function r(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function s(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}n.d(e,{Ie:function(){return i},hs:function(){return r},xq:function(){return s}})},5745:function(t,e,n){"use strict";var i=n(7629);t.exports=function(t,e){return i[t]||(i[t]=e||{})}},5752:function(t,e,n){"use strict";function i(){throw new Error("Unimplemented abstract method.")}n.d(e,{b0:function(){return i},v6:function(){return s}});let r=0;function s(t){return t.ol_uid||(t.ol_uid=String(++r))}},5782:function(t,e){"use strict";class n{constructor(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}e.A=n},5783:function(t,e,n){"use strict";var i=n(2299),r=n(1928),s=n(9611),o=n(7334);class a extends r.A{constructor(t,e,n,i,r,s){super(t,e,s),this.crossOrigin_=i,this.src_=n,this.key=n,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(t){this.image_=t,this.state=s.A.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=s.A.ERROR,this.unlistenImage_(),this.image_=l(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=s.A.LOADED:this.state=s.A.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==s.A.ERROR&&(this.state=s.A.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==s.A.IDLE&&(this.state=s.A.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,i.f6)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function l(){const t=(0,o.Y)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}e.A=a},5876:function(t,e,n){"use strict";var i=n(6518),r=n(3838),s=n(4916),o=!s("isSubsetOf",(function(t){return t}));i({target:"Set",proto:!0,real:!0,forced:o},{isSubsetOf:r})},5897:function(t,e,n){"use strict";n.d(e,{W:function(){return s}});var i=n(1423),r=n(3757);function s(t){return(0,r.jE)(t,((t,e)=>t+o(e)),0)}function o(t){let e,n=0;switch(t.type){case"Polygon":return a(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=a(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function a(t){let e=0;if(t&&t.length>0){e+=Math.abs(h(t[0]));for(let n=1;n<t.length;n++)e-=Math.abs(h(t[n]))}return e}var l=i.zX*i.zX/2,u=Math.PI/180;function h(t){const e=t.length-1;if(e<=2)return 0;let n=0,i=0;while(i<e){const r=t[i],s=t[i+1===e?0:i+1],o=t[i+2>=e?(i+2)%e:i+2],a=r[0]*u,l=s[1]*u,h=o[0]*u;n+=(h-a)*Math.sin(l),i++}return n*l}},5907:function(t,e,n){"use strict";function i(t,e,n,i){let r=t[e],s=t[e+1],o=0;for(let a=e+i;a<n;a+=i){const e=t[a],n=t[a+1];o+=Math.sqrt((e-r)*(e-r)+(n-s)*(n-s)),r=e,s=n}return o}n.d(e,{k:function(){return i}})},5911:function(t,e,n){"use strict";n.d(e,{A:function(){return o}});n(4114);function i(t,e,n=0,o=t.length-1,a=s){while(o>n){if(o-n>600){const r=o-n+1,s=e-n+1,l=Math.log(r),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(r-u)/r)*(s-r/2<0?-1:1),c=Math.max(n,Math.floor(e-s*u/r+h)),f=Math.min(o,Math.floor(e+(r-s)*u/r+h));i(t,e,c,f,a)}const s=t[e];let l=n,u=o;r(t,n,e),a(t[o],s)>0&&r(t,n,o);while(l<u){r(t,l,u),l++,u--;while(a(t[l],s)<0)l++;while(a(t[u],s)>0)u--}0===a(t[n],s)?r(t,n,u):(u++,r(t,u,o)),u<=e&&(n=u+1),e<=u&&(o=u-1)}}function r(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function s(t,e){return t<e?-1:t>e?1:0}class o{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const n=[];if(!y(t,e))return n;const i=this.toBBox,r=[];while(e){for(let s=0;s<e.children.length;s++){const o=e.children[s],a=e.leaf?i(o):o;y(t,a)&&(e.leaf?n.push(o):v(t,a)?this._all(o,n):r.push(o))}e=r.pop()}return n}collides(t){let e=this.data;if(!y(t,e))return!1;const n=[];while(e){for(let i=0;i<e.children.length;i++){const r=e.children[i],s=e.leaf?this.toBBox(r):r;if(y(t,s)){if(e.leaf||v(t,s))return!0;n.push(r)}}e=n.pop()}return!1}load(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(let e=0;e<t.length;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=m([]),this}remove(t,e){if(!t)return this;let n=this.data;const i=this.toBBox(t),r=[],s=[];let o,l,u;while(n||r.length){if(n||(n=r.pop(),l=r[r.length-1],o=s.pop(),u=!0),n.leaf){const i=a(t,n.children,e);if(-1!==i)return n.children.splice(i,1),r.push(n),this._condense(r),this}u||n.leaf||!v(n,i)?l?(o++,n=l.children[o],u=!1):n=null:(r.push(n),s.push(o),o=0,l=n,n=n.children[0])}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const n=[];while(t)t.leaf?e.push(...t.children):n.push(...t.children),t=n.pop();return e}_build(t,e,n,i){const r=n-e+1;let s,o=this._maxEntries;if(r<=o)return s=m(t.slice(e,n+1)),l(s,this.toBBox),s;i||(i=Math.ceil(Math.log(r)/Math.log(o)),o=Math.ceil(r/Math.pow(o,i-1))),s=m([]),s.leaf=!1,s.height=i;const a=Math.ceil(r/o),u=a*Math.ceil(Math.sqrt(o));x(t,e,n,u,this.compareMinX);for(let l=e;l<=n;l+=u){const e=Math.min(l+u-1,n);x(t,l,e,a,this.compareMinY);for(let n=l;n<=e;n+=a){const r=Math.min(n+a-1,e);s.children.push(this._build(t,n,r,i-1))}}return l(s,this.toBBox),s}_chooseSubtree(t,e,n,i){while(1){if(i.push(e),e.leaf||i.length-1===n)break;let r,s=1/0,o=1/0;for(let n=0;n<e.children.length;n++){const i=e.children[n],a=d(i),l=p(t,i)-a;l<o?(o=l,s=a<s?a:s,r=i):l===o&&a<s&&(s=a,r=i)}e=r||e.children[0]}return e}_insert(t,e,n){const i=n?t:this.toBBox(t),r=[],s=this._chooseSubtree(i,this.data,e,r);s.children.push(t),h(s,i);while(e>=0){if(!(r[e].children.length>this._maxEntries))break;this._split(r,e),e--}this._adjustParentBBoxes(i,r,e)}_split(t,e){const n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);const s=this._chooseSplitIndex(n,r,i),o=m(n.children.splice(s,n.children.length-s));o.height=n.height,o.leaf=n.leaf,l(n,this.toBBox),l(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.leaf=!1,l(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let i,r=1/0,s=1/0;for(let o=e;o<=n-e;o++){const e=u(t,0,o,this.toBBox),a=u(t,o,n,this.toBBox),l=_(e,a),h=d(e)+d(a);l<r?(r=l,i=o,s=h<s?h:s):l===r&&h<s&&(s=h,i=o)}return i||n-e}_chooseSplitAxis(t,e,n){const i=t.leaf?this.compareMinX:c,r=t.leaf?this.compareMinY:f,s=this._allDistMargin(t,e,n,i),o=this._allDistMargin(t,e,n,r);s<o&&t.children.sort(i)}_allDistMargin(t,e,n,i){t.children.sort(i);const r=this.toBBox,s=u(t,0,e,r),o=u(t,n-e,n,r);let a=g(s)+g(o);for(let l=e;l<n-e;l++){const e=t.children[l];h(s,t.leaf?r(e):e),a+=g(s)}for(let l=n-e-1;l>=e;l--){const e=t.children[l];h(o,t.leaf?r(e):e),a+=g(o)}return a}_adjustParentBBoxes(t,e,n){for(let i=n;i>=0;i--)h(e[i],t)}_condense(t){for(let e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():l(t[n],this.toBBox)}}function a(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function l(t,e){u(t,0,t.children.length,e,t)}function u(t,e,n,i,r){r||(r=m(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<n;s++){const e=t.children[s];h(r,t.leaf?i(e):e)}return r}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function f(t,e){return t.minY-e.minY}function d(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function g(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function _(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function v(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function y(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(t,e,n,r,s){const o=[e,n];while(o.length){if(n=o.pop(),e=o.pop(),n-e<=r)continue;const a=e+Math.ceil((n-e)/r/2)*r;i(t,a,e,n,s),o.push(e,a,a,n)}}},5917:function(t,e,n){"use strict";var i=n(3724),r=n(9039),s=n(4055);t.exports=!i&&!r((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},5966:function(t,e,n){"use strict";var i=n(9306),r=n(4117);t.exports=function(t,e){var n=t[e];return r(n)?void 0:i(n)}},6072:function(t,e,n){"use strict";n.d(e,{HX:function(){return o},MD:function(){return s},c:function(){return a},n:function(){return l},oW:function(){return u},te:function(){return h}});var i=n(5674);function r(t,e,n,r,s,o,a){const l=t[e],u=t[e+1],h=t[n]-l,c=t[n+1]-u;let f;if(0===h&&0===c)f=e;else{const d=((s-l)*h+(o-u)*c)/(h*h+c*c);if(d>1)f=n;else{if(d>0){for(let s=0;s<r;++s)a[s]=(0,i.Cc)(t[e+s],t[n+s],d);return void(a.length=r)}f=e}}for(let i=0;i<r;++i)a[i]=t[f+i];a.length=r}function s(t,e,n,r,s){let o=t[e],a=t[e+1];for(e+=r;e<n;e+=r){const n=t[e],r=t[e+1],l=(0,i.hG)(o,a,n,r);l>s&&(s=l),o=n,a=r}return s}function o(t,e,n,i,r){for(let o=0,a=n.length;o<a;++o){const a=n[o];r=s(t,e,a,i,r),e=a}return r}function a(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){const a=n[s];r=o(t,e,a,i,r),e=a[a.length-1]}return r}function l(t,e,n,s,o,a,l,u,h,c,f){if(e==n)return c;let d,g;if(0===o){if(g=(0,i.hG)(l,u,t[e],t[e+1]),g<c){for(d=0;d<s;++d)h[d]=t[e+d];return h.length=s,g}return c}f=f||[NaN,NaN];let p=e+s;while(p<n)if(r(t,p-s,p,s,l,u,f),g=(0,i.hG)(l,u,f[0],f[1]),g<c){for(c=g,d=0;d<s;++d)h[d]=f[d];h.length=s,p+=s}else p+=s*Math.max((Math.sqrt(g)-Math.sqrt(c))/o|0,1);if(a&&(r(t,n-s,e,s,l,u,f),g=(0,i.hG)(l,u,f[0],f[1]),g<c)){for(c=g,d=0;d<s;++d)h[d]=f[d];h.length=s}return c}function u(t,e,n,i,r,s,o,a,u,h,c){c=c||[NaN,NaN];for(let f=0,d=n.length;f<d;++f){const d=n[f];h=l(t,e,d,i,r,s,o,a,u,h,c),e=d}return h}function h(t,e,n,i,r,s,o,a,l,h,c){c=c||[NaN,NaN];for(let f=0,d=n.length;f<d;++f){const d=n[f];h=u(t,e,d,i,r,s,o,a,l,h,c),e=d[d.length-1]}return h}},6080:function(t,e,n){"use strict";var i=n(7476),r=n(9306),s=n(616),o=i(i.bind);t.exports=function(t,e){return r(t),void 0===e?t:s?o(t,e):function(){return t.apply(e,arguments)}}},6119:function(t,e,n){"use strict";var i=n(5745),r=n(3392),s=i("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},6193:function(t,e,n){"use strict";var i=n(4215);t.exports="NODE"===i},6198:function(t,e,n){"use strict";var i=n(8014);t.exports=function(t){return i(t.length)}},6265:function(t,e,n){"use strict";var i=n(9565),r=n(8551),s=n(1767),o=n(851);t.exports=function(t,e){e&&"string"===typeof t||r(t);var n=o(t);return s(r(void 0!==n?i(n,t):t))}},6269:function(t){"use strict";t.exports={}},6279:function(t,e,n){"use strict";var i=n(6840);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},6294:function(t,e,n){"use strict";n.d(e,{F:function(){return l}});var i=n(1410),r=n(713),s=n(7334),o=n(8886),a=n(1382);function l(t){return t?Array.isArray(t)?(0,r.dI)(t):"object"===typeof t&&"src"in t?u(t):t:null}function u(t){if(!t.offset||!t.size)return a.ue.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=a.ue.getPattern(e,void 0,t.color);if(n)return n;const r=a.ue.get(t.src,"anonymous",null);if(r.getImageState()!==i.A.LOADED)return null;const l=(0,s.Y)(t.size[0],t.size[1]);return l.drawImage(r.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),(0,o.J)(l.canvas,e,void 0,i.A.LOADED,t.color,!0),a.ue.getPattern(e,void 0,t.color)}},6319:function(t,e,n){"use strict";var i=n(8551),r=n(9539);t.exports=function(t,e,n,s){try{return s?e(i(n)[0],n[1]):e(n)}catch(o){r(t,"throw",o)}}},6320:function(t,e,n){"use strict";function i(t,e,n,i){for(let r=0,s=n.length;r<s;++r)t[e++]=n[r];return e}function r(t,e,n,i){for(let r=0,s=n.length;r<s;++r){const s=n[r];for(let n=0;n<i;++n)t[e++]=s[n]}return e}function s(t,e,n,i,s){s=s||[];let o=0;for(let a=0,l=n.length;a<l;++a){const l=r(t,e,n[a],i);s[o++]=l,e=l}return s.length=o,s}function o(t,e,n,i,r){r=r||[];let o=0;for(let a=0,l=n.length;a<l;++a){const l=s(t,e,n[a],i,r[o]);0===l.length&&(l[0]=e),r[o++]=l,e=l[l.length-1]}return r.length=o,r}n.d(e,{KG:function(){return s},_n:function(){return i},d6:function(){return o},z2:function(){return r}})},6355:function(t,e,n){"use strict";var i=n(9078);class r extends i.Ay{constructor(t,e,n,i){super(t),this.inversePixelTransform=e,this.frameState=n,this.context=i}}e.A=r},6368:function(t,e,n){"use strict";var i=n(6518),r=n(4576),s=n(9225).clear;i({global:!0,bind:!0,enumerable:!0,forced:r.clearImmediate!==s},{clearImmediate:s})},6395:function(t){"use strict";t.exports=!1},6425:function(t,e,n){"use strict";n.d(e,{D2:function(){return l},e4:function(){return a}});var i=n(1611),r=n(8409),s=n(776);class o extends i.A{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(s.A.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(s.A.ACTIVE,t)}setMap(t){this.map_=t}}function a(t,e,n){const i=t.getCenterInternal();if(i){const s=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:r.sn,center:t.getConstrainedCenter(s)})}}function l(t,e,n,i){const s=t.getZoom();if(void 0===s)return;const o=t.getConstrainedZoom(s+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:r.vT})}e.Ay=o},6505:function(t,e,n){"use strict";n.d(e,{d1:function(){return h},mC:function(){return l},mY:function(){return c}});var i=n(1097),r=n(5274),s=n(8343),o=n(5782);class a{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=f,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&"object"===typeof t&&(t=t.clone()),new a({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=f,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function l(t){let e;if("function"===typeof t)e=t;else{let n;if(Array.isArray(t))n=t;else{(0,i.v)("function"===typeof t.getZIndex,"Expected an `Style` or an array of `Style`");const e=t;n=[e]}e=function(){return n}}return e}let u=null;function h(t,e){if(!u){const t=new s.A({color:"rgba(255,255,255,0.4)"}),e=new o.A({color:"#3399CC",width:1.25});u=[new a({image:new r.A({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return u}function c(){const t={},e=[255,255,255,1],n=[0,153,255,1],i=3;return t["Polygon"]=[new a({fill:new s.A({color:[255,255,255,.5]})})],t["MultiPolygon"]=t["Polygon"],t["LineString"]=[new a({stroke:new o.A({color:e,width:i+2})}),new a({stroke:new o.A({color:n,width:i})})],t["MultiLineString"]=t["LineString"],t["Circle"]=t["Polygon"].concat(t["LineString"]),t["Point"]=[new a({image:new r.A({radius:2*i,fill:new s.A({color:n}),stroke:new o.A({color:e,width:i/2})}),zIndex:1/0})],t["MultiPoint"]=t["Point"],t["GeometryCollection"]=t["Polygon"].concat(t["LineString"],t["Point"]),t}function f(t){return t.getGeometry()}e.Ay=a},6518:function(t,e,n){"use strict";var i=n(4576),r=n(7347).f,s=n(6699),o=n(6840),a=n(9433),l=n(7740),u=n(2796);t.exports=function(t,e){var n,h,c,f,d,g,p=t.target,_=t.global,v=t.stat;if(h=_?i:v?i[p]||a(p,{}):i[p]&&i[p].prototype,h)for(c in e){if(d=e[c],t.dontCallGetSet?(g=r(h,c),f=g&&g.value):f=h[c],n=u(_?c:p+(v?".":"#")+c,t.forced),!n&&void 0!==f){if(typeof d==typeof f)continue;l(d,f)}(t.sham||f&&f.sham)&&s(d,"sham",!0),o(h,c,d,t)}}},6555:function(t,e){"use strict";e.A={PROPERTYCHANGE:"propertychange"}},6699:function(t,e,n){"use strict";var i=n(3724),r=n(4913),s=n(6980);t.exports=i?function(t,e,n){return r.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},6706:function(t,e,n){"use strict";var i=n(9504),r=n(9306);t.exports=function(t,e,n){try{return i(r(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(s){}}},6801:function(t,e,n){"use strict";var i=n(3724),r=n(8686),s=n(4913),o=n(8551),a=n(5397),l=n(1072);e.f=i&&!r?Object.defineProperties:function(t,e){o(t);var n,i=a(e),r=l(e),u=r.length,h=0;while(u>h)s.f(t,n=r[h++],i[n]);return t}},6811:function(t,e,n){"use strict";function i(t){for(const e in t)delete t[e]}function r(t){let e;for(e in t)return!1;return!e}n.d(e,{I:function(){return i},p:function(){return r}})},6823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},6837:function(t){"use strict";var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},6840:function(t,e,n){"use strict";var i=n(4901),r=n(4913),s=n(283),o=n(9433);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,u=void 0!==a.name?a.name:e;if(i(n)&&s(n,u,a),a.global)l?t[e]=n:o(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(h){}l?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6848:function(t,e,n){"use strict";n.d(e,{Ay:function(){return Ji}});n(4114),n(8111),n(1148),n(2489),n(7588),n(1701),n(8237),n(3579),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(9848);var i=Object.freeze({}),r=Array.isArray;function s(t){return void 0===t||null===t}function o(t){return void 0!==t&&null!==t}function a(t){return!0===t}function l(t){return!1===t}function u(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function h(t){return"function"===typeof t}function c(t){return null!==t&&"object"===typeof t}var f=Object.prototype.toString;function d(t){return"[object Object]"===f.call(t)}function g(t){return"[object RegExp]"===f.call(t)}function p(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function _(t){return o(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function v(t){return null==t?"":Array.isArray(t)||d(t)&&t.toString===f?JSON.stringify(t,y,2):String(t)}function y(t,e){return e&&e.__v_isRef?e.value:e}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function x(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}x("slot,component",!0);var E=x("key,ref,slot,slot-scope,is");function w(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var S=Object.prototype.hasOwnProperty;function C(t,e){return S.call(t,e)}function I(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var k=/-(\w)/g,T=I((function(t){return t.replace(k,(function(t,e){return e?e.toUpperCase():""}))})),b=I((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),R=/\B([A-Z])/g,A=I((function(t){return t.replace(R,"-$1").toLowerCase()}));function N(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function O(t,e){return t.bind(e)}var L=Function.prototype.bind?O:N;function M(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function P(t,e){for(var n in e)t[n]=e[n];return t}function D(t){for(var e={},n=0;n<t.length;n++)t[n]&&P(e,t[n]);return e}function F(t,e,n){}var G=function(t,e,n){return!1},z=function(t){return t};function Y(t,e){if(t===e)return!0;var n=c(t),i=c(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),s=Array.isArray(e);if(r&&s)return t.length===e.length&&t.every((function(t,n){return Y(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||s)return!1;var o=Object.keys(t),a=Object.keys(e);return o.length===a.length&&o.every((function(n){return Y(t[n],e[n])}))}catch(l){return!1}}function q(t,e){for(var n=0;n<t.length;n++)if(Y(t[n],e))return n;return-1}function B(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function j(t,e){return t===e?0===t&&1/t!==1/e:t===t||e===e}var X="data-server-rendered",U=["component","directive","filter"],V=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],W={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:G,isReservedAttr:G,isUnknownElement:G,getTagNamespace:F,parsePlatformTagName:z,mustUseProp:G,async:!0,_lifecycleHooks:V},K=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function $(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var Z=new RegExp("[^".concat(K.source,".$_\\d]"));function J(t){if(!Z.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Q="__proto__"in{},tt="undefined"!==typeof window,et=tt&&window.navigator.userAgent.toLowerCase(),nt=et&&/msie|trident/.test(et),it=et&&et.indexOf("msie 9.0")>0,rt=et&&et.indexOf("edge/")>0;et&&et.indexOf("android");var st=et&&/iphone|ipad|ipod|ios/.test(et);et&&/chrome\/\d+/.test(et),et&&/phantomjs/.test(et);var ot,at=et&&et.match(/firefox\/(\d+)/),lt={}.watch,ut=!1;if(tt)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){ut=!0}}),window.addEventListener("test-passive",null,ht)}catch(Qo){}var ct=function(){return void 0===ot&&(ot=!tt&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),ot},ft=tt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function dt(t){return"function"===typeof t&&/native code/.test(t.toString())}var gt,pt="undefined"!==typeof Symbol&&dt(Symbol)&&"undefined"!==typeof Reflect&&dt(Reflect.ownKeys);gt="undefined"!==typeof Set&&dt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var _t=null;function vt(t){void 0===t&&(t=null),t||_t&&_t._scope.off(),_t=t,t&&t._scope.on()}var yt=function(){function t(t,e,n,i,r,s,o,a){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),mt=function(t){void 0===t&&(t="");var e=new yt;return e.text=t,e.isComment=!0,e};function xt(t){return new yt(void 0,void 0,void 0,String(t))}function Et(t){var e=new yt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}"function"===typeof SuppressedError&&SuppressedError;var wt=0,St=[],Ct=function(){for(var t=0;t<St.length;t++){var e=St[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}St.length=0},It=function(){function t(){this._pending=!1,this.id=wt++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,St.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,i=e.length;n<i;n++){var r=e[n];0,r.update()}},t}();It.target=null;var kt=[];function Tt(t){kt.push(t),It.target=t}function bt(){kt.pop(),It.target=kt[kt.length-1]}var Rt=Array.prototype,At=Object.create(Rt),Nt=["push","pop","shift","unshift","splice","sort","reverse"];Nt.forEach((function(t){var e=Rt[t];$(At,t,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r,s=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2);break}return r&&o.observeArray(r),o.dep.notify(),s}))}));var Ot=Object.getOwnPropertyNames(At),Lt={},Mt=!0;function Pt(t){Mt=t}var Dt={notify:F,depend:F,addSub:F,removeSub:F},Ft=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?Dt:new It,this.vmCount=0,$(t,"__ob__",this),r(t)){if(!n)if(Q)t.__proto__=At;else for(var i=0,s=Ot.length;i<s;i++){var o=Ot[i];$(t,o,At[o])}e||this.observeArray(t)}else{var a=Object.keys(t);for(i=0;i<a.length;i++){o=a[i];zt(t,o,Lt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Gt(t[e],!1,this.mock)},t}();function Gt(t,e,n){return t&&C(t,"__ob__")&&t.__ob__ instanceof Ft?t.__ob__:!Mt||!n&&ct()||!r(t)&&!d(t)||!Object.isExtensible(t)||t.__v_skip||Vt(t)||t instanceof yt?void 0:new Ft(t,e,n)}function zt(t,e,n,i,s,o,a){void 0===a&&(a=!1);var l=new It,u=Object.getOwnPropertyDescriptor(t,e);if(!u||!1!==u.configurable){var h=u&&u.get,c=u&&u.set;h&&!c||n!==Lt&&2!==arguments.length||(n=t[e]);var f=s?n&&n.__ob__:Gt(n,!1,o);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=h?h.call(t):n;return It.target&&(l.depend(),f&&(f.dep.depend(),r(e)&&Bt(e))),Vt(e)&&!s?e.value:e},set:function(e){var i=h?h.call(t):n;if(j(i,e)){if(c)c.call(t,e);else{if(h)return;if(!s&&Vt(i)&&!Vt(e))return void(i.value=e);n=e}f=s?e&&e.__ob__:Gt(e,!1,o),l.notify()}}}),l}}function Yt(t,e,n){if(!Ut(t)){var i=t.__ob__;return r(t)&&p(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),i&&!i.shallow&&i.mock&&Gt(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||i&&i.vmCount?n:i?(zt(i.value,e,n,void 0,i.shallow,i.mock),i.dep.notify(),n):(t[e]=n,n)}}function qt(t,e){if(r(t)&&p(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||Ut(t)||C(t,e)&&(delete t[e],n&&n.dep.notify())}}function Bt(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),r(e)&&Bt(e)}function jt(t){return Xt(t,!0),$(t,"__v_isShallow",!0),t}function Xt(t,e){if(!Ut(t)){Gt(t,e,ct());0}}function Ut(t){return!(!t||!t.__v_isReadonly)}function Vt(t){return!(!t||!0!==t.__v_isRef)}function Wt(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(Vt(t))return t.value;var i=t&&t.__ob__;return i&&i.dep.depend(),t},set:function(t){var i=e[n];Vt(i)&&!Vt(t)?i.value=t:e[n]=t}})}var Kt="watcher";"".concat(Kt," callback"),"".concat(Kt," getter"),"".concat(Kt," cleanup");var Ht;var $t=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ht,!t&&Ht&&(this.index=(Ht.scopes||(Ht.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Ht;try{return Ht=this,t()}finally{Ht=e}}else 0},t.prototype.on=function(){Ht=this},t.prototype.off=function(){Ht=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}},t}();function Zt(t,e){void 0===e&&(e=Ht),e&&e.active&&e.effects.push(t)}function Jt(){return Ht}function Qt(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}var te=I((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}}));function ee(t,e){function n(){var t=n.fns;if(!r(t))return Ze(t,null,arguments,e,"v-on handler");for(var i=t.slice(),s=0;s<i.length;s++)Ze(i[s],null,arguments,e,"v-on handler")}return n.fns=t,n}function ne(t,e,n,i,r,o){var l,u,h,c;for(l in t)u=t[l],h=e[l],c=te(l),s(u)||(s(h)?(s(u.fns)&&(u=t[l]=ee(u,o)),a(c.once)&&(u=t[l]=r(c.name,u,c.capture)),n(c.name,u,c.capture,c.passive,c.params)):u!==h&&(h.fns=u,t[l]=h));for(l in e)s(t[l])&&(c=te(l),i(c.name,e[l],c.capture))}function ie(t,e,n){var i;t instanceof yt&&(t=t.data.hook||(t.data.hook={}));var r=t[e];function l(){n.apply(this,arguments),w(i.fns,l)}s(r)?i=ee([l]):o(r.fns)&&a(r.merged)?(i=r,i.fns.push(l)):i=ee([r,l]),i.merged=!0,t[e]=i}function re(t,e,n){var i=e.options.props;if(!s(i)){var r={},a=t.attrs,l=t.props;if(o(a)||o(l))for(var u in i){var h=A(u);se(r,l,u,h,!0)||se(r,a,u,h,!1)}return r}}function se(t,e,n,i,r){if(o(e)){if(C(e,n))return t[n]=e[n],r||delete e[n],!0;if(C(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function oe(t){for(var e=0;e<t.length;e++)if(r(t[e]))return Array.prototype.concat.apply([],t);return t}function ae(t){return u(t)?[xt(t)]:r(t)?ue(t):void 0}function le(t){return o(t)&&o(t.text)&&l(t.isComment)}function ue(t,e){var n,i,l,h,c=[];for(n=0;n<t.length;n++)i=t[n],s(i)||"boolean"===typeof i||(l=c.length-1,h=c[l],r(i)?i.length>0&&(i=ue(i,"".concat(e||"","_").concat(n)),le(i[0])&&le(h)&&(c[l]=xt(h.text+i[0].text),i.shift()),c.push.apply(c,i)):u(i)?le(h)?c[l]=xt(h.text+i):""!==i&&c.push(xt(i)):le(i)&&le(h)?c[l]=xt(h.text+i.text):(a(t._isVList)&&o(i.tag)&&s(i.key)&&o(e)&&(i.key="__vlist".concat(e,"_").concat(n,"__")),c.push(i)));return c}function he(t,e){var n,i,s,a,l=null;if(r(t)||"string"===typeof t)for(l=new Array(t.length),n=0,i=t.length;n<i;n++)l[n]=e(t[n],n);else if("number"===typeof t)for(l=new Array(t),n=0;n<t;n++)l[n]=e(n+1,n);else if(c(t))if(pt&&t[Symbol.iterator]){l=[];var u=t[Symbol.iterator](),h=u.next();while(!h.done)l.push(e(h.value,l.length)),h=u.next()}else for(s=Object.keys(t),l=new Array(s.length),n=0,i=s.length;n<i;n++)a=s[n],l[n]=e(t[a],a,n);return o(l)||(l=[]),l._isVList=!0,l}function ce(t,e,n,i){var r,s=this.$scopedSlots[t];s?(n=n||{},i&&(n=P(P({},i),n)),r=s(n)||(h(e)?e():e)):r=this.$slots[t]||(h(e)?e():e);var o=n&&n.slot;return o?this.$createElement("template",{slot:o},r):r}function fe(t){return Ii(this.$options,"filters",t,!0)||z}function de(t,e){return r(t)?-1===t.indexOf(e):t!==e}function ge(t,e,n,i,r){var s=W.keyCodes[e]||n;return r&&i&&!W.keyCodes[e]?de(r,i):s?de(s,t):i?A(i)!==e:void 0===t}function pe(t,e,n,i,s){if(n)if(c(n)){r(n)&&(n=D(n));var o=void 0,a=function(r){if("class"===r||"style"===r||E(r))o=t;else{var a=t.attrs&&t.attrs.type;o=i||W.mustUseProp(e,a,r)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=T(r),u=A(r);if(!(l in o)&&!(u in o)&&(o[r]=n[r],s)){var h=t.on||(t.on={});h["update:".concat(r)]=function(t){n[r]=t}}};for(var l in n)a(l)}else;return t}function _e(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e||(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),ye(i,"__static__".concat(t),!1)),i}function ve(t,e,n){return ye(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function ye(t,e,n){if(r(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&me(t[i],"".concat(e,"_").concat(i),n);else me(t,e,n)}function me(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function xe(t,e){if(e)if(d(e)){var n=t.on=t.on?P({},t.on):{};for(var i in e){var r=n[i],s=e[i];n[i]=r?[].concat(r,s):s}}else;return t}function Ee(t,e,n,i){e=e||{$stable:!n};for(var s=0;s<t.length;s++){var o=t[s];r(o)?Ee(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return i&&(e.$key=i),e}function we(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"===typeof i&&i&&(t[e[n]]=e[n+1])}return t}function Se(t,e){return"string"===typeof t?e+t:t}function Ce(t){t._o=ve,t._n=m,t._s=v,t._l=he,t._t=ce,t._q=Y,t._i=q,t._m=_e,t._f=fe,t._k=ge,t._b=pe,t._v=xt,t._e=mt,t._u=Ee,t._g=xe,t._d=we,t._p=Se}function Ie(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var s=t[i],o=s.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,s.context!==e&&s.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(s);else{var a=o.slot,l=n[a]||(n[a]=[]);"template"===s.tag?l.push.apply(l,s.children||[]):l.push(s)}}for(var u in n)n[u].every(ke)&&delete n[u];return n}function ke(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Te(t){return t.isComment&&t.asyncFactory}function be(t,e,n,r){var s,o=Object.keys(n).length>0,a=e?!!e.$stable:!o,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&r&&r!==i&&l===r.$key&&!o&&!r.$hasNormal)return r;for(var u in s={},e)e[u]&&"$"!==u[0]&&(s[u]=Re(t,n,u,e[u]))}else s={};for(var h in n)h in s||(s[h]=Ae(n,h));return e&&Object.isExtensible(e)&&(e._normalized=s),$(s,"$stable",a),$(s,"$key",l),$(s,"$hasNormal",o),s}function Re(t,e,n,i){var s=function(){var e=_t;vt(t);var n=arguments.length?i.apply(null,arguments):i({});n=n&&"object"===typeof n&&!r(n)?[n]:ae(n);var s=n&&n[0];return vt(e),n&&(!s||1===n.length&&s.isComment&&!Te(s))?void 0:n};return i.proxy&&Object.defineProperty(e,n,{get:s,enumerable:!0,configurable:!0}),s}function Ae(t,e){return function(){return t[e]}}function Ne(t){var e=t.$options,n=e.setup;if(n){var i=t._setupContext=Oe(t);vt(t),Tt();var r=Ze(n,null,[t._props||jt({}),i],t,"setup");if(bt(),vt(),h(r))e.render=r;else if(c(r))if(t._setupState=r,r.__sfc){var s=t._setupProxy={};for(var o in r)"__sfc"!==o&&Wt(s,r,o)}else for(var o in r)H(o)||Wt(t,r,o);else 0}}function Oe(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};$(e,"_v_attr_proxy",!0),Le(e,t.$attrs,i,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};Le(e,t.$listeners,i,t,"$listeners")}return t._listenersProxy},get slots(){return Pe(t)},emit:L(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return Wt(t,e,n)}))}}}function Le(t,e,n,i,r){var s=!1;for(var o in e)o in t?e[o]!==n[o]&&(s=!0):(s=!0,Me(t,o,i,r));for(var o in t)o in e||(s=!0,delete t[o]);return s}function Me(t,e,n,i){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[i][e]}})}function Pe(t){return t._slotsProxy||De(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function De(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function Fe(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=Ie(e._renderChildren,r),t.$scopedSlots=n?be(t.$parent,n.data.scopedSlots,t.$slots):i,t._c=function(e,n,i,r){return Ve(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return Ve(t,e,n,i,r,!0)};var s=n&&n.data;zt(t,"$attrs",s&&s.attrs||i,null,!0),zt(t,"$listeners",e._parentListeners||i,null,!0)}var Ge=null;function ze(t){Ce(t.prototype),t.prototype.$nextTick=function(t){return hn(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,i=e._parentVnode;i&&t._isMounted&&(t.$scopedSlots=be(t.$parent,i.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&De(t._slotsProxy,t.$scopedSlots)),t.$vnode=i;var s,o=_t,a=Ge;try{vt(t),Ge=t,s=n.call(t._renderProxy,t.$createElement)}catch(Qo){$e(Qo,t,"render"),s=t._vnode}finally{Ge=a,vt(o)}return r(s)&&1===s.length&&(s=s[0]),s instanceof yt||(s=mt()),s.parent=i,s}}function Ye(t,e){return(t.__esModule||pt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function qe(t,e,n,i,r){var s=mt();return s.asyncFactory=t,s.asyncMeta={data:e,context:n,children:i,tag:r},s}function Be(t,e){if(a(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var n=Ge;if(n&&o(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),a(t.loading)&&o(t.loadingComp))return t.loadingComp;if(n&&!o(t.owners)){var i=t.owners=[n],r=!0,l=null,u=null;n.$on("hook:destroyed",(function(){return w(i,n)}));var h=function(t){for(var e=0,n=i.length;e<n;e++)i[e].$forceUpdate();t&&(i.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},f=B((function(n){t.resolved=Ye(n,e),r?i.length=0:h(!0)})),d=B((function(e){o(t.errorComp)&&(t.error=!0,h(!0))})),g=t(f,d);return c(g)&&(_(g)?s(t.resolved)&&g.then(f,d):_(g.component)&&(g.component.then(f,d),o(g.error)&&(t.errorComp=Ye(g.error,e)),o(g.loading)&&(t.loadingComp=Ye(g.loading,e),0===g.delay?t.loading=!0:l=setTimeout((function(){l=null,s(t.resolved)&&s(t.error)&&(t.loading=!0,h(!1))}),g.delay||200)),o(g.timeout)&&(u=setTimeout((function(){u=null,s(t.resolved)&&d(null)}),g.timeout)))),r=!1,t.loading?t.loadingComp:t.resolved}}function je(t){if(r(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&(o(n.componentOptions)||Te(n)))return n}}var Xe=1,Ue=2;function Ve(t,e,n,i,s,o){return(r(n)||u(n))&&(s=i,i=n,n=void 0),a(o)&&(s=Ue),We(t,e,n,i,s)}function We(t,e,n,i,s){if(o(n)&&o(n.__ob__))return mt();if(o(n)&&o(n.is)&&(e=n.is),!e)return mt();var a,l;if(r(i)&&h(i[0])&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),s===Ue?i=ae(i):s===Xe&&(i=oe(i)),"string"===typeof e){var u=void 0;l=t.$vnode&&t.$vnode.ns||W.getTagNamespace(e),a=W.isReservedTag(e)?new yt(W.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!o(u=Ii(t.$options,"components",e))?new yt(e,n,i,void 0,void 0,t):li(u,n,t,i,e)}else a=li(e,n,t,i);return r(a)?a:o(a)?(o(l)&&Ke(a,l),o(n)&&He(n),a):mt()}function Ke(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),o(t.children))for(var i=0,r=t.children.length;i<r;i++){var l=t.children[i];o(l.tag)&&(s(l.ns)||a(n)&&"svg"!==l.tag)&&Ke(l,e,n)}}function He(t){c(t.style)&&pn(t.style),c(t.class)&&pn(t.class)}function $e(t,e,n){Tt();try{if(e){var i=e;while(i=i.$parent){var r=i.$options.errorCaptured;if(r)for(var s=0;s<r.length;s++)try{var o=!1===r[s].call(i,t,e,n);if(o)return}catch(Qo){Je(Qo,i,"errorCaptured hook")}}}Je(t,e,n)}finally{bt()}}function Ze(t,e,n,i,r){var s;try{s=n?t.apply(e,n):t.call(e),s&&!s._isVue&&_(s)&&!s._handled&&(s.catch((function(t){return $e(t,i,r+" (Promise/async)")})),s._handled=!0)}catch(Qo){$e(Qo,i,r)}return s}function Je(t,e,n){if(W.errorHandler)try{return W.errorHandler.call(null,t,e,n)}catch(Qo){Qo!==t&&Qe(Qo,null,"config.errorHandler")}Qe(t,e,n)}function Qe(t,e,n){if(!tt||"undefined"===typeof console)throw t;console.error(t)}var tn,en=!1,nn=[],rn=!1;function sn(){rn=!1;var t=nn.slice(0);nn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&dt(Promise)){var on=Promise.resolve();tn=function(){on.then(sn),st&&setTimeout(F)},en=!0}else if(nt||"undefined"===typeof MutationObserver||!dt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())tn="undefined"!==typeof setImmediate&&dt(setImmediate)?function(){setImmediate(sn)}:function(){setTimeout(sn,0)};else{var an=1,ln=new MutationObserver(sn),un=document.createTextNode(String(an));ln.observe(un,{characterData:!0}),tn=function(){an=(an+1)%2,un.data=String(an)},en=!0}function hn(t,e){var n;if(nn.push((function(){if(t)try{t.call(e)}catch(Qo){$e(Qo,e,"nextTick")}else n&&n(e)})),rn||(rn=!0,tn()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}function cn(t){return function(e,n){if(void 0===n&&(n=_t),n)return fn(n,t,e)}}function fn(t,e,n){var i=t.$options;i[e]=vi(i[e],n)}cn("beforeMount"),cn("mounted"),cn("beforeUpdate"),cn("updated"),cn("beforeDestroy"),cn("destroyed"),cn("activated"),cn("deactivated"),cn("serverPrefetch"),cn("renderTracked"),cn("renderTriggered"),cn("errorCaptured");var dn="2.7.16";var gn=new gt;function pn(t){return _n(t,gn),gn.clear(),t}function _n(t,e){var n,i,s=r(t);if(!(!s&&!c(t)||t.__v_skip||Object.isFrozen(t)||t instanceof yt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(s){n=t.length;while(n--)_n(t[n],e)}else if(Vt(t))_n(t.value,e);else{i=Object.keys(t),n=i.length;while(n--)_n(t[i[n]],e)}}}var vn,yn=0,mn=function(){function t(t,e,n,i,r){Zt(this,Ht&&!Ht._vm?Ht:t?t._scope:void 0),(this.vm=t)&&r&&(t._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++yn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new gt,this.newDepIds=new gt,this.expression="",h(e)?this.getter=e:(this.getter=J(e),this.getter||(this.getter=F)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;Tt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Qo){if(!this.user)throw Qo;$e(Qo,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&pn(t),bt(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Zn(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');Ze(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&w(this.vm._scope.effects,this),this.active){var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function xn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Cn(t,e)}function En(t,e){vn.$on(t,e)}function wn(t,e){vn.$off(t,e)}function Sn(t,e){var n=vn;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function Cn(t,e,n){vn=t,ne(e,n||{},En,wn,Sn,t),vn=void 0}function In(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(r(t))for(var s=0,o=t.length;s<o;s++)i.$on(t[s],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(r(t)){for(var i=0,s=t.length;i<s;i++)n.$off(t[i],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var l=a.length;while(l--)if(o=a[l],o===e||o.fn===e){a.splice(l,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?M(n):n;for(var i=M(arguments,1),r='event handler for "'.concat(t,'"'),s=0,o=n.length;s<o;s++)Ze(n[s],e,i,e,r)}return e}}var kn=null;function Tn(t){var e=kn;return kn=t,function(){kn=e}}function bn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Rn(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,s=Tn(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),s(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n);var o=n;while(o&&o.$vnode&&o.$parent&&o.$vnode===o.$parent._vnode)o.$parent.$el=o.$el,o=o.$parent},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Pn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||w(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Pn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function An(t,e,n){var i;t.$el=e,t.$options.render||(t.$options.render=mt),Pn(t,"beforeMount"),i=function(){t._update(t._render(),n)};var r={before:function(){t._isMounted&&!t._isDestroyed&&Pn(t,"beforeUpdate")}};new mn(t,i,F,r,!0),n=!1;var s=t._preWatchers;if(s)for(var o=0;o<s.length;o++)s[o].run();return null==t.$vnode&&(t._isMounted=!0,Pn(t,"mounted")),t}function Nn(t,e,n,r,s){var o=r.data.scopedSlots,a=t.$scopedSlots,l=!!(o&&!o.$stable||a!==i&&!a.$stable||o&&t.$scopedSlots.$key!==o.$key||!o&&t.$scopedSlots.$key),u=!!(s||t.$options._renderChildren||l),h=t.$vnode;t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=s;var c=r.data.attrs||i;t._attrsProxy&&Le(t._attrsProxy,c,h.data&&h.data.attrs||i,t,"$attrs")&&(u=!0),t.$attrs=c,n=n||i;var f=t.$options._parentListeners;if(t._listenersProxy&&Le(t._listenersProxy,n,f||i,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,Cn(t,n,f),e&&t.$options.props){Pt(!1);for(var d=t._props,g=t.$options._propKeys||[],p=0;p<g.length;p++){var _=g[p],v=t.$options.props;d[_]=ki(_,v,e,t)}Pt(!0),t.$options.propsData=e}u&&(t.$slots=Ie(s,r.context),t.$forceUpdate())}function On(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Ln(t,e){if(e){if(t._directInactive=!1,On(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ln(t.$children[n]);Pn(t,"activated")}}function Mn(t,e){if((!e||(t._directInactive=!0,!On(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Mn(t.$children[n]);Pn(t,"deactivated")}}function Pn(t,e,n,i){void 0===i&&(i=!0),Tt();var r=_t,s=Jt();i&&vt(t);var o=t.$options[e],a="".concat(e," hook");if(o)for(var l=0,u=o.length;l<u;l++)Ze(o[l],t,n||null,t,a);t._hasHookEvent&&t.$emit("hook:"+e),i&&(vt(r),s&&s.on()),bt()}var Dn=[],Fn=[],Gn={},zn=!1,Yn=!1,qn=0;function Bn(){qn=Dn.length=Fn.length=0,Gn={},zn=Yn=!1}var jn=0,Xn=Date.now;if(tt&&!nt){var Un=window.performance;Un&&"function"===typeof Un.now&&Xn()>document.createEvent("Event").timeStamp&&(Xn=function(){return Un.now()})}var Vn=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function Wn(){var t,e;for(jn=Xn(),Yn=!0,Dn.sort(Vn),qn=0;qn<Dn.length;qn++)t=Dn[qn],t.before&&t.before(),e=t.id,Gn[e]=null,t.run();var n=Fn.slice(),i=Dn.slice();Bn(),$n(n),Kn(i),Ct(),ft&&W.devtools&&ft.emit("flush")}function Kn(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i&&i._watcher===n&&i._isMounted&&!i._isDestroyed&&Pn(i,"updated")}}function Hn(t){t._inactive=!1,Fn.push(t)}function $n(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ln(t[e],!0)}function Zn(t){var e=t.id;if(null==Gn[e]&&(t!==It.target||!t.noRecurse)){if(Gn[e]=!0,Yn){var n=Dn.length-1;while(n>qn&&Dn[n].id>t.id)n--;Dn.splice(n+1,0,t)}else Dn.push(t);zn||(zn=!0,hn(Wn))}}function Jn(t){var e=t.$options.provide;if(e){var n=h(e)?e.call(t):e;if(!c(n))return;for(var i=Qt(t),r=pt?Reflect.ownKeys(n):Object.keys(n),s=0;s<r.length;s++){var o=r[s];Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(n,o))}}}function Qn(t){var e=ti(t.$options.inject,t);e&&(Pt(!1),Object.keys(e).forEach((function(n){zt(t,n,e[n])})),Pt(!0))}function ti(t,e){if(t){for(var n=Object.create(null),i=pt?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var s=i[r];if("__ob__"!==s){var o=t[s].from;if(o in e._provided)n[s]=e._provided[o];else if("default"in t[s]){var a=t[s].default;n[s]=h(a)?a.call(e):a}else 0}}return n}}function ei(t,e,n,s,o){var l,u=this,h=o.options;C(s,"_uid")?(l=Object.create(s),l._original=s):(l=s,s=s._original);var c=a(h._compiled),f=!c;this.data=t,this.props=e,this.children=n,this.parent=s,this.listeners=t.on||i,this.injections=ti(h.inject,s),this.slots=function(){return u.$slots||be(s,t.scopedSlots,u.$slots=Ie(n,s)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return be(s,t.scopedSlots,this.slots())}}),c&&(this.$options=h,this.$slots=this.slots(),this.$scopedSlots=be(s,t.scopedSlots,this.$slots)),h._scopeId?this._c=function(t,e,n,i){var o=Ve(l,t,e,n,i,f);return o&&!r(o)&&(o.fnScopeId=h._scopeId,o.fnContext=s),o}:this._c=function(t,e,n,i){return Ve(l,t,e,n,i,f)}}function ni(t,e,n,s,a){var l=t.options,u={},h=l.props;if(o(h))for(var c in h)u[c]=ki(c,h,e||i);else o(n.attrs)&&ri(u,n.attrs),o(n.props)&&ri(u,n.props);var f=new ei(n,u,a,s,t),d=l.render.call(null,f._c,f);if(d instanceof yt)return ii(d,n,f.parent,l,f);if(r(d)){for(var g=ae(d)||[],p=new Array(g.length),_=0;_<g.length;_++)p[_]=ii(g[_],n,f.parent,l,f);return p}}function ii(t,e,n,i,r){var s=Et(t);return s.fnContext=n,s.fnOptions=i,e.slot&&((s.data||(s.data={})).slot=e.slot),s}function ri(t,e){for(var n in e)t[T(n)]=e[n]}function si(t){return t.name||t.__name||t._componentTag}Ce(ei.prototype);var oi={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;oi.prepatch(n,n)}else{var i=t.componentInstance=ui(t,kn);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;Nn(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Pn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Hn(n):Ln(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Mn(e,!0):e.$destroy())}},ai=Object.keys(oi);function li(t,e,n,i,r){if(!s(t)){var l=n.$options._base;if(c(t)&&(t=l.extend(t)),"function"===typeof t){var u;if(s(t.cid)&&(u=t,t=Be(u,l),void 0===t))return qe(u,e,n,i,r);e=e||{},$i(t),o(e.model)&&fi(t.options,e);var h=re(e,t,r);if(a(t.options.functional))return ni(t,h,e,n,i);var f=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}hi(e);var g=si(t.options)||r,p=new yt("vue-component-".concat(t.cid).concat(g?"-".concat(g):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:f,tag:r,children:i},u);return p}}}function ui(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return o(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}function hi(t){for(var e=t.hook||(t.hook={}),n=0;n<ai.length;n++){var i=ai[n],r=e[i],s=oi[i];r===s||r&&r._merged||(e[i]=r?ci(s,r):s)}}function ci(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function fi(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var s=e.on||(e.on={}),a=s[i],l=e.model.callback;o(a)?(r(a)?-1===a.indexOf(l):a!==l)&&(s[i]=[l].concat(a)):s[i]=l}var di=F,gi=W.optionMergeStrategies;function pi(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var i,r,s,o=pt?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)i=o[a],"__ob__"!==i&&(r=t[i],s=e[i],n&&C(t,i)?r!==s&&d(r)&&d(s)&&pi(r,s):Yt(t,i,s));return t}function _i(t,e,n){return n?function(){var i=h(e)?e.call(n,n):e,r=h(t)?t.call(n,n):t;return i?pi(i,r):r}:e?t?function(){return pi(h(e)?e.call(this,this):e,h(t)?t.call(this,this):t)}:e:t}function vi(t,e){var n=e?t?t.concat(e):r(e)?e:[e]:t;return n?yi(n):n}function yi(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function mi(t,e,n,i){var r=Object.create(t||null);return e?P(r,e):r}gi.data=function(t,e,n){return n?_i(t,e,n):e&&"function"!==typeof e?t:_i(t,e)},V.forEach((function(t){gi[t]=vi})),U.forEach((function(t){gi[t+"s"]=mi})),gi.watch=function(t,e,n,i){if(t===lt&&(t=void 0),e===lt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var s={};for(var o in P(s,t),e){var a=s[o],l=e[o];a&&!r(a)&&(a=[a]),s[o]=a?a.concat(l):r(l)?l:[l]}return s},gi.props=gi.methods=gi.inject=gi.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return P(r,t),e&&P(r,e),r},gi.provide=function(t,e){return t?function(){var n=Object.create(null);return pi(n,h(t)?t.call(this):t),e&&pi(n,h(e)?e.call(this):e,!1),n}:e};var xi=function(t,e){return void 0===e?t:e};function Ei(t,e){var n=t.props;if(n){var i,s,o,a={};if(r(n)){i=n.length;while(i--)s=n[i],"string"===typeof s&&(o=T(s),a[o]={type:null})}else if(d(n))for(var l in n)s=n[l],o=T(l),a[o]=d(s)?s:{type:s};else 0;t.props=a}}function wi(t,e){var n=t.inject;if(n){var i=t.inject={};if(r(n))for(var s=0;s<n.length;s++)i[n[s]]={from:n[s]};else if(d(n))for(var o in n){var a=n[o];i[o]=d(a)?P({from:o},a):{from:a}}else 0}}function Si(t){var e=t.directives;if(e)for(var n in e){var i=e[n];h(i)&&(e[n]={bind:i,update:i})}}function Ci(t,e,n){if(h(e)&&(e=e.options),Ei(e,n),wi(e,n),Si(e),!e._base&&(e.extends&&(t=Ci(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Ci(t,e.mixins[i],n);var s,o={};for(s in t)a(s);for(s in e)C(t,s)||a(s);function a(i){var r=gi[i]||xi;o[i]=r(t[i],e[i],n,i)}return o}function Ii(t,e,n,i){if("string"===typeof n){var r=t[e];if(C(r,n))return r[n];var s=T(n);if(C(r,s))return r[s];var o=b(s);if(C(r,o))return r[o];var a=r[n]||r[s]||r[o];return a}}function ki(t,e,n,i){var r=e[t],s=!C(n,t),o=n[t],a=Ni(Boolean,r.type);if(a>-1)if(s&&!C(r,"default"))o=!1;else if(""===o||o===A(t)){var l=Ni(String,r.type);(l<0||a<l)&&(o=!0)}if(void 0===o){o=Ti(i,r,t);var u=Mt;Pt(!0),Gt(o),Pt(u)}return o}function Ti(t,e,n){if(C(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:h(i)&&"Function"!==Ri(e.type)?i.call(t):i}}var bi=/^\s*function (\w+)/;function Ri(t){var e=t&&t.toString().match(bi);return e?e[1]:""}function Ai(t,e){return Ri(t)===Ri(e)}function Ni(t,e){if(!r(e))return Ai(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Ai(e[n],t))return n;return-1}var Oi={enumerable:!0,configurable:!0,get:F,set:F};function Li(t,e,n){Oi.get=function(){return this[e][n]},Oi.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Oi)}function Mi(t){var e=t.$options;if(e.props&&Pi(t,e.props),Ne(t),e.methods&&ji(t,e.methods),e.data)Di(t);else{var n=Gt(t._data={});n&&n.vmCount++}e.computed&&zi(t,e.computed),e.watch&&e.watch!==lt&&Xi(t,e.watch)}function Pi(t,e){var n=t.$options.propsData||{},i=t._props=jt({}),r=t.$options._propKeys=[],s=!t.$parent;s||Pt(!1);var o=function(s){r.push(s);var o=ki(s,e,n,t);zt(i,s,o,void 0,!0),s in t||Li(t,"_props",s)};for(var a in e)o(a);Pt(!0)}function Di(t){var e=t.$options.data;e=t._data=h(e)?Fi(e,t):e||{},d(e)||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);while(r--){var s=n[r];0,i&&C(i,s)||H(s)||Li(t,"_data",s)}var o=Gt(e);o&&o.vmCount++}function Fi(t,e){Tt();try{return t.call(e,e)}catch(Qo){return $e(Qo,e,"data()"),{}}finally{bt()}}var Gi={lazy:!0};function zi(t,e){var n=t._computedWatchers=Object.create(null),i=ct();for(var r in e){var s=e[r],o=h(s)?s:s.get;0,i||(n[r]=new mn(t,o||F,F,Gi)),r in t||Yi(t,r,s)}}function Yi(t,e,n){var i=!ct();h(n)?(Oi.get=i?qi(e):Bi(n),Oi.set=F):(Oi.get=n.get?i&&!1!==n.cache?qi(e):Bi(n.get):F,Oi.set=n.set||F),Object.defineProperty(t,e,Oi)}function qi(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),It.target&&e.depend(),e.value}}function Bi(t){return function(){return t.call(this,this)}}function ji(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?F:L(e[n],t)}function Xi(t,e){for(var n in e){var i=e[n];if(r(i))for(var s=0;s<i.length;s++)Ui(t,n,i[s]);else Ui(t,n,i)}}function Ui(t,e,n,i){return d(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function Vi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Yt,t.prototype.$delete=qt,t.prototype.$watch=function(t,e,n){var i=this;if(d(e))return Ui(i,t,e,n);n=n||{},n.user=!0;var r=new mn(i,t,e,n);if(n.immediate){var s='callback for immediate watcher "'.concat(r.expression,'"');Tt(),Ze(e,i,[r.value],i,s),bt()}return function(){r.teardown()}}}var Wi=0;function Ki(t){t.prototype._init=function(t){var e=this;e._uid=Wi++,e._isVue=!0,e.__v_skip=!0,e._scope=new $t(!0),e._scope.parent=void 0,e._scope._vm=!0,t&&t._isComponent?Hi(e,t):e.$options=Ci($i(e.constructor),t||{},e),e._renderProxy=e,e._self=e,bn(e),xn(e),Fe(e),Pn(e,"beforeCreate",void 0,!1),Qn(e),Mi(e),Jn(e),Pn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Hi(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function $i(t){var e=t.options;if(t.super){var n=$i(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var r=Zi(t);r&&P(t.extendOptions,r),e=t.options=Ci(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Zi(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}function Ji(t){this._init(t)}function Qi(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=M(arguments,1);return n.unshift(this),h(t.install)?t.install.apply(t,n):h(t)&&t.apply(null,n),e.push(t),this}}function tr(t){t.mixin=function(t){return this.options=Ci(this.options,t),this}}function er(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var s=si(t)||si(n.options);var o=function(t){this._init(t)};return o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.cid=e++,o.options=Ci(n.options,t),o["super"]=n,o.options.props&&nr(o),o.options.computed&&ir(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,U.forEach((function(t){o[t]=n[t]})),s&&(o.options.components[s]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=P({},o.options),r[i]=o,o}}function nr(t){var e=t.options.props;for(var n in e)Li(t.prototype,"_props",n)}function ir(t){var e=t.options.computed;for(var n in e)Yi(t.prototype,n,e[n])}function rr(t){U.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&d(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&h(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function sr(t){return t&&(si(t.Ctor.options)||t.tag)}function or(t,e){return r(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!g(t)&&t.test(e)}function ar(t,e){var n=t.cache,i=t.keys,r=t._vnode,s=t.$vnode;for(var o in n){var a=n[o];if(a){var l=a.name;l&&!e(l)&&lr(n,o,i,r)}}s.componentOptions.children=void 0}function lr(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,w(n,e)}Ki(Ji),Vi(Ji),In(Ji),Rn(Ji),ze(Ji);var ur=[String,RegExp,Array],hr={name:"keep-alive",abstract:!0,props:{include:ur,exclude:ur,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,i=t.vnodeToCache,r=t.keyToCache;if(i){var s=i.tag,o=i.componentInstance,a=i.componentOptions;e[r]={name:sr(a),tag:s,componentInstance:o},n.push(r),this.max&&n.length>parseInt(this.max)&&lr(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)lr(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){ar(t,(function(t){return or(e,t)}))})),this.$watch("exclude",(function(e){ar(t,(function(t){return!or(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=je(t),n=e&&e.componentOptions;if(n){var i=sr(n),r=this,s=r.include,o=r.exclude;if(s&&(!i||!or(s,i))||o&&i&&or(o,i))return e;var a=this,l=a.cache,u=a.keys,h=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;l[h]?(e.componentInstance=l[h].componentInstance,w(u,h),u.push(h)):(this.vnodeToCache=e,this.keyToCache=h),e.data.keepAlive=!0}return e||t&&t[0]}},cr={KeepAlive:hr};function fr(t){var e={get:function(){return W}};Object.defineProperty(t,"config",e),t.util={warn:di,extend:P,mergeOptions:Ci,defineReactive:zt},t.set=Yt,t.delete=qt,t.nextTick=hn,t.observable=function(t){return Gt(t),t},t.options=Object.create(null),U.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,P(t.options.components,cr),Qi(t),tr(t),er(t),rr(t)}fr(Ji),Object.defineProperty(Ji.prototype,"$isServer",{get:ct}),Object.defineProperty(Ji.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ji,"FunctionalRenderContext",{value:ei}),Ji.version=dn;var dr=x("style,class"),gr=x("input,textarea,option,select,progress"),pr=function(t,e,n){return"value"===n&&gr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},_r=x("contenteditable,draggable,spellcheck"),vr=x("events,caret,typing,plaintext-only"),yr=function(t,e){return Sr(e)||"false"===e?"false":"contenteditable"===t&&vr(e)?e:"true"},mr=x("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),xr="http://www.w3.org/1999/xlink",Er=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},wr=function(t){return Er(t)?t.slice(6,t.length):""},Sr=function(t){return null==t||!1===t};function Cr(t){var e=t.data,n=t,i=t;while(o(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=Ir(i.data,e));while(o(n=n.parent))n&&n.data&&(e=Ir(e,n.data));return kr(e.staticClass,e.class)}function Ir(t,e){return{staticClass:Tr(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function kr(t,e){return o(t)||o(e)?Tr(t,br(e)):""}function Tr(t,e){return t?e?t+" "+e:t:e||""}function br(t){return Array.isArray(t)?Rr(t):c(t)?Ar(t):"string"===typeof t?t:""}function Rr(t){for(var e,n="",i=0,r=t.length;i<r;i++)o(e=br(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Ar(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var Nr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Or=x("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Lr=x("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Mr=function(t){return Or(t)||Lr(t)};function Pr(t){return Lr(t)?"svg":"math"===t?"math":void 0}var Dr=Object.create(null);function Fr(t){if(!tt)return!0;if(Mr(t))return!1;if(t=t.toLowerCase(),null!=Dr[t])return Dr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Dr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Dr[t]=/HTMLUnknownElement/.test(e.toString())}var Gr=x("text,number,password,search,email,tel,url");function zr(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Yr(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function qr(t,e){return document.createElementNS(Nr[t],e)}function Br(t){return document.createTextNode(t)}function jr(t){return document.createComment(t)}function Xr(t,e,n){t.insertBefore(e,n)}function Ur(t,e){t.removeChild(e)}function Vr(t,e){t.appendChild(e)}function Wr(t){return t.parentNode}function Kr(t){return t.nextSibling}function Hr(t){return t.tagName}function $r(t,e){t.textContent=e}function Zr(t,e){t.setAttribute(e,"")}var Jr=Object.freeze({__proto__:null,createElement:Yr,createElementNS:qr,createTextNode:Br,createComment:jr,insertBefore:Xr,removeChild:Ur,appendChild:Vr,parentNode:Wr,nextSibling:Kr,tagName:Hr,setTextContent:$r,setStyleScope:Zr}),Qr={create:function(t,e){ts(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ts(t,!0),ts(e))},destroy:function(t){ts(t,!0)}};function ts(t,e){var n=t.data.ref;if(o(n)){var i=t.context,s=t.componentInstance||t.elm,a=e?null:s,l=e?void 0:s;if(h(n))Ze(n,i,[a],i,"template ref function");else{var u=t.data.refInFor,c="string"===typeof n||"number"===typeof n,f=Vt(n),d=i.$refs;if(c||f)if(u){var g=c?d[n]:n.value;e?r(g)&&w(g,s):r(g)?g.includes(s)||g.push(s):c?(d[n]=[s],es(i,n,d[n])):n.value=[s]}else if(c){if(e&&d[n]!==s)return;d[n]=l,es(i,n,a)}else if(f){if(e&&n.value!==s)return;n.value=a}else 0}}}function es(t,e,n){var i=t._setupState;i&&C(i,e)&&(Vt(i[e])?i[e].value=n:i[e]=n)}var ns=new yt("",{},[]),is=["create","activate","update","remove","destroy"];function rs(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&ss(t,e)||a(t.isAsyncPlaceholder)&&s(e.asyncFactory.error))}function ss(t,e){if("input"!==t.tag)return!0;var n,i=o(n=t.data)&&o(n=n.attrs)&&n.type,r=o(n=e.data)&&o(n=n.attrs)&&n.type;return i===r||Gr(i)&&Gr(r)}function os(t,e,n){var i,r,s={};for(i=e;i<=n;++i)r=t[i].key,o(r)&&(s[r]=i);return s}function as(t){var e,n,i={},l=t.modules,h=t.nodeOps;for(e=0;e<is.length;++e)for(i[is[e]]=[],n=0;n<l.length;++n)o(l[n][is[e]])&&i[is[e]].push(l[n][is[e]]);function c(t){return new yt(h.tagName(t).toLowerCase(),{},[],void 0,t)}function f(t,e){function n(){0===--n.listeners&&d(t)}return n.listeners=e,n}function d(t){var e=h.parentNode(t);o(e)&&h.removeChild(e,t)}function g(t,e,n,i,r,s,l){if(o(t.elm)&&o(s)&&(t=s[l]=Et(t)),t.isRootInsert=!r,!p(t,e,n,i)){var u=t.data,c=t.children,f=t.tag;o(f)?(t.elm=t.ns?h.createElementNS(t.ns,f):h.createElement(f,t),S(t),m(t,c,e),o(u)&&w(t,e),y(n,t.elm,i)):a(t.isComment)?(t.elm=h.createComment(t.text),y(n,t.elm,i)):(t.elm=h.createTextNode(t.text),y(n,t.elm,i))}}function p(t,e,n,i){var r=t.data;if(o(r)){var s=o(t.componentInstance)&&r.keepAlive;if(o(r=r.hook)&&o(r=r.init)&&r(t,!1),o(t.componentInstance))return _(t,e),y(n,t.elm,i),a(s)&&v(t,e,n,i),!0}}function _(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,E(t)?(w(t,e),S(t)):(ts(t),e.push(t))}function v(t,e,n,r){var s,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,o(s=a.data)&&o(s=s.transition)){for(s=0;s<i.activate.length;++s)i.activate[s](ns,a);e.push(a);break}y(n,t.elm,r)}function y(t,e,n){o(t)&&(o(n)?h.parentNode(n)===t&&h.insertBefore(t,e,n):h.appendChild(t,e))}function m(t,e,n){if(r(e)){0;for(var i=0;i<e.length;++i)g(e[i],n,t.elm,null,!0,e,i)}else u(t.text)&&h.appendChild(t.elm,h.createTextNode(String(t.text)))}function E(t){while(t.componentInstance)t=t.componentInstance._vnode;return o(t.tag)}function w(t,n){for(var r=0;r<i.create.length;++r)i.create[r](ns,t);e=t.data.hook,o(e)&&(o(e.create)&&e.create(ns,t),o(e.insert)&&n.push(t))}function S(t){var e;if(o(e=t.fnScopeId))h.setStyleScope(t.elm,e);else{var n=t;while(n)o(e=n.context)&&o(e=e.$options._scopeId)&&h.setStyleScope(t.elm,e),n=n.parent}o(e=kn)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&h.setStyleScope(t.elm,e)}function C(t,e,n,i,r,s){for(;i<=r;++i)g(n[i],s,t,e,!1,n,i)}function I(t){var e,n,r=t.data;if(o(r))for(o(e=r.hook)&&o(e=e.destroy)&&e(t),e=0;e<i.destroy.length;++e)i.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)I(t.children[n])}function k(t,e,n){for(;e<=n;++e){var i=t[e];o(i)&&(o(i.tag)?(T(i),I(i)):d(i.elm))}}function T(t,e){if(o(e)||o(t.data)){var n,r=i.remove.length+1;for(o(e)?e.listeners+=r:e=f(t.elm,r),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&T(n,e),n=0;n<i.remove.length;++n)i.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else d(t.elm)}function b(t,e,n,i,r){var a,l,u,c,f=0,d=0,p=e.length-1,_=e[0],v=e[p],y=n.length-1,m=n[0],x=n[y],E=!r;while(f<=p&&d<=y)s(_)?_=e[++f]:s(v)?v=e[--p]:rs(_,m)?(A(_,m,i,n,d),_=e[++f],m=n[++d]):rs(v,x)?(A(v,x,i,n,y),v=e[--p],x=n[--y]):rs(_,x)?(A(_,x,i,n,y),E&&h.insertBefore(t,_.elm,h.nextSibling(v.elm)),_=e[++f],x=n[--y]):rs(v,m)?(A(v,m,i,n,d),E&&h.insertBefore(t,v.elm,_.elm),v=e[--p],m=n[++d]):(s(a)&&(a=os(e,f,p)),l=o(m.key)?a[m.key]:R(m,e,f,p),s(l)?g(m,i,t,_.elm,!1,n,d):(u=e[l],rs(u,m)?(A(u,m,i,n,d),e[l]=void 0,E&&h.insertBefore(t,u.elm,_.elm)):g(m,i,t,_.elm,!1,n,d)),m=n[++d]);f>p?(c=s(n[y+1])?null:n[y+1].elm,C(t,c,n,d,y,i)):d>y&&k(e,f,p)}function R(t,e,n,i){for(var r=n;r<i;r++){var s=e[r];if(o(s)&&rs(t,s))return r}}function A(t,e,n,r,l,u){if(t!==e){o(e.elm)&&o(r)&&(e=r[l]=Et(e));var c=e.elm=t.elm;if(a(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?L(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,d=e.data;o(d)&&o(f=d.hook)&&o(f=f.prepatch)&&f(t,e);var g=t.children,p=e.children;if(o(d)&&E(e)){for(f=0;f<i.update.length;++f)i.update[f](t,e);o(f=d.hook)&&o(f=f.update)&&f(t,e)}s(e.text)?o(g)&&o(p)?g!==p&&b(c,g,p,n,u):o(p)?(o(t.text)&&h.setTextContent(c,""),C(c,null,p,0,p.length-1,n)):o(g)?k(g,0,g.length-1):o(t.text)&&h.setTextContent(c,""):t.text!==e.text&&h.setTextContent(c,e.text),o(d)&&o(f=d.hook)&&o(f=f.postpatch)&&f(t,e)}}}function N(t,e,n){if(a(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var O=x("attrs,class,staticClass,staticStyle,key");function L(t,e,n,i){var r,s=e.tag,l=e.data,u=e.children;if(i=i||l&&l.pre,e.elm=t,a(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(l)&&(o(r=l.hook)&&o(r=r.init)&&r(e,!0),o(r=e.componentInstance)))return _(e,n),!0;if(o(s)){if(o(u))if(t.hasChildNodes())if(o(r=l)&&o(r=r.domProps)&&o(r=r.innerHTML)){if(r!==t.innerHTML)return!1}else{for(var h=!0,c=t.firstChild,f=0;f<u.length;f++){if(!c||!L(c,u[f],n,i)){h=!1;break}c=c.nextSibling}if(!h||c)return!1}else m(e,u,n);if(o(l)){var d=!1;for(var g in l)if(!O(g)){d=!0,w(e,n);break}!d&&l["class"]&&pn(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,r){if(!s(e)){var l=!1,u=[];if(s(t))l=!0,g(e,u);else{var f=o(t.nodeType);if(!f&&rs(t,e))A(t,e,u,null,null,r);else{if(f){if(1===t.nodeType&&t.hasAttribute(X)&&(t.removeAttribute(X),n=!0),a(n)&&L(t,e,u))return N(e,u,!0),t;t=c(t)}var d=t.elm,p=h.parentNode(d);if(g(e,u,d._leaveCb?null:p,h.nextSibling(d)),o(e.parent)){var _=e.parent,v=E(e);while(_){for(var y=0;y<i.destroy.length;++y)i.destroy[y](_);if(_.elm=e.elm,v){for(var m=0;m<i.create.length;++m)i.create[m](ns,_);var x=_.data.hook.insert;if(x.merged)for(var w=x.fns.slice(1),S=0;S<w.length;S++)w[S]()}else ts(_);_=_.parent}}o(p)?k([t],0,0):o(t.tag)&&I(t)}}return N(e,u,l),e.elm}o(t)&&I(t)}}var ls={create:us,update:us,destroy:function(t){us(t,ns)}};function us(t,e){(t.data.directives||e.data.directives)&&hs(t,e)}function hs(t,e){var n,i,r,s=t===ns,o=e===ns,a=fs(t.data.directives,t.context),l=fs(e.data.directives,e.context),u=[],h=[];for(n in l)i=a[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,gs(r,"update",e,t),r.def&&r.def.componentUpdated&&h.push(r)):(gs(r,"bind",e,t),r.def&&r.def.inserted&&u.push(r));if(u.length){var c=function(){for(var n=0;n<u.length;n++)gs(u[n],"inserted",e,t)};s?ie(e,"insert",c):c()}if(h.length&&ie(e,"postpatch",(function(){for(var n=0;n<h.length;n++)gs(h[n],"componentUpdated",e,t)})),!s)for(n in a)l[n]||gs(a[n],"unbind",t,t,o)}var cs=Object.create(null);function fs(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++){if(i=t[n],i.modifiers||(i.modifiers=cs),r[ds(i)]=i,e._setupState&&e._setupState.__sfc){var s=i.def||Ii(e,"_setupState","v-"+i.name);i.def="function"===typeof s?{bind:s,update:s}:s}i.def=i.def||Ii(e.$options,"directives",i.name,!0)}return r}function ds(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function gs(t,e,n,i,r){var s=t.def&&t.def[e];if(s)try{s(n.elm,t,n,i,r)}catch(Qo){$e(Qo,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var ps=[Qr,ls];function _s(t,e){var n=e.componentOptions;if((!o(n)||!1!==n.Ctor.options.inheritAttrs)&&(!s(t.data.attrs)||!s(e.data.attrs))){var i,r,l,u=e.elm,h=t.data.attrs||{},c=e.data.attrs||{};for(i in(o(c.__ob__)||a(c._v_attr_proxy))&&(c=e.data.attrs=P({},c)),c)r=c[i],l=h[i],l!==r&&vs(u,i,r,e.data.pre);for(i in(nt||rt)&&c.value!==h.value&&vs(u,"value",c.value),h)s(c[i])&&(Er(i)?u.removeAttributeNS(xr,wr(i)):_r(i)||u.removeAttribute(i))}}function vs(t,e,n,i){i||t.tagName.indexOf("-")>-1?ys(t,e,n):mr(e)?Sr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):_r(e)?t.setAttribute(e,yr(e,n)):Er(e)?Sr(n)?t.removeAttributeNS(xr,wr(e)):t.setAttributeNS(xr,e,n):ys(t,e,n)}function ys(t,e,n){if(Sr(n))t.removeAttribute(e);else{if(nt&&!it&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var ms={create:_s,update:_s};function xs(t,e){var n=e.elm,i=e.data,r=t.data;if(!(s(i.staticClass)&&s(i.class)&&(s(r)||s(r.staticClass)&&s(r.class)))){var a=Cr(e),l=n._transitionClasses;o(l)&&(a=Tr(a,br(l))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var Es,ws={create:xs,update:xs},Ss="__r",Cs="__c";function Is(t){if(o(t[Ss])){var e=nt?"change":"input";t[e]=[].concat(t[Ss],t[e]||[]),delete t[Ss]}o(t[Cs])&&(t.change=[].concat(t[Cs],t.change||[]),delete t[Cs])}function ks(t,e,n){var i=Es;return function r(){var s=e.apply(null,arguments);null!==s&&Rs(t,r,n,i)}}var Ts=en&&!(at&&Number(at[1])<=53);function bs(t,e,n,i){if(Ts){var r=jn,s=e;e=s._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return s.apply(this,arguments)}}Es.addEventListener(t,e,ut?{capture:n,passive:i}:n)}function Rs(t,e,n,i){(i||Es).removeEventListener(t,e._wrapper||e,n)}function As(t,e){if(!s(t.data.on)||!s(e.data.on)){var n=e.data.on||{},i=t.data.on||{};Es=e.elm||t.elm,Is(n),ne(n,i,bs,Rs,ks,e.context),Es=void 0}}var Ns,Os={create:As,update:As,destroy:function(t){return As(t,ns)}};function Ls(t,e){if(!s(t.data.domProps)||!s(e.data.domProps)){var n,i,r=e.elm,l=t.data.domProps||{},u=e.data.domProps||{};for(n in(o(u.__ob__)||a(u._v_attr_proxy))&&(u=e.data.domProps=P({},u)),l)n in u||(r[n]="");for(n in u){if(i=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===l[n])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===n&&"PROGRESS"!==r.tagName){r._value=i;var h=s(i)?"":String(i);Ms(r,h)&&(r.value=h)}else if("innerHTML"===n&&Lr(r.tagName)&&s(r.innerHTML)){Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>".concat(i,"</svg>");var c=Ns.firstChild;while(r.firstChild)r.removeChild(r.firstChild);while(c.firstChild)r.appendChild(c.firstChild)}else if(i!==l[n])try{r[n]=i}catch(Qo){}}}}function Ms(t,e){return!t.composing&&("OPTION"===t.tagName||Ps(t,e)||Ds(t,e))}function Ps(t,e){var n=!0;try{n=document.activeElement!==t}catch(Qo){}return n&&t.value!==e}function Ds(t,e){var n=t.value,i=t._vModifiers;if(o(i)){if(i.number)return m(n)!==m(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}var Fs={create:Ls,update:Ls},Gs=I((function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function zs(t){var e=Ys(t.style);return t.staticStyle?P(t.staticStyle,e):e}function Ys(t){return Array.isArray(t)?D(t):"string"===typeof t?Gs(t):t}function qs(t,e){var n,i={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(n=zs(r.data))&&P(i,n)}(n=zs(t.data))&&P(i,n);var s=t;while(s=s.parent)s.data&&(n=zs(s.data))&&P(i,n);return i}var Bs,js=/^--/,Xs=/\s*!important$/,Us=function(t,e,n){if(js.test(e))t.style.setProperty(e,n);else if(Xs.test(n))t.style.setProperty(A(e),n.replace(Xs,""),"important");else{var i=Ws(e);if(Array.isArray(n))for(var r=0,s=n.length;r<s;r++)t.style[i]=n[r];else t.style[i]=n}},Vs=["Webkit","Moz","ms"],Ws=I((function(t){if(Bs=Bs||document.createElement("div").style,t=T(t),"filter"!==t&&t in Bs)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Vs.length;n++){var i=Vs[n]+e;if(i in Bs)return i}}));function Ks(t,e){var n=e.data,i=t.data;if(!(s(n.staticStyle)&&s(n.style)&&s(i.staticStyle)&&s(i.style))){var r,a,l=e.elm,u=i.staticStyle,h=i.normalizedStyle||i.style||{},c=u||h,f=Ys(e.data.style)||{};e.data.normalizedStyle=o(f.__ob__)?P({},f):f;var d=qs(e,!0);for(a in c)s(d[a])&&Us(l,a,"");for(a in d)r=d[a],Us(l,a,null==r?"":r)}}var Hs={create:Ks,update:Ks},$s=/\s+/;function Zs(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split($s).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Js(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split($s).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" ".concat(t.getAttribute("class")||""," "),i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Qs(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&P(e,to(t.name||"v")),P(e,t),e}return"string"===typeof t?to(t):void 0}}var to=I((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),eo=tt&&!it,no="transition",io="animation",ro="transition",so="transitionend",oo="animation",ao="animationend";eo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ro="WebkitTransition",so="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(oo="WebkitAnimation",ao="webkitAnimationEnd"));var lo=tt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function uo(t){lo((function(){lo(t)}))}function ho(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Zs(t,e))}function co(t,e){t._transitionClasses&&w(t._transitionClasses,e),Js(t,e)}function fo(t,e,n){var i=po(t,e),r=i.type,s=i.timeout,o=i.propCount;if(!r)return n();var a=r===no?so:ao,l=0,u=function(){t.removeEventListener(a,h),n()},h=function(e){e.target===t&&++l>=o&&u()};setTimeout((function(){l<o&&u()}),s+1),t.addEventListener(a,h)}var go=/\b(transform|all)(,|$)/;function po(t,e){var n,i=window.getComputedStyle(t),r=(i[ro+"Delay"]||"").split(", "),s=(i[ro+"Duration"]||"").split(", "),o=_o(r,s),a=(i[oo+"Delay"]||"").split(", "),l=(i[oo+"Duration"]||"").split(", "),u=_o(a,l),h=0,c=0;e===no?o>0&&(n=no,h=o,c=s.length):e===io?u>0&&(n=io,h=u,c=l.length):(h=Math.max(o,u),n=h>0?o>u?no:io:null,c=n?n===no?s.length:l.length:0);var f=n===no&&go.test(i[ro+"Property"]);return{type:n,timeout:h,propCount:c,hasTransform:f}}function _o(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return vo(e)+vo(t[n])})))}function vo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function yo(t,e){var n=t.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Qs(t.data.transition);if(!s(i)&&!o(n._enterCb)&&1===n.nodeType){var r=i.css,a=i.type,l=i.enterClass,u=i.enterToClass,f=i.enterActiveClass,d=i.appearClass,g=i.appearToClass,p=i.appearActiveClass,_=i.beforeEnter,v=i.enter,y=i.afterEnter,x=i.enterCancelled,E=i.beforeAppear,w=i.appear,S=i.afterAppear,C=i.appearCancelled,I=i.duration,k=kn,T=kn.$vnode;while(T&&T.parent)k=T.context,T=T.parent;var b=!k._isMounted||!t.isRootInsert;if(!b||w||""===w){var R=b&&d?d:l,A=b&&p?p:f,N=b&&g?g:u,O=b&&E||_,L=b&&h(w)?w:v,M=b&&S||y,P=b&&C||x,D=m(c(I)?I.enter:I);0;var F=!1!==r&&!it,G=Eo(L),z=n._enterCb=B((function(){F&&(co(n,N),co(n,A)),z.cancelled?(F&&co(n,R),P&&P(n)):M&&M(n),n._enterCb=null}));t.data.show||ie(t,"insert",(function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),L&&L(n,z)})),O&&O(n),F&&(ho(n,R),ho(n,A),uo((function(){co(n,R),z.cancelled||(ho(n,N),G||(xo(D)?setTimeout(z,D):fo(n,a,z)))}))),t.data.show&&(e&&e(),L&&L(n,z)),F||G||z()}}}function mo(t,e){var n=t.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=Qs(t.data.transition);if(s(i)||1!==n.nodeType)return e();if(!o(n._leaveCb)){var r=i.css,a=i.type,l=i.leaveClass,u=i.leaveToClass,h=i.leaveActiveClass,f=i.beforeLeave,d=i.leave,g=i.afterLeave,p=i.leaveCancelled,_=i.delayLeave,v=i.duration,y=!1!==r&&!it,x=Eo(d),E=m(c(v)?v.leave:v);0;var w=n._leaveCb=B((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(co(n,u),co(n,h)),w.cancelled?(y&&co(n,l),p&&p(n)):(e(),g&&g(n)),n._leaveCb=null}));_?_(S):S()}function S(){w.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),y&&(ho(n,l),ho(n,h),uo((function(){co(n,l),w.cancelled||(ho(n,u),x||(xo(E)?setTimeout(w,E):fo(n,a,w)))}))),d&&d(n,w),y||x||w())}}function xo(t){return"number"===typeof t&&!isNaN(t)}function Eo(t){if(s(t))return!1;var e=t.fns;return o(e)?Eo(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function wo(t,e){!0!==e.data.show&&yo(e)}var So=tt?{create:wo,activate:wo,remove:function(t,e){!0!==t.data.show?mo(t,e):e()}}:{},Co=[ms,ws,Os,Fs,Hs,So],Io=Co.concat(ps),ko=as({nodeOps:Jr,modules:Io});it&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Mo(t,"input")}));var To={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ie(n,"postpatch",(function(){To.componentUpdated(t,e,n)})):bo(t,e,n.context),t._vOptions=[].map.call(t.options,No)):("textarea"===n.tag||Gr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Oo),t.addEventListener("compositionend",Lo),t.addEventListener("change",Lo),it&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){bo(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,No);if(r.some((function(t,e){return!Y(t,i[e])}))){var s=t.multiple?e.value.some((function(t){return Ao(t,r)})):e.value!==e.oldValue&&Ao(e.value,r);s&&Mo(t,"change")}}}};function bo(t,e,n){Ro(t,e,n),(nt||rt)&&setTimeout((function(){Ro(t,e,n)}),0)}function Ro(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var s,o,a=0,l=t.options.length;a<l;a++)if(o=t.options[a],r)s=q(i,No(o))>-1,o.selected!==s&&(o.selected=s);else if(Y(No(o),i))return void(t.selectedIndex!==a&&(t.selectedIndex=a));r||(t.selectedIndex=-1)}}function Ao(t,e){return e.every((function(e){return!Y(e,t)}))}function No(t){return"_value"in t?t._value:t.value}function Oo(t){t.target.composing=!0}function Lo(t){t.target.composing&&(t.target.composing=!1,Mo(t.target,"input"))}function Mo(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Po(t){return!t.componentInstance||t.data&&t.data.transition?t:Po(t.componentInstance._vnode)}var Do={bind:function(t,e,n){var i=e.value;n=Po(n);var r=n.data&&n.data.transition,s=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,yo(n,(function(){t.style.display=s}))):t.style.display=i?s:"none"},update:function(t,e,n){var i=e.value,r=e.oldValue;if(!i!==!r){n=Po(n);var s=n.data&&n.data.transition;s?(n.data.show=!0,i?yo(n,(function(){t.style.display=t.__vOriginalDisplay})):mo(n,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},Fo={model:To,show:Do},Go={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function zo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?zo(je(e.children)):t}function Yo(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var i in r)e[T(i)]=r[i];return e}function qo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Bo(t){while(t=t.parent)if(t.data.transition)return!0}function jo(t,e){return e.key===t.key&&e.tag===t.tag}var Xo=function(t){return t.tag||Te(t)},Uo=function(t){return"show"===t.name},Vo={name:"transition",props:Go,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Xo),n.length)){0;var i=this.mode;0;var r=n[0];if(Bo(this.$vnode))return r;var s=zo(r);if(!s)return r;if(this._leaving)return qo(t,r);var o="__transition-".concat(this._uid,"-");s.key=null==s.key?s.isComment?o+"comment":o+s.tag:u(s.key)?0===String(s.key).indexOf(o)?s.key:o+s.key:s.key;var a=(s.data||(s.data={})).transition=Yo(this),l=this._vnode,h=zo(l);if(s.data.directives&&s.data.directives.some(Uo)&&(s.data.show=!0),h&&h.data&&!jo(s,h)&&!Te(h)&&(!h.componentInstance||!h.componentInstance._vnode.isComment)){var c=h.data.transition=P({},a);if("out-in"===i)return this._leaving=!0,ie(c,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),qo(t,r);if("in-out"===i){if(Te(s))return l;var f,d=function(){f()};ie(a,"afterEnter",d),ie(a,"enterCancelled",d),ie(c,"delayLeave",(function(t){f=t}))}}return r}}},Wo=P({tag:String,moveClass:String},Go);delete Wo.mode;var Ko={props:Wo,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=Tn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],s=this.children=[],o=Yo(this),a=0;a<r.length;a++){var l=r[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))s.push(l),n[l.key]=l,(l.data||(l.data={})).transition=o;else;}if(i){var u=[],h=[];for(a=0;a<i.length;a++){l=i[a];l.data.transition=o,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?u.push(l):h.push(l)}this.kept=t(e,null,u),this.removed=h}return t(e,null,s)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Ho),t.forEach($o),t.forEach(Zo),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,i=n.style;ho(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(so,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(so,t),n._moveCb=null,co(n,e))})}})))},methods:{hasMove:function(t,e){if(!eo)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Js(n,t)})),Zs(n,e),n.style.display="none",this.$el.appendChild(n);var i=po(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function Ho(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function $o(t){t.data.newPos=t.elm.getBoundingClientRect()}function Zo(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var s=t.elm.style;s.transform=s.WebkitTransform="translate(".concat(i,"px,").concat(r,"px)"),s.transitionDuration="0s"}}var Jo={Transition:Vo,TransitionGroup:Ko};Ji.config.mustUseProp=pr,Ji.config.isReservedTag=Mr,Ji.config.isReservedAttr=dr,Ji.config.getTagNamespace=Pr,Ji.config.isUnknownElement=Fr,P(Ji.options.directives,Fo),P(Ji.options.components,Jo),Ji.prototype.__patch__=tt?ko:F,Ji.prototype.$mount=function(t,e){return t=t&&tt?zr(t):void 0,An(this,t,e)},tt&&setTimeout((function(){W.devtools&&ft&&ft.emit("init",Ji)}),0)},6930:function(t,e,n){"use strict";var i=n(7582),r=n(9357),s=n(8965);class o extends r.A{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(i.A.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=(0,s.KT)(this,t[r],e);return i}return(0,s.KT)(this,t,e)}onceInternal(t,e){let n;if(Array.isArray(t)){const i=t.length;n=new Array(i);for(let r=0;r<i;++r)n[r]=(0,s.Jz)(this,t[r],e)}else n=(0,s.Jz)(this,t,e);return e.ol_key=n,n}unInternal(t,e){const n=e.ol_key;if(n)a(n);else if(Array.isArray(t))for(let i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}function a(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)(0,s.JH)(t[e]);else(0,s.JH)(t)}o.prototype.on,o.prototype.once,o.prototype.un,e.A=o},6940:function(t,e){"use strict";e.A={ANIMATING:0,INTERACTING:1}},6955:function(t,e,n){"use strict";var i=n(2140),r=n(4901),s=n(2195),o=n(8227),a=o("toStringTag"),l=Object,u="Arguments"===s(function(){return arguments}()),h=function(t,e){try{return t[e]}catch(n){}};t.exports=i?s:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=h(e=l(t),a))?n:u?s(e):"Object"===(i=s(e))&&r(e.callee)?"Arguments":i}},6969:function(t,e,n){"use strict";var i=n(2777),r=n(757);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7040:function(t,e,n){"use strict";var i=n(4495);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:function(t,e,n){"use strict";var i=n(9504),r=n(9039),s=n(2195),o=Object,a=i("".split);t.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===s(t)?a(t,""):o(t)}:o},7080:function(t,e,n){"use strict";var i=n(4402).has;t.exports=function(t){return i(t),t}},7334:function(t,e,n){"use strict";n.d(e,{WM:function(){return h},Y:function(){return r},Yg:function(){return a},fo:function(){return l},gS:function(){return u},lr:function(){return o}});var i=n(502);function r(t,e,n,r){let s;return s=n&&n.length?n.shift():i.Wl?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(s.width=t),e&&(s.height=e),s.getContext("2d",r)}let s;function o(){return s||(s=r(1,1)),s}function a(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function l(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function u(t){while(t.lastChild)t.lastChild.remove()}function h(t,e){const n=t.childNodes;for(let i=0;1;++i){const r=n[i],s=e[i];if(!r&&!s)break;r!==s&&(r?s?t.insertBefore(s,r):(t.removeChild(r),--i):t.appendChild(s))}}},7347:function(t,e,n){"use strict";var i=n(3724),r=n(9565),s=n(8773),o=n(6980),a=n(5397),l=n(6969),u=n(9297),h=n(5917),c=Object.getOwnPropertyDescriptor;e.f=i?c:function(t,e){if(t=a(t),e=l(e),h)try{return c(t,e)}catch(n){}if(u(t,e))return o(!r(s.f,t,e),t[e])}},7444:function(t,e,n){"use strict";n.d(e,{$C:function(){return x},$u:function(){return G},Bg:function(){return R},HY:function(){return D},Im:function(){return F},Ld:function(){return l},Li:function(){return q},Mx:function(){return z},N:function(){return g},NW:function(){return Y},Oq:function(){return N},Py:function(){return L},QJ:function(){return B},R:function(){return I},R8:function(){return E},RG:function(){return P},Rj:function(){return c},S5:function(){return d},Tr:function(){return r},UG:function(){return C},Vy:function(){return v},WU:function(){return M},X$:function(){return m},Ym:function(){return u},Yw:function(){return A},_N:function(){return O},aI:function(){return y},aZ:function(){return p},dP:function(){return _},k_:function(){return k},ms:function(){return h},o8:function(){return a},q1:function(){return T},qF:function(){return b},r:function(){return o},sB:function(){return S},vz:function(){return f}});n(4114);var i=n(1945);function r(t){const e=d();for(let n=0,i=t.length;n<i;++n)x(e,t[n]);return e}function s(t,e,n){const i=Math.min.apply(null,t),r=Math.min.apply(null,e),s=Math.max.apply(null,t),o=Math.max.apply(null,e);return g(i,r,s,o,n)}function o(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function a(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function l(t,e,n){let i,r;return i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,i*i+r*r}function u(t,e){return c(t,e[0],e[1])}function h(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function c(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function f(t,e){const n=t[0],r=t[1],s=t[2],o=t[3],a=e[0],l=e[1];let u=i.A.UNKNOWN;return a<n?u|=i.A.LEFT:a>s&&(u|=i.A.RIGHT),l<r?u|=i.A.BELOW:l>o&&(u|=i.A.ABOVE),u===i.A.UNKNOWN&&(u=i.A.INTERSECTING),u}function d(){return[1/0,1/0,-1/0,-1/0]}function g(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function p(t){return g(1/0,1/0,-1/0,-1/0,t)}function _(t,e){const n=t[0],i=t[1];return g(n,i,n,i,e)}function v(t,e,n,i,r){const s=p(r);return E(s,t,e,n,i)}function y(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function m(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function x(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function E(t,e,n,i,r){for(;n<i;n+=r)w(t,e[n],e[n+1]);return t}function w(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function S(t,e){let n;return n=e(I(t)),n||(n=e(k(t)),n||(n=e(M(t)),n||(n=e(L(t)),n||!1)))}function C(t){let e=0;return F(t)||(e=P(t)*N(t)),e}function I(t){return[t[0],t[1]]}function k(t){return[t[2],t[1]]}function T(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function b(t,e){let n;if("bottom-left"===e)n=I(t);else if("bottom-right"===e)n=k(t);else if("top-left"===e)n=L(t);else{if("top-right"!==e)throw new Error("Invalid corner");n=M(t)}return n}function R(t,e,n,i,r){const[s,o,a,l,u,h,c,f]=A(t,e,n,i);return g(Math.min(s,a,u,c),Math.min(o,l,h,f),Math.max(s,a,u,c),Math.max(o,l,h,f),r)}function A(t,e,n,i){const r=e*i[0]/2,s=e*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=r*o,u=r*a,h=s*o,c=s*a,f=t[0],d=t[1];return[f-l+c,d-u-h,f-l-c,d-u+h,f+l-c,d+u+h,f+l+c,d+u-h,f-l+c,d-u-h]}function N(t){return t[3]-t[1]}function O(t,e,n){const i=n||d();return D(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):p(i),i}function L(t){return[t[0],t[3]]}function M(t){return[t[2],t[3]]}function P(t){return t[2]-t[0]}function D(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function F(t){return t[2]<t[0]||t[3]<t[1]}function G(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function z(t,e,n){let r=!1;const s=f(t,e),o=f(t,n);if(s===i.A.INTERSECTING||o===i.A.INTERSECTING)r=!0;else{const a=t[0],l=t[1],u=t[2],h=t[3],c=e[0],f=e[1],d=n[0],g=n[1],p=(g-f)/(d-c);let _,v;o&i.A.ABOVE&&!(s&i.A.ABOVE)&&(_=d-(g-h)/p,r=_>=a&&_<=u),r||!(o&i.A.RIGHT)||s&i.A.RIGHT||(v=g-(d-u)*p,r=v>=l&&v<=h),r||!(o&i.A.BELOW)||s&i.A.BELOW||(_=d-(g-l)/p,r=_>=a&&_<=u),r||!(o&i.A.LEFT)||s&i.A.LEFT||(v=g-(d-a)*p,r=v>=l&&v<=h)}return r}function Y(t,e,n,i){if(F(t))return p(n);let r=[];if(i>1){const e=t[2]-t[0],n=t[3]-t[1];for(let s=0;s<i;++s)r.push(t[0]+e*s/i,t[1],t[2],t[1]+n*s/i,t[2]-e*s/i,t[3],t[0],t[3]-n*s/i)}else r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(r,r,2);const o=[],a=[];for(let s=0,l=r.length;s<l;s+=2)o.push(r[s]),a.push(r[s+1]);return s(o,a,n)}function q(t,e){const n=e.getExtent(),i=T(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const e=P(n),r=Math.floor((i[0]-n[0])/e),s=r*e;t[0]-=s,t[2]-=s}return t}function B(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];q(t,e);const r=P(i);if(P(t)>r&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+r,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-r,t[3]]]}return[t]}},7476:function(t,e,n){"use strict";var i=n(2195),r=n(9504);t.exports=function(t){if("Function"===i(t))return r(t)}},7582:function(t,e){"use strict";e.A={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},7588:function(t,e,n){"use strict";var i=n(6518),r=n(9565),s=n(2652),o=n(9306),a=n(8551),l=n(1767),u=n(9539),h=n(4549),c=h("forEach",TypeError);i({target:"Iterator",proto:!0,real:!0,forced:c},{forEach:function(t){a(this);try{o(t)}catch(i){u(this,"throw",i)}if(c)return r(c,this,t);var e=l(this),n=0;s(e,(function(e){t(e,n++)}),{IS_RECORD:!0})}})},7629:function(t,e,n){"use strict";var i=n(6395),r=n(4576),s=n(9433),o="__core-js_shared__",a=t.exports=r[o]||s(o,{});(a.versions||(a.versions=[])).push({version:"3.42.0",mode:i?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7642:function(t,e,n){"use strict";var i=n(6518),r=n(3440),s=n(4916),o=!s("difference",(function(t){return 0===t.size}));i({target:"Set",proto:!0,real:!0,forced:o},{difference:r})},7657:function(t,e,n){"use strict";var i,r,s,o=n(9039),a=n(4901),l=n(34),u=n(2360),h=n(2787),c=n(6840),f=n(8227),d=n(6395),g=f("iterator"),p=!1;[].keys&&(s=[].keys(),"next"in s?(r=h(h(s)),r!==Object.prototype&&(i=r)):p=!0);var _=!l(i)||o((function(){var t={};return i[g].call(t)!==t}));_?i={}:d&&(i=u(i)),a(i[g])||c(i,g,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},7680:function(t,e,n){"use strict";var i=n(9504);t.exports=i([].slice)},7689:function(t,e,n){"use strict";n.d(e,{J:function(){return s},p:function(){return o}});n(4114);var i=n(3851),r=n(8330);function s(t,e,n,s,o,a,l){let u,h,c,f,d,g,p;const _=o[a+1],v=[];for(let i=0,r=n.length;i<r;++i){const r=n[i];for(f=t[r-s],g=t[r-s+1],u=e;u<r;u+=s)d=t[u],p=t[u+1],(_<=g&&p<=_||g<=_&&_<=p)&&(c=(_-g)/(p-g)*(d-f)+f,v.push(c)),f=d,g=p}let y=NaN,m=-1/0;for(v.sort(i.V_),f=v[0],u=1,h=v.length;u<h;++u){d=v[u];const i=Math.abs(d-f);i>m&&(c=(f+d)/2,(0,r.zb)(t,e,n,s,c,_)&&(y=c,m=i)),f=d}return isNaN(y)&&(y=o[a]),l?(l.push(y,_,m),l):[y,_,m]}function o(t,e,n,i,r){let o=[];for(let a=0,l=n.length;a<l;++a){const l=n[a];o=s(t,e,l,i,r,2*a,o),e=l[l.length-1]}return o}},7739:function(t,e,n){"use strict";n(4114),n(8111),n(7588),n(1701);var i=n(7582),r=n(8965),s=n(7444),o=n(3471);class a extends o.A{constructor(t){super(),this.geometries_=t,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(r.JH),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const t=this.geometries_;for(let e=0,n=t.length;e<n;++e)this.changeEventsKeys_.push((0,r.KT)(t[e],i.A.CHANGE,this.changed,this))}clone(){const t=new a(l(this.geometries_));return t.applyProperties(this),t}closestPointXY(t,e,n,i){if(i<(0,s.Ld)(this.getExtent(),t,e))return i;const r=this.geometries_;for(let s=0,o=r.length;s<o;++s)i=r[s].closestPointXY(t,e,n,i);return i}containsXY(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1}computeExtent(t){(0,s.aZ)(t);const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)(0,s.X$)(t,e[n].getExtent());return t}getGeometries(){return l(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],n=this.geometries_;let i=!1;for(let r=0,s=n.length;r<s;++r){const s=n[r],o=s.getSimplifiedGeometry(t);e.push(o),o!==s&&(i=!0)}if(i){const t=new a(e);return t}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()}scale(t,e,n){n||(n=(0,s.q1)(this.getExtent()));const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)i[r].scale(t,e,n);this.changed()}setGeometries(t){this.setGeometriesArray(l(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()}translate(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function l(t){return t.map((t=>t.clone()))}e.A=a},7740:function(t,e,n){"use strict";var i=n(9297),r=n(5031),s=n(7347),o=n(4913);t.exports=function(t,e,n){for(var a=r(e),l=o.f,u=s.f,h=0;h<a.length;h++){var c=a[h];i(t,c)||n&&i(n,c)||l(t,c,u(e,c))}}},7749:function(t,e,n){"use strict";var i=n(5689),r=n(5752);class s{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,i.xq)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new s({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,r.b0)()}getImage(t){return(0,r.b0)()}getHitDetectionImage(){return(0,r.b0)()}getPixelRatio(t){return 1}getImageState(){return(0,r.b0)()}getImageSize(){return(0,r.b0)()}getOrigin(){return(0,r.b0)()}getSize(){return(0,r.b0)()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,i.xq)(t)}listenImageChange(t){(0,r.b0)()}load(){(0,r.b0)()}unlistenImageChange(t){(0,r.b0)()}ready(){return Promise.resolve()}}e.A=s},7750:function(t,e,n){"use strict";var i=n(4117),r=TypeError;t.exports=function(t){if(i(t))throw new r("Can't call method on "+t);return t}},7751:function(t,e,n){"use strict";var i=n(4576),r=n(4901),s=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(i[t]):i[t]&&i[t][e]}},7867:function(t,e,n){"use strict";n.d(e,{y:function(){return o}});n(4114);var i=n(1423),r=n(3757),s=n(2310);function o(t,e={}){const n=[];if((0,r.kX)(t,(t=>{n.push(t.coordinates)})),n.length<2)throw new Error("Must specify at least 2 geometries");const o=s.E$(n[0],...n.slice(1));return 0===o.length?null:1===o.length?(0,i.n1)(o[0],e.properties):(0,i.g5)(o,e.properties)}},8004:function(t,e,n){"use strict";var i=n(6518),r=n(9039),s=n(8750),o=n(4916),a=!o("intersection",(function(t){return 2===t.size&&t.has(1)&&t.has(2)}))||r((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));i({target:"Set",proto:!0,real:!0,forced:a},{intersection:s})},8014:function(t,e,n){"use strict";var i=n(1291),r=Math.min;t.exports=function(t){var e=i(t);return e>0?r(e,9007199254740991):0}},8047:function(t,e,n){"use strict";n.d(e,{A:function(){return D}});n(4114),n(8111),n(1701),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);var i=n(1928),r=n(9611);function s(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}const o=new Error("disposed");const a=[256,256];class l extends i.A{constructor(t){const e=r.A.IDLE;super(t.tileCoord,e,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=s(this.data_);return t?[t.width,t.height]:a}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==r.A.IDLE&&this.state!==r.A.ERROR)return;this.state=r.A.LOADING,this.changed();const t=this;this.loader_().then((function(e){t.data_=e,t.state=r.A.LOADED,t.changed()})).catch((function(e){t.error_=e,t.state=r.A.ERROR,t.changed()}))}disposeInternal(){this.controller_&&(this.controller_.abort(o),this.controller_=null),super.disposeInternal()}}var u=l,h=n(5783),c=n(4871),f=n(3851),d=n(7444),g=n(9449),p=n(8548),_=n(5689),v=n(8646),y=n(1097);class m{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof v.A&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){while(this.canExpireCache())this.deleteOldest()}clear(){while(this.oldest_)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;while(e)t(e.value_,e.key_,this),e=e.newer}get(t,e){const n=this.entries_[t];return(0,y.v)(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(t){const e=this.entries_[t];return(0,y.v)(void 0!==e,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){(0,y.v)(!(t in this.entries_),"Tried to set a value for a key that is used already");const n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_}setSize(t){this.highWaterMark=t}}var x=m,E=n(1607),w=n(1194),S=n(5752),C=n(3525);function I(t,e,n,i){return`${t},${(0,E.dp)(e,n,i)}`}function k(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const i=t[n],r=i.has(e);return r||i.add(e),!r}function T(t,e,n){const i=t[n];return!!i&&i.delete(e)}function b(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=(0,d._N)(e,(0,g.SD)(n.extent,t.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const n=i.getTileGridForProjection(t.viewState.projection).getExtent();n&&(e=(0,d._N)(e,n))}return e}class R extends C.A{constructor(t,e){super(t),e=e||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=(0,d.S5)(),this.tempTileRange_=new c.A(0,0,0,0),this.tempTileCoord_=(0,E.N)(0,0,0);const n=void 0!==e.cacheSize?e.cacheSize:512;this.tileCache_=new x(n),this.maxStaleKeys=.5*n}getTileCache(){return this.tileCache_}getOrCreateTile(t,e,n,i){const r=this.tileCache_,s=this.getLayer(),o=s.getSource(),a=I(o.getKey(),t,e,n);let l;if(r.containsKey(a))l=r.get(a);else{if(l=o.getTile(t,e,n,i.pixelRatio,i.viewState.projection),!l)return null;r.set(a,l)}return l}getTile(t,e,n,i){const r=this.getOrCreateTile(t,e,n,i);return r||null}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),i=(0,w.Bb)(e.pixelToCoordinateTransform,t.slice()),o=n.getExtent();if(o&&!(0,d.Ym)(o,i))return null;const a=e.viewState,l=n.getRenderSource(),c=l.getTileGridForProjection(a.projection),f=l.getTilePixelRatio(e.pixelRatio);for(let d=c.getZForResolution(a.resolution);d>=c.getMinZoom();--d){const t=c.getTileCoordForCoordAndZ(i,d),n=this.getTile(d,t[1],t[2],e);if(!n||n.getState()!==r.A.LOADED)continue;const o=c.getOrigin(d),g=(0,_.xq)(c.getTileSize(d)),v=c.getResolution(d);let y;if(n instanceof h.A||n instanceof p.A)y=n.getImage();else{if(!(n instanceof u))continue;if(y=s(n.getData()),!y)continue}const m=Math.floor(f*((i[0]-o[0])/v-t[1]*g[0])),x=Math.floor(f*((o[1]-i[1])/v-t[2]*g[1])),E=Math.round(f*l.getGutterForProjection(a.projection));return this.getImageData(y,m+E,x+E)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const e=this.getLayer().getSource();if(!e)return!1;const n=e.getRevision();return this.renderedRevision_?this.renderedRevision_!==n&&(this.renderedRevision_=n,this.renderedSourceKey_===e.getKey()&&this.tileCache_.clear()):this.renderedRevision_=n,!0}enqueueTiles(t,e,n,i,s){const o=t.viewState,a=this.getLayer(),l=a.getRenderSource(),u=l.getTileGridForProjection(o.projection),h=(0,S.v6)(l);h in t.wantedTiles||(t.wantedTiles[h]={});const c=t.wantedTiles[h],f=a.getMapInternal(),g=Math.max(n-s,u.getMinZoom(),u.getZForResolution(Math.min(a.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):u.getResolution(0)),l.zDirection)),p=o.rotation,_=p?(0,d.Yw)(o.center,o.resolution,p,t.size):void 0;for(let d=n;d>=g;--d){const n=u.getTileRangeForExtentAndZ(e,d,this.tempTileRange_),s=u.getResolution(d);for(let e=n.minX;e<=n.maxX;++e)for(let o=n.minY;o<=n.maxY;++o){if(p&&!u.tileCoordIntersectsViewport([d,e,o],_))continue;const n=this.getTile(d,e,o,t);if(!n)continue;const a=k(i,n,d);if(!a)continue;const l=n.getKey();if(c[l]=!0,n.getState()===r.A.IDLE&&!t.tileQueue.isKeyQueued(l)){const i=(0,E.N)(d,e,o,this.tempTileCoord_);t.tileQueue.enqueue([n,h,u.getTileCoordCenter(i),s])}}}}findStaleTile_(t,e){const n=this.tileCache_,i=t[0],s=t[1],o=t[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){const t=I(a[l],i,s,o);if(n.containsKey(t)){const s=n.peek(t);if(s.getState()===r.A.LOADED)return s.endTransition((0,S.v6)(this)),k(e,s,i),!0}}return!1}findAltTiles_(t,e,n,i){const s=t.getTileRangeForTileCoordAndZ(e,n,this.tempTileRange_);if(!s)return!1;let o=!0;const a=this.tileCache_,l=this.getLayer().getRenderSource(),u=l.getKey();for(let h=s.minX;h<=s.maxX;++h)for(let t=s.minY;t<=s.maxY;++t){const e=I(u,n,h,t);let s=!1;if(a.containsKey(e)){const t=a.peek(e);t.getState()===r.A.LOADED&&(k(i,t,n),s=!0)}s||(o=!1)}return o}renderFrame(t,e){this.renderComplete=!0;const n=t.layerStatesArray[t.layerIndex],i=t.viewState,s=i.projection,o=i.resolution,a=i.center,l=t.pixelRatio,u=this.getLayer(),h=u.getSource(),c=h.getTileGridForProjection(s),p=c.getZForResolution(o,h.zDirection),_=c.getResolution(p),v=h.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==v&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=v):this.renderedSourceKey_=v;let y=t.extent;const m=h.getTilePixelRatio(l);this.prepareContainer(t,e);const x=this.context.canvas.width,E=this.context.canvas.height,C=n.extent&&(0,g.SD)(n.extent,s);C&&(y=(0,d._N)(y,(0,g.SD)(n.extent,s)));const I=_*x/2/m,k=_*E/2/m,R=[a[0]-I,a[1]-k,a[0]+I,a[1]+k],A={};this.renderedTiles.length=0;const N=u.getPreload();if(t.nextExtent){const e=c.getZForResolution(i.nextResolution,h.zDirection),n=b(t,t.nextExtent);this.enqueueTiles(t,n,e,A,N)}const O=b(t,y);if(this.enqueueTiles(t,O,p,A,0),N>0&&setTimeout((()=>{this.enqueueTiles(t,O,p-1,A,N-1)}),0),!(p in A))return this.container;const L=(0,S.v6)(this),M=t.time;for(const f of A[p]){const e=f.getState();if(e===r.A.EMPTY)continue;const n=f.tileCoord;if(e===r.A.LOADED){const t=f.getAlpha(L,M);if(1===t){f.endTransition(L);continue}}e!==r.A.ERROR&&(this.renderComplete=!1);const i=this.findStaleTile_(n,A);if(i){T(A,f,p),t.animate=!0;continue}const s=this.findAltTiles_(c,n,p+1,A);if(s)continue;const o=c.getMinZoom();for(let t=p-1;t>=o;--t){const e=this.findAltTiles_(c,n,t,A);if(e)break}}const P=_/o*l/m,D=this.getRenderContext(t);(0,w.Zz)(this.tempTransform,x/2,E/2,P,P,0,-x/2,-E/2),n.extent&&this.clipUnrotated(D,t,C),h.getInterpolate()||(D.imageSmoothingEnabled=!1),this.preRender(D,t);const F=Object.keys(A).map(Number);let G;F.sort(f.V_);const z=[],Y=[];for(let f=F.length-1;f>=0;--f){const e=F[f],n=h.getTilePixelSize(e,l,s),i=c.getResolution(e),o=i/_,a=n[0]*o*P,u=n[1]*o*P,g=c.getTileCoordForCoordAndZ((0,d.Py)(R),e),p=c.getTileCoordExtent(g),v=(0,w.Bb)(this.tempTransform,[m*(p[0]-R[0])/_,m*(R[3]-p[3])/_]),y=m*h.getGutterForProjection(s);for(const s of A[e]){if(s.getState()!==r.A.LOADED)continue;const n=s.tileCoord,i=g[1]-n[1],o=Math.round(v[0]-(i-1)*a),l=g[2]-n[2],c=Math.round(v[1]-(l-1)*u),f=Math.round(v[0]-i*a),p=Math.round(v[1]-l*u),_=o-f,m=c-p,x=1===F.length;let E=!1;G=[f,p,f+_,p,f+_,p+m,f,p+m];for(let t=0,r=z.length;t<r;++t)if(!x&&e<Y[t]){const e=z[t];(0,d.HY)([f,p,f+_,p+m],[e[0],e[3],e[4],e[7]])&&(E||(D.save(),E=!0),D.beginPath(),D.moveTo(G[0],G[1]),D.lineTo(G[2],G[3]),D.lineTo(G[4],G[5]),D.lineTo(G[6],G[7]),D.moveTo(e[6],e[7]),D.lineTo(e[4],e[5]),D.lineTo(e[2],e[3]),D.lineTo(e[0],e[1]),D.clip())}z.push(G),Y.push(e),this.drawTile(s,t,f,p,_,m,y,x),E&&D.restore(),this.renderedTiles.unshift(s),this.updateUsedTiles(t.usedTiles,h,s)}}if(this.renderedResolution=_,this.extentChanged=!this.renderedExtent_||!(0,d.aI)(this.renderedExtent_,R),this.renderedExtent_=R,this.renderedPixelRatio=l,this.postRender(this.context,t),n.extent&&D.restore(),D.imageSmoothingEnabled=!0,this.renderComplete){const e=(t,e)=>{const n=(0,S.v6)(h),i=e.wantedTiles[n],r=i?Object.keys(i).length:0;this.updateCacheSize(r),this.tileCache_.expireCache()};t.postRenderFunctions.push(e)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,2*t)}drawTile(t,e,n,i,r,o,a,l){let h;if(t instanceof u){if(h=s(t.getData()),!h)throw new Error("Rendering array data is not yet supported")}else h=this.getTileImage(t);if(!h)return;const c=this.getRenderContext(e),f=(0,S.v6)(this),d=e.layerStatesArray[e.layerIndex],g=d.opacity*(l?t.getAlpha(f,e.time):1),p=g!==c.globalAlpha;p&&(c.save(),c.globalAlpha=g),c.drawImage(h,a,a,h.width-2*a,h.height-2*a,n,i,r,o),p&&c.restore(),g!==d.opacity?e.animate=!0:l&&t.endTransition(f)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,e,n){const i=(0,S.v6)(e);i in t||(t[i]={}),t[i][n.getKey()]=!0}}var A=R,N=n(2425),O={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class L extends N.A{constructor(t){t=t||{};const e=Object.assign({},t),n=t.cacheSize;delete t.cacheSize,delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(O.PRELOAD)}setPreload(t){this.set(O.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(O.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(O.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}var M=L;class P extends M{constructor(t){super(t)}createRenderer(){return new A(this,{cacheSize:this.getCacheSize()})}}var D=P},8111:function(t,e,n){"use strict";var i=n(6518),r=n(4576),s=n(679),o=n(8551),a=n(4901),l=n(2787),u=n(2106),h=n(4659),c=n(9039),f=n(9297),d=n(8227),g=n(7657).IteratorPrototype,p=n(3724),_=n(6395),v="constructor",y="Iterator",m=d("toStringTag"),x=TypeError,E=r[y],w=_||!a(E)||E.prototype!==g||!c((function(){E({})})),S=function(){if(s(this,g),l(this)===g)throw new x("Abstract class Iterator not directly constructable")},C=function(t,e){p?u(g,t,{configurable:!0,get:function(){return e},set:function(e){if(o(this),this===g)throw new x("You can't redefine this property");f(this,t)?this[t]=e:h(this,t,e)}}):g[t]=e};f(g,m)||C(m,y),!w&&f(g,v)&&g[v]!==Object||C(v,S),S.prototype=g,i({global:!0,constructor:!0,forced:w},{Iterator:S})},8225:function(t,e,n){"use strict";var i=n(7444),r=n(5674),s=n(3665),o=n(6320);class a extends s.Ay{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new a(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){const s=this.flatCoordinates,o=(0,r.hG)(t,e,s[0],s[1]);if(o<i){const t=this.stride;for(let e=0;e<t;++e)n[e]=s[e];return n.length=t,o}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return(0,i.dP)(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return(0,i.Rj)(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,o._n)(this.flatCoordinates,0,t,this.stride),this.changed()}}e.A=a},8227:function(t,e,n){"use strict";var i=n(4576),r=n(5745),s=n(9297),o=n(3392),a=n(4495),l=n(7040),u=i.Symbol,h=r("wks"),c=l?u["for"]||u:u&&u.withoutSetter||o;t.exports=function(t){return s(h,t)||(h[t]=a&&s(u,t)?u[t]:c("Symbol."+t)),h[t]}},8237:function(t,e,n){"use strict";var i=n(6518),r=n(2652),s=n(9306),o=n(8551),a=n(1767),l=n(9539),u=n(4549),h=n(8745),c=n(9039),f=TypeError,d=c((function(){[].keys().reduce((function(){}),void 0)})),g=!d&&u("reduce",f);i({target:"Iterator",proto:!0,real:!0,forced:d||g},{reduce:function(t){o(this);try{s(t)}catch(c){l(this,"throw",c)}var e=arguments.length<2,n=e?void 0:arguments[1];if(g)return h(g,this,e?[t]:[t,n]);var i=a(this),u=0;if(r(i,(function(i){e?(e=!1,n=i):n=t(n,i,u),u++}),{IS_RECORD:!0}),e)throw new f("Reduce of empty iterator with no initial value");return n}})},8298:function(t,e,n){"use strict";n.d(e,{C:function(){return r}});n(4114);var i=n(7444);function r(t,e,n,r){const s=[];let o=(0,i.S5)();for(let a=0,l=n.length;a<l;++a){const l=n[a];o=(0,i.Vy)(t,e,l[0],r),s.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return s}},8330:function(t,e,n){"use strict";n.d(e,{Gd:function(){return a},a_:function(){return s},t7:function(){return r},zb:function(){return o}});var i=n(7444);function r(t,e,n,r,o){const a=(0,i.sB)(o,(function(i){return!s(t,e,n,r,i[0],i[1])}));return!a}function s(t,e,n,i,r,s){let o=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const n=t[e],i=t[e+1];l<=s?i>s&&(n-a)*(s-l)-(r-a)*(i-l)>0&&o++:i<=s&&(n-a)*(s-l)-(r-a)*(i-l)<0&&o--,a=n,l=i}return 0!==o}function o(t,e,n,i,r,o){if(0===n.length)return!1;if(!s(t,e,n[0],i,r,o))return!1;for(let a=1,l=n.length;a<l;++a)if(s(t,n[a-1],n[a],i,r,o))return!1;return!0}function a(t,e,n,i,r,s){if(0===n.length)return!1;for(let a=0,l=n.length;a<l;++a){const l=n[a];if(o(t,e,l,i,r,s))return!0;e=l[l.length-1]}return!1}},8343:function(t,e,n){"use strict";var i=n(1410),r=n(713),s=n(5752),o=n(8886);class a{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,void 0!==t.color&&this.setColor(t.color)}clone(){const t=this.getColor();return new a({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(null!==t&&"object"===typeof t&&"src"in t){const e=(0,o.J)(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));e.ready().then((()=>{this.patternImage_=null})),e.getImageState()===i.A.IDLE&&e.load(),e.getImageState()===i.A.LOADING&&(this.patternImage_=e)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?(0,s.v6)(t):"object"===typeof t&&"src"in t?t.src+":"+t.offset:(0,r._j)(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}e.A=a},8409:function(t,e,n){"use strict";function i(t){return Math.pow(t,3)}function r(t){return 1-i(1-t)}function s(t){return 3*t*t-2*t*t*t}function o(t){return t}n.d(e,{T9:function(){return s},a6:function(){return i},sn:function(){return o},vT:function(){return r}})},8469:function(t,e,n){"use strict";var i=n(9504),r=n(507),s=n(4402),o=s.Set,a=s.proto,l=i(a.forEach),u=i(a.keys),h=u(new o).next;t.exports=function(t,e,n){return n?r({iterator:u(t),next:h},e):l(t,e)}},8474:function(t,e,n){"use strict";n.d(e,{Io:function(){return u},Li:function(){return h},WQ:function(){return r},aI:function(){return s},e$:function(){return o},hG:function(){return l},hs:function(){return a}});var i=n(7444);function r(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function s(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function o(t,e){const n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,s=t[1]*n+t[0]*i;return t[0]=r,t[1]=s,t}function a(t,e){return t[0]*=e,t[1]*=e,t}function l(t,e){const n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function u(t,e){return Math.sqrt(l(t,e))}function h(t,e){if(e.canWrapX()){const n=(0,i.RG)(e.getExtent()),r=c(t,e,n);r&&(t[0]-=r*n)}return t}function c(t,e,n){const r=e.getExtent();let s=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||(0,i.RG)(r),s=Math.floor((t[0]-r[0])/n)),s}},8480:function(t,e,n){"use strict";var i=n(1828),r=n(8727),s=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,s)}},8527:function(t,e,n){"use strict";var i=n(7080),r=n(4402).has,s=n(5170),o=n(3789),a=n(507),l=n(9539);t.exports=function(t){var e=i(this),n=o(t);if(s(e)<n.size)return!1;var u=n.getIterator();return!1!==a(u,(function(t){if(!r(e,t))return l(u,"normal",!1)}))}},8548:function(t,e,n){"use strict";n.d(e,{A:function(){return k}});n(4114),n(8111),n(7588);var i=n(1928),r=n(9611),s=n(7334),o=n(7582),a=n(8965),l=n(7444),u=n(5674),h=n(9449);let c;const f=[];function d(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function g(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function p(){if(void 0===c){const t=(0,s.Y)(6,6,f);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",d(t,4,5,4,0),d(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;c=g(e,0)||g(e,4)||g(e,8),(0,s.Yg)(t),f.push(t.canvas)}return c}function _(t,e,n,i){const r=(0,h.pd)(n,e,t);let s=(0,h.hO)(e,i,n);const o=e.getMetersPerUnit();void 0!==o&&(s*=o);const a=t.getMetersPerUnit();void 0!==a&&(s/=a);const u=t.getExtent();if(!u||(0,l.Ym)(u,r)){const e=(0,h.hO)(t,s,r)/s;isFinite(e)&&e>0&&(s/=e)}return s}function v(t,e,n,i){const r=(0,l.q1)(n);let s=_(t,e,r,i);return(!isFinite(s)||s<=0)&&(0,l.sB)(n,(function(n){return s=_(t,e,n,i),isFinite(s)&&s>0})),s}function y(t,e,n,i,r,o,a,h,c,d,g,_,v,y){const m=(0,s.Y)(Math.round(n*t),Math.round(n*e),f);if(_||(m.imageSmoothingEnabled=!1),0===c.length)return m.canvas;function x(t){return Math.round(t*n)/n}m.scale(n,n),m.globalCompositeOperation="lighter";const E=(0,l.S5)();let w;c.forEach((function(t,e,n){(0,l.X$)(E,t.extent)}));const S=n/i,C=(_?1:1+Math.pow(2,-24))/S;if(!v||1!==c.length||0!==d){if(w=(0,s.Y)(Math.round((0,l.RG)(E)*S),Math.round((0,l.Oq)(E)*S),f),_||(w.imageSmoothingEnabled=!1),r&&y){const t=(r[0]-E[0])*S,e=-(r[3]-E[3])*S,n=(0,l.RG)(r)*S,i=(0,l.Oq)(r)*S;w.rect(t,e,n,i),w.clip()}c.forEach((function(t,e,n){if(t.image.width>0&&t.image.height>0){if(t.clipExtent){w.save();const e=(t.clipExtent[0]-E[0])*S,n=-(t.clipExtent[3]-E[3])*S,i=(0,l.RG)(t.clipExtent)*S,r=(0,l.Oq)(t.clipExtent)*S;w.rect(_?e:Math.round(e),_?n:Math.round(n),_?i:Math.round(e+i)-Math.round(e),_?r:Math.round(n+r)-Math.round(n)),w.clip()}const e=(t.extent[0]-E[0])*S,n=-(t.extent[3]-E[3])*S,i=(0,l.RG)(t.extent)*S,r=(0,l.Oq)(t.extent)*S;w.drawImage(t.image,d,d,t.image.width-2*d,t.image.height-2*d,_?e:Math.round(e),_?n:Math.round(n),_?i:Math.round(e+i)-Math.round(e),_?r:Math.round(n+r)-Math.round(n)),t.clipExtent&&w.restore()}}))}const I=(0,l.Py)(a);return h.getTriangles().forEach((function(t,e,n){const i=t.source,r=t.target;let s=i[0][0],a=i[0][1],h=i[1][0],f=i[1][1],d=i[2][0],g=i[2][1];const v=x((r[0][0]-I[0])/o),y=x(-(r[0][1]-I[1])/o),S=x((r[1][0]-I[0])/o),k=x(-(r[1][1]-I[1])/o),T=x((r[2][0]-I[0])/o),b=x(-(r[2][1]-I[1])/o),R=s,A=a;s=0,a=0,h-=R,f-=A,d-=R,g-=A;const N=[[h,f,0,0,S-v],[d,g,0,0,T-v],[0,0,h,f,k-y],[0,0,d,g,b-y]],O=(0,u.KU)(N);if(!O)return;if(m.save(),m.beginPath(),p()||!_){m.moveTo(S,k);const t=4,e=v-S,n=y-k;for(let i=0;i<t;i++)m.lineTo(S+x((i+1)*e/t),k+x(i*n/(t-1))),i!=t-1&&m.lineTo(S+x((i+1)*e/t),k+x((i+1)*n/(t-1)));m.lineTo(T,b)}else m.moveTo(S,k),m.lineTo(v,y),m.lineTo(T,b);let L;if(m.clip(),m.transform(O[0],O[2],O[1],O[3],v,y),m.translate(E[0]-R,E[3]-A),w)L=w.canvas,m.scale(C,-C);else{const t=c[0],e=t.extent;L=t.image,m.scale((0,l.RG)(e)/L.width,-(0,l.Oq)(e)/L.height)}m.drawImage(L,0,0),m.restore()})),w&&((0,s.Yg)(w),f.push(w.canvas)),g&&(m.save(),m.globalCompositeOperation="source-over",m.strokeStyle="black",m.lineWidth=1,h.getTriangles().forEach((function(t,e,n){const i=t.target,r=(i[0][0]-I[0])/o,s=-(i[0][1]-I[1])/o,a=(i[1][0]-I[0])/o,l=-(i[1][1]-I[1])/o,u=(i[2][0]-I[0])/o,h=-(i[2][1]-I[1])/o;m.beginPath(),m.moveTo(a,l),m.lineTo(r,s),m.lineTo(u,h),m.closePath(),m.stroke()})),m.restore()),m.canvas}var m=n(1194);const x=10,E=.25;class w{constructor(t,e,n,i,r,s,o){this.sourceProj_=t,this.targetProj_=e;let a={};const u=o?(0,h.HU)((t=>(0,m.Bb)(o,(0,h.pd)(t,this.targetProj_,this.sourceProj_)))):(0,h.RG)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return a[e]||(a[e]=u(t)),a[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&(0,l.RG)(i)>=(0,l.RG)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,l.RG)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,l.RG)(this.targetProj_.getExtent()):null;const c=(0,l.Py)(n),f=(0,l.WU)(n),d=(0,l.k_)(n),g=(0,l.R)(n),p=this.transformInv_(c),_=this.transformInv_(f),v=this.transformInv_(d),y=this.transformInv_(g),E=x+(s?Math.max(0,Math.ceil(Math.log2((0,l.UG)(n)/(s*s*256*256)))):0);if(this.addQuad_(c,f,d,g,p,_,v,y,E),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,n,i){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const n=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];n[0][0]-t>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-t>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-t>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const i=Math.min(n[0][0],n[1][0],n[2][0]),r=Math.max(n[0][0],n[1][0],n[2][0]);r-i<this.sourceWorldWidth_/2&&(e.source=n)}}))}a={}}addTriangle_(t,e,n,i,r,s){this.triangles_.push({source:[i,r,s],target:[t,e,n]})}addQuad_(t,e,n,i,r,s,o,a,h){const c=(0,l.Tr)([r,s,o,a]),f=this.sourceWorldWidth_?(0,l.RG)(c)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&f>.5&&f<1;let p=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const r=(0,l.Tr)([t,e,n,i]),s=(0,l.RG)(r)/this.targetWorldWidth_;p=s>E||p}!g&&this.sourceProj_.isGlobal()&&f&&(p=f>E||p)}if(!p&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!(0,l.HY)(c,this.maxSourceExtent_))return;let _=0;if(!p&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])))if(h>0)p=!0;else if(_=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(o[0])&&isFinite(o[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1),1!=_&&2!=_&&4!=_&&8!=_)return;if(h>0){if(!p){const e=[(t[0]+n[0])/2,(t[1]+n[1])/2],i=this.transformInv_(e);let s;if(g){const t=((0,u.xP)(r[0],d)+(0,u.xP)(o[0],d))/2;s=t-(0,u.xP)(i[0],d)}else s=(r[0]+o[0])/2-i[0];const a=(r[1]+o[1])/2-i[1],l=s*s+a*a;p=l>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){const l=[(e[0]+n[0])/2,(e[1]+n[1])/2],u=this.transformInv_(l),c=[(i[0]+t[0])/2,(i[1]+t[1])/2],f=this.transformInv_(c);this.addQuad_(t,e,l,c,r,s,u,f,h-1),this.addQuad_(c,l,n,i,f,u,o,a,h-1)}else{const l=[(t[0]+e[0])/2,(t[1]+e[1])/2],u=this.transformInv_(l),c=[(n[0]+i[0])/2,(n[1]+i[1])/2],f=this.transformInv_(c);this.addQuad_(t,l,c,i,r,u,f,a,h-1),this.addQuad_(l,e,n,c,u,s,o,f,h-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&_)&&this.addTriangle_(t,n,i,r,o,a),0==(14&_)&&this.addTriangle_(t,n,e,r,o,s),_&&(0==(13&_)&&this.addTriangle_(e,i,t,s,a,r),0==(7&_)&&this.addTriangle_(e,i,n,s,a,o))}calculateSourceExtent(){const t=(0,l.S5)();return this.triangles_.forEach((function(e,n,i){const r=e.source;(0,l.$C)(t,r[0]),(0,l.$C)(t,r[1]),(0,l.$C)(t,r[2])})),t}getTriangles(){return this.triangles_}}var S=w;const C=.5;class I extends i.A{constructor(t,e,n,i,s,o,a,h,c,f,d,g){super(s,r.A.IDLE,g),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=a,this.gutter_=h,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=i,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const p=i.getTileCoordExtent(this.wrappedTileCoord_),_=this.targetTileGrid_.getExtent();let y=this.sourceTileGrid_.getExtent();const m=_?(0,l._N)(p,_):p;if(0===(0,l.UG)(m))return void(this.state=r.A.EMPTY);const x=t.getExtent();x&&(y=y?(0,l._N)(y,x):x);const E=i.getResolution(this.wrappedTileCoord_[0]),w=v(t,n,m,E);if(!isFinite(w)||w<=0)return void(this.state=r.A.EMPTY);const I=void 0!==f?f:C;if(this.triangulation_=new S(t,n,m,y,w*I,E),0===this.triangulation_.getTriangles().length)return void(this.state=r.A.EMPTY);this.sourceZ_=e.getZForResolution(w);let k=this.triangulation_.calculateSourceExtent();if(y&&(t.canWrapX()?(k[1]=(0,u.qE)(k[1],y[1],y[3]),k[3]=(0,u.qE)(k[3],y[1],y[3])):k=(0,l._N)(k,y)),(0,l.UG)(k)){let n=0,i=0;t.canWrapX()&&(n=(0,l.RG)(x),i=Math.floor((k[0]-x[0])/n));const s=(0,l.QJ)(k.slice(),t,!0);s.forEach((t=>{const r=e.getTileRangeForExtentAndZ(t,this.sourceZ_);for(let e=r.minX;e<=r.maxX;e++)for(let t=r.minY;t<=r.maxY;t++){const r=c(this.sourceZ_,e,t,a);if(r){const t=i*n;this.sourceTiles_.push({tile:r,offset:t})}}++i})),0===this.sourceTiles_.length&&(this.state=r.A.EMPTY)}else this.state=r.A.EMPTY}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{const n=e.tile;if(n&&n.getState()==r.A.LOADED){const i=this.sourceTileGrid_.getTileCoordExtent(n.tileCoord);i[0]+=e.offset,i[2]+=e.offset;const r=this.clipExtent_?.slice();r&&(r[0]+=e.offset,r[2]+=e.offset),t.push({extent:i,clipExtent:r,image:n.getImage()})}})),this.sourceTiles_.length=0,0===t.length)this.state=r.A.ERROR;else{const e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"===typeof n?n:n[0],s="number"===typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=y(i,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=r.A.LOADED}this.changed()}load(){if(this.state==r.A.IDLE){this.state=r.A.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((({tile:e})=>{const n=e.getState();if(n==r.A.IDLE||n==r.A.LOADING){t++;const n=(0,a.KT)(e,o.A.CHANGE,(i=>{const s=e.getState();s!=r.A.LOADED&&s!=r.A.ERROR&&s!=r.A.EMPTY||((0,a.JH)(n),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}));this.sourcesListenerKeys_.push(n)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function({tile:t},e,n){const i=t.getState();i==r.A.IDLE&&t.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(a.JH),this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,s.Yg)(this.canvas_.getContext("2d")),f.push(this.canvas_),this.canvas_=null),super.release()}}var k=I},8551:function(t,e,n){"use strict";var i=n(34),r=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(r(t)+" is not an object")}},8601:function(t,e,n){"use strict";function i(t,e,n,i,r){let s;for(e+=i;e<n;e+=i)if(s=r(t.slice(e-i,e),t.slice(e,e+i)),s)return s;return!1}n.d(e,{j:function(){return i}})},8622:function(t,e,n){"use strict";var i=n(4576),r=n(4901),s=i.WeakMap;t.exports=r(s)&&/native code/.test(String(s))},8646:function(t,e){"use strict";class n{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}e.A=n},8686:function(t,e,n){"use strict";var i=n(3724),r=n(9039);t.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8699:function(t,e,n){"use strict";n.d(e,{Ay:function(){return O}});n(4114),n(8111),n(2489);var i=n(1611),r=n(6940),s={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},o=n(3851),a=n(1097),l=n(5674);function u(t,e,n){return function(i,r,s,o,a){if(!i)return;if(!r&&!e)return i;const u=e?0:s[0]*r,h=e?0:s[1]*r,c=a?a[0]:0,f=a?a[1]:0;let d=t[0]+u/2+c,g=t[2]-u/2+c,p=t[1]+h/2+f,_=t[3]-h/2+f;d>g&&(d=(g+d)/2,g=d),p>_&&(p=(_+p)/2,_=p);let v=(0,l.qE)(i[0],d,g),y=(0,l.qE)(i[1],p,_);if(o&&n&&r){const t=30*r;v+=-t*Math.log(1+Math.max(0,d-i[0])/t)+t*Math.log(1+Math.max(0,i[0]-g)/t),y+=-t*Math.log(1+Math.max(0,p-i[1])/t)+t*Math.log(1+Math.max(0,i[1]-_)/t)}return[v,y]}}function h(t){return t}var c=n(8474),f=n(8409),d=n(7444),g=n(9331),p=n(3754),_=n(9449);function v(t,e,n,i){const r=(0,d.RG)(e)/n[0],s=(0,d.Oq)(e)/n[1];return i?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function y(t,e,n){let i=Math.min(t,e);const r=50;return i*=Math.log(1+r*Math.max(0,t/e-1))/r+1,n&&(i=Math.max(i,n),i/=Math.log(1+r*Math.max(0,n/t-1))/r+1),(0,l.qE)(i,n/2,2*e)}function m(t,e,n,i){return e=void 0===e||e,function(r,s,a,u){if(void 0!==r){const h=t[0],c=t[t.length-1],f=n?v(h,n,a,i):h;if(u)return e?y(r,f,c):(0,l.qE)(r,c,f);const d=Math.min(f,r),g=Math.floor((0,o.FT)(t,d,s));return t[g]>f&&g<t.length-1?t[g+1]:t[g]}}}function x(t,e,n,i,r,s){return i=void 0===i||i,n=void 0!==n?n:0,function(o,a,u,h){if(void 0!==o){const c=r?v(e,r,u,s):e;if(h)return i?y(o,c,n):(0,l.qE)(o,n,c);const f=1e-9,d=Math.ceil(Math.log(e/c)/Math.log(t)-f),g=-a*(.5-f)+.5,p=Math.min(c,o),_=Math.floor(Math.log(e/p)/Math.log(t)+g),m=Math.max(d,_),x=e/Math.pow(t,m);return(0,l.qE)(x,n,c)}}}function E(t,e,n,i,r){return n=void 0===n||n,function(s,o,a,u){if(void 0!==s){const o=i?v(t,i,a,r):t;return n&&u?y(s,o,e):(0,l.qE)(s,e,o)}}}var w=n(5289),S=n(8994);const C=0;class I extends i.A{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=(0,_.Av)(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&(0,_.RJ)(),t.center&&(t.center=(0,_.Ad)(t.center,this.projection_)),t.extent&&(t.extent=(0,_.SD)(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const a in s)delete e[a];this.setProperties(e,!0);const n=b(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;const i=T(t),r=n.constraint,o=R(t);this.constraints_={center:i,resolution:r,rotation:o},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const n=this.getCenterInternal();if(n){const i=t||[0,0,0,0];e=e||[0,0,0,0];const r=this.getResolution(),s=r/2*(i[3]-e[3]+e[1]-i[1]),o=r/2*(i[0]-e[0]+e[2]-i[2]);this.setCenterInternal([n[0]+s,n[1]-o])}}getUpdatedOptions_(t){const e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let n=0;n<e.length;++n){let t=arguments[n];t.center&&(t=Object.assign({},t),t.center=(0,_.Ad)(t.center,this.getProjection())),t.anchor&&(t=Object.assign({},t),t.anchor=(0,_.Ad)(t.anchor,this.getProjection())),e[n]=t}this.animateInternal.apply(this,e)}animateInternal(t){let e,n=arguments.length;n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const t=arguments[i];t.center&&this.setCenterInternal(t.center),void 0!==t.zoom?this.setZoom(t.zoom):t.resolution&&this.setResolution(t.resolution),void 0!==t.rotation&&this.setRotation(t.rotation)}if(i===n)return void(e&&k(e,!0));let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,u=this.targetRotation_;const h=[];for(;i<n;++i){const t=arguments[i],n={start:s,complete:!1,anchor:t.anchor,duration:void 0!==t.duration?t.duration:1e3,easing:t.easing||f.T9,callback:e};if(t.center&&(n.sourceCenter=o,n.targetCenter=t.center.slice(),o=n.targetCenter),void 0!==t.zoom?(n.sourceResolution=a,n.targetResolution=this.getResolutionForZoom(t.zoom),a=n.targetResolution):t.resolution&&(n.sourceResolution=a,n.targetResolution=t.resolution,a=n.targetResolution),void 0!==t.rotation){n.sourceRotation=u;const e=(0,l.xP)(t.rotation-u+Math.PI,2*Math.PI)-Math.PI;n.targetRotation=u+e,u=n.targetRotation}A(n)?n.complete=!0:s+=n.duration,h.push(n)}this.animations_.push(h),this.setHint(r.A.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[r.A.ANIMATING]>0}getInteracting(){return this.hints_[r.A.INTERACTING]>0}cancelAnimations(){let t;this.setHint(r.A.ANIMATING,-this.hints_[r.A.ANIMATING]);for(let e=0,n=this.animations_.length;e<n;++e){const n=this.animations_[e];if(n[0].callback&&k(n[0].callback,!1),!t)for(let e=0,i=n.length;e<i;++e){const i=n[e];if(!i.complete){t=i.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let n=this.animations_.length-1;n>=0;--n){const i=this.animations_[n];let s=!0;for(let n=0,r=i.length;n<r;++n){const r=i[n];if(r.complete)continue;const o=t-r.start;let a=r.duration>0?o/r.duration:1;a>=1?(r.complete=!0,a=1):s=!1;const u=r.easing(a);if(r.sourceCenter){const t=r.sourceCenter[0],e=r.sourceCenter[1],n=r.targetCenter[0],i=r.targetCenter[1];this.nextCenter_=r.targetCenter;const s=t+u*(n-t),o=e+u*(i-e);this.targetCenter_=[s,o]}if(r.sourceResolution&&r.targetResolution){const t=1===u?r.targetResolution:r.sourceResolution+u*(r.targetResolution-r.sourceResolution);if(r.anchor){const e=this.getViewportSize_(this.getRotation()),n=this.constraints_.resolution(t,0,e,!0);this.targetCenter_=this.calculateCenterZoom(n,r.anchor)}this.nextResolution_=r.targetResolution,this.targetResolution_=t,this.applyTargetState_(!0)}if(void 0!==r.sourceRotation&&void 0!==r.targetRotation){const t=1===u?(0,l.xP)(r.targetRotation+Math.PI,2*Math.PI)-Math.PI:r.sourceRotation+u*(r.targetRotation-r.sourceRotation);if(r.anchor){const e=this.constraints_.rotation(t,!0);this.targetCenter_=this.calculateCenterRotate(e,r.anchor)}this.nextRotation_=r.targetRotation,this.targetRotation_=t}if(this.applyTargetState_(!0),e=!0,!r.complete)break}if(s){this.animations_[n]=null,this.setHint(r.A.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=i[0].callback;t&&k(t,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let n;const i=this.getCenterInternal();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],(0,c.e$)(n,t-this.getRotation()),(0,c.WQ)(n,e)),n}calculateCenterZoom(t,e){let n;const i=this.getCenterInternal(),r=this.getResolution();if(void 0!==i&&void 0!==r){const s=e[0]-t*(e[0]-i[0])/r,o=e[1]-t*(e[1]-i[1])/r;n=[s,o]}return n}getViewportSize_(t){const e=this.viewportSize_;if(t){const n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t?(0,_.te)(t,this.getProjection()):t}getCenterInternal(){return this.get(s.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const e=this.calculateExtentInternal(t);return(0,_.JR)(e,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();(0,a.v)(e,"The view center is not defined");const n=this.getResolution();(0,a.v)(void 0!==n,"The view resolution is not defined");const i=this.getRotation();return(0,a.v)(void 0!==i,"The view rotation is not defined"),(0,d.Bg)(e,n,i,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(s.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal((0,_.SD)(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const n=(0,d.RG)(t)/e[0],i=(0,d.Oq)(t)/e[1];return Math.max(n,i)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(e/n)/Math.log(t);return function(n){const r=e/Math.pow(t,n*i);return r}}getRotation(){return this.get(s.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/e;return function(t){const i=Math.log(n/t)/e/r;return i}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),n=this.getRotation();let i=this.getCenterInternal();const r=this.padding_;if(r){const t=this.getViewportSizeMinusPadding_();i=N(i,this.getViewportSize_(),[t[0]/2+r[3],t[1]/2+r[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e,n,i=this.minZoom_||0;if(this.resolutions_){const r=(0,o.FT)(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)}getResolutionForZoom(t){if(this.resolutions_?.length){if(1===this.resolutions_.length)return this.resolutions_[0];const e=(0,l.qE)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,(0,l.qE)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let n;if((0,a.v)(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){(0,a.v)(!(0,d.Im)(t),"Cannot fit empty extent provided as `geometry`");const e=(0,_.SD)(t,this.getProjection());n=(0,p.VY)(e)}else if("Circle"===t.getType()){const e=(0,_.SD)(t.getExtent(),this.getProjection());n=(0,p.VY)(e),n.rotate(this.getRotation(),(0,d.q1)(e))}else{const e=(0,_.Tf)();n=e?t.clone().transform(e,this.getProjection()):t}this.fitInternal(n,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),n=Math.cos(e),i=Math.sin(-e),r=t.getFlatCoordinates(),s=t.getStride();let o=1/0,a=1/0,l=-1/0,u=-1/0;for(let h=0,c=r.length;h<c;h+=s){const t=r[h]*n-r[h+1]*i,e=r[h]*i+r[h+1]*n;o=Math.min(o,t),a=Math.min(a,e),l=Math.max(l,t),u=Math.max(u,e)}return[o,a,l,u]}fitInternal(t,e){e=e||{};let n=e.size;n||(n=this.getViewportSizeMinusPadding_());const i=void 0!==e.padding?e.padding:[0,0,0,0],r=void 0!==e.nearest&&e.nearest;let s;s=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;const o=this.rotatedExtentForGeometry(t);let a=this.getResolutionForExtentInternal(o,[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]);a=isNaN(a)?s:Math.max(a,s),a=this.getConstrainedResolution(a,r?0:1);const l=this.getRotation(),u=Math.sin(l),h=Math.cos(l),c=(0,d.q1)(o);c[0]+=(i[1]-i[3])/2*a,c[1]+=(i[0]-i[2])/2*a;const f=c[0]*h-c[1]*u,p=c[1]*h+c[0]*u,_=this.getConstrainedCenter([f,p],a),v=e.callback?e.callback:g.tV;void 0!==e.duration?this.animateInternal({resolution:a,center:_,duration:e.duration,easing:e.easing},v):(this.targetResolution_=a,this.targetCenter_=_,this.applyTargetState_(!1,!0),k(v,!0))}centerOn(t,e,n){this.centerOnInternal((0,_.Ad)(t,this.getProjection()),e,n)}centerOnInternal(t,e,n){this.setCenterInternal(N(t,e,n,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,n,i){let r;const s=this.padding_;if(s&&t){const o=this.getViewportSizeMinusPadding_(-n),a=N(t,i,[o[0]/2+s[3],o[1]/2+s[0]],e,n);r=[t[0]-a[0],t[1]-a[1]]}return r}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(t){const e=(0,_.te)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&(0,_.Ad)(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=(0,_.Ad)(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t?(0,_.Ad)(t,this.getProjection()):t)}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,r,n),a=this.constraints_.center(this.targetCenter_,o,r,n,this.calculateCenterShift(this.targetCenter_,o,i,r));this.get(s.ROTATION)!==i&&this.set(s.ROTATION,i),this.get(s.RESOLUTION)!==o&&(this.set(s.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),a&&this.get(s.CENTER)&&(0,c.aI)(this.get(s.CENTER),a)||this.set(s.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,n){t=void 0!==t?t:200;const i=e||0,r=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,i,s),a=this.constraints_.center(this.targetCenter_,o,s,!1,this.calculateCenterShift(this.targetCenter_,o,r,s));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=o,this.targetRotation_=r,this.targetCenter_=a,void this.applyTargetState_();n=n||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===o&&this.getRotation()===r&&this.getCenterInternal()&&(0,c.aI)(this.getCenterInternal(),a)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:a,resolution:o,duration:t,easing:f.vT,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(r.A.INTERACTING,1)}endInteraction(t,e,n){n=n&&(0,_.Ad)(n,this.getProjection()),this.endInteractionInternal(t,e,n)}endInteractionInternal(t,e,n){this.getInteracting()&&(this.setHint(r.A.INTERACTING,-1),this.resolveConstraints(t,e,n))}getConstrainedCenter(t,e){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}getConstrainedZoom(t,e){const n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}getConstrainedResolution(t,e){e=e||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}}function k(t,e){setTimeout((function(){t(e)}),0)}function T(t){if(void 0!==t.extent){const e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return u(t.extent,t.constrainOnlyCenter,e)}const e=(0,_.Av)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,u(t,!1,!1)}return h}function b(t){let e,n,i;const r=28,s=2;let o=void 0!==t.minZoom?t.minZoom:C,a=void 0!==t.maxZoom?t.maxZoom:r;const l=void 0!==t.zoomFactor?t.zoomFactor:s,u=void 0!==t.multiWorld&&t.multiWorld,h=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,c=void 0!==t.showFullExtent&&t.showFullExtent,f=(0,_.Av)(t.projection,"EPSG:3857"),g=f.getExtent();let p=t.constrainOnlyCenter,v=t.extent;if(u||v||!f.isGlobal()||(p=!1,v=g),void 0!==t.resolutions){const r=t.resolutions;n=r[o],i=void 0!==r[a]?r[a]:r[r.length-1],e=t.constrainResolution?m(r,h,!p&&v,c):E(n,i,h,!p&&v,c)}else{const u=g?Math.max((0,d.RG)(g),(0,d.Oq)(g)):360*_.Ig.degrees/f.getMetersPerUnit(),y=u/S.R/Math.pow(s,C),m=y/Math.pow(s,r-C);n=t.maxResolution,void 0!==n?o=0:n=y/Math.pow(l,o),i=t.minResolution,void 0===i&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,a):y/Math.pow(l,a):m),a=o+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-o),e=t.constrainResolution?x(l,n,i,h,!p&&v,c):E(n,i,h,!p&&v,c)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:l}}function R(t){const e=void 0===t.enableRotation||t.enableRotation;if(e){const e=t.constrainRotation;return void 0===e||!0===e?(0,w.cq)():!1===e?w.dv:"number"===typeof e?(0,w.a$)(e):w.dv}return w.b8}function A(t){return!(t.sourceCenter&&t.targetCenter&&!(0,c.aI)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function N(t,e,n,i,r){const s=Math.cos(-r);let o=Math.sin(-r),a=t[0]*s-t[1]*o,l=t[1]*s+t[0]*o;a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,o=-o;const u=a*s-l*o,h=l*s+a*o;return[u,h]}var O=I},8727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:function(t,e,n){"use strict";var i=n(616),r=Function.prototype,s=r.apply,o=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(s):function(){return o.apply(s,arguments)})},8750:function(t,e,n){"use strict";var i=n(7080),r=n(4402),s=n(5170),o=n(3789),a=n(8469),l=n(507),u=r.Set,h=r.add,c=r.has;t.exports=function(t){var e=i(this),n=o(t),r=new u;return s(e)>n.size?l(n.getIterator(),(function(t){c(e,t)&&h(r,t)})):a(e,(function(t){n.includes(t)&&h(r,t)})),r}},8763:function(t,e,n){"use strict";n.d(e,{Ay:function(){return W}});n(4114),n(8111),n(1701);var i=n(856),r=n(9020),s=n(3156),o=n(8474),a=n(9078),l=n(7582),u=n(2535),h=n(7444),c=n(9331),f=n(3665),d=n(6320),g=n(3371);class p extends f.Ay{constructor(t,e,n){super(),void 0!==n&&void 0===e?this.setFlatCoordinates(n,t):(e=e||0,this.setCenterAndRadius(t,e,n))}clone(){const t=new p(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){const r=this.flatCoordinates,s=t-r[0],o=e-r[1],a=s*s+o*o;if(a<i){if(0===a)for(let t=0;t<this.stride;++t)n[t]=r[t];else{const t=this.getRadius()/Math.sqrt(a);n[0]=r[0]+t*s,n[1]=r[1]+t*o;for(let e=2;e<this.stride;++e)n[e]=r[e]}return n.length=this.stride,a}return i}containsXY(t,e){const n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){const e=this.flatCoordinates,n=e[this.stride]-e[0];return(0,h.N)(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e}getType(){return"Circle"}intersectsExtent(t){const e=this.getExtent();if((0,h.HY)(t,e)){const e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||(t[1]<=e[1]&&t[3]>=e[1]||(0,h.sB)(t,this.intersectsCoordinate.bind(this)))}return!1}setCenter(t){const e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(let r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()}setCenterAndRadius(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);const i=this.flatCoordinates;let r=(0,d._n)(i,0,t,this.stride);i[r++]=i[0]+e;for(let s=1,o=this.stride;s<o;++s)i[r++]=i[s];i.length=r,this.changed()}getCoordinates(){return null}setCoordinates(t,e){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()}rotate(t,e){const n=this.getCenter(),i=this.getStride();this.setCenter((0,g.e$)(n,0,n.length,i,t,e,n)),this.changed()}}p.prototype.transform;var _=p,v=n(7739),y=n(3496),m=n(8957),x=n(5522),E=n(5258),w=n(8225),S=n(3754),C=n(4453),I=n(5674),k=n(9449),T=n(995),b=n(6505),R=n(5596),A=n(776);const N={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class O extends a.Ay{constructor(t,e){super(t),this.feature=e}}function L(t,e){const n=[];for(let i=0;i<e.length;++i){const r=e[i],s=r.getGeometry();F(t,s,n)}return n}function M(t,e){return(0,I.hG)(t[0],t[1],e[0],e[1])}function P(t,e){const n=t.length;return e<0?t[e+n]:e>=n?t[e-n]:t[e]}function D(t,e,n){let i,r;e<n?(i=e,r=n):(i=n,r=e);const s=Math.ceil(i),o=Math.floor(r);if(s>o){const e=j(t,i),n=j(t,r);return M(e,n)}let a=0;if(i<s){const e=j(t,i),n=P(t,s);a+=M(e,n)}if(o<r){const e=P(t,o),n=j(t,r);a+=M(e,n)}for(let l=s;l<o-1;++l){const e=P(t,l),n=P(t,l+1);a+=M(e,n)}return a}function F(t,e,n){if(e instanceof y.A)Y(t,e.getCoordinates(),!1,n);else if(e instanceof m.A){const i=e.getCoordinates();for(let e=0,r=i.length;e<r;++e)Y(t,i[e],!1,n)}else if(e instanceof S.Ay){const i=e.getCoordinates();for(let e=0,r=i.length;e<r;++e)Y(t,i[e],!0,n)}else if(e instanceof E.A){const i=e.getCoordinates();for(let e=0,r=i.length;e<r;++e){const r=i[e];for(let e=0,i=r.length;e<i;++e)Y(t,r[e],!0,n)}}else if(e instanceof v.A){const i=e.getGeometries();for(let e=0;e<i.length;++e)F(t,i[e],n)}else;}const G={index:-1,endIndex:NaN};function z(t,e,n,i){const r=t[0],s=t[1];let a=1/0,l=-1,u=NaN;for(let o=0;o<e.targets.length;++o){const t=e.targets[o],n=t.coordinates;let i,h=1/0;for(let e=0;e<n.length-1;++e){const t=n[e],o=n[e+1],a=B(r,s,t,o);a.squaredDistance<h&&(h=a.squaredDistance,i=e+a.along)}h<a&&(a=h,t.ring&&e.targetIndex===o&&(t.endIndex>t.startIndex?i<t.startIndex&&(i+=n.length):t.endIndex<t.startIndex&&i>t.startIndex&&(i-=n.length)),u=i,l=o)}const h=e.targets[l];let c=h.ring;if(e.targetIndex===l&&c){const t=j(h.coordinates,u),r=n.getPixelFromCoordinate(t);(0,o.Io)(r,e.startPx)>i&&(c=!1)}if(c){const t=h.coordinates,e=t.length,n=h.startIndex,i=u;if(n<i){const r=D(t,n,i),s=D(t,n,i-e);s<r&&(u-=e)}else{const r=D(t,n,i),s=D(t,n,i+e);s<r&&(u+=e)}}return G.index=l,G.endIndex=u,G}function Y(t,e,n,i){const r=t[0],s=t[1];for(let o=0,a=e.length-1;o<a;++o){const t=e[o],a=e[o+1],l=B(r,s,t,a);if(0===l.squaredDistance){const t=o+l.along;return void i.push({coordinates:e,ring:n,startIndex:t,endIndex:t})}}}const q={along:0,squaredDistance:0};function B(t,e,n,i){const r=n[0],s=n[1],o=i[0],a=i[1],l=o-r,u=a-s;let h=0,c=r,f=s;return 0===l&&0===u||(h=(0,I.qE)(((t-r)*l+(e-s)*u)/(l*l+u*u),0,1),c+=l*h,f+=u*h),q.along=h,q.squaredDistance=(0,I.Mg)((0,I.hG)(t,e,c,f),10),q}function j(t,e){const n=t.length;let i=Math.floor(e);const r=e-i;i>=n?i-=n:i<0&&(i+=n);let s=i+1;s>=n&&(s-=n);const o=t[i],a=o[0],l=o[1],u=t[s],h=u[0]-a,c=u[1]-l;return[a+h*r,l+c*r]}class X extends R.A{constructor(t){const e=t;e.stopDown||(e.stopDown=c.W8),super(e),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=V(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:c.rT,this.geometryLayout_=t.geometryLayout?t.geometryLayout:"XY";let n=t.geometryFunction;if(!n){const t=this.mode_;if("Circle"===t)n=(t,e,n)=>{const i=e||new _([NaN,NaN]),r=(0,k.Ad)(t[0],n),s=(0,o.hG)(r,(0,k.Ad)(t[t.length-1],n));i.setCenterAndRadius(r,Math.sqrt(s),this.geometryLayout_);const a=(0,k.Tf)();return a&&i.transform(n,a),i};else{let e;"Point"===t?e=w.A:"LineString"===t?e=y.A:"Polygon"===t&&(e=S.Ay),n=(n,i,r)=>(i?"Polygon"===t?n[0].length?i.setCoordinates([n[0].concat([n[0][0]])],this.geometryLayout_):i.setCoordinates([],this.geometryLayout_):i.setCoordinates(n,this.geometryLayout_):i=new e(n,this.geometryLayout_),i)}}this.geometryFunction_=n,this.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new C.A({source:new T.A({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:U(),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:u.TS,this.freehandCondition_,t.freehand?this.freehandCondition_=u.Gk:this.freehandCondition_=t.freehandCondition?t.freehandCondition:u.Kg,this.traceCondition_,this.setTrace(t.trace||!1),this.traceState_={active:!1},this.traceSource_=t.traceSource||t.source||null,this.addChangeListener(A.A.ACTIVE,this.updateState_)}setTrace(t){let e;e=t?!0===t?u.Gk:t:u.Zm,this.traceCondition_=e}setMap(t){super.setMap(t),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(t){t.originalEvent.type===l.A.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(t);let e=t.type===s.A.POINTERMOVE,n=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===s.A.POINTERDRAG){const n=Date.now();n-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===s.A.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t.coordinate),n=!1):this.freehand_&&t.type===s.A.POINTERDOWN?n=!1:e&&this.getPointerCount()<2?(n=t.type===s.A.POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):("mouse"===t.originalEvent.pointerType||t.type===s.A.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t)):t.type===s.A.DBLCLICK&&(n=!1),super.handleEvent(t)&&n}handleDownEvent(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((()=>{this.handlePointerMove_(new r.A(s.A.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(t){if(!this.traceSource_||!this.traceCondition_(t))return;if(this.traceState_.active)return void this.deactivateTrace_();const e=this.getMap(),n=e.getCoordinateFromPixel([t.pixel[0]-this.snapTolerance_,t.pixel[1]+this.snapTolerance_]),i=e.getCoordinateFromPixel([t.pixel[0]+this.snapTolerance_,t.pixel[1]-this.snapTolerance_]),r=(0,h.Tr)([n,i]),s=this.traceSource_.getFeaturesInExtent(r);if(0===s.length)return;const o=L(t.coordinate,s);o.length&&(this.traceState_={active:!0,startPx:t.pixel.slice(),targets:o,targetIndex:-1})}addOrRemoveTracedCoordinates_(t,e){const n=t.startIndex<=t.endIndex,i=t.startIndex<=e;n===i?n&&e>t.endIndex||!n&&e<t.endIndex?this.addTracedCoordinates_(t,t.endIndex,e):(n&&e<t.endIndex||!n&&e>t.endIndex)&&this.removeTracedCoordinates_(e,t.endIndex):(this.removeTracedCoordinates_(t.startIndex,t.endIndex),this.addTracedCoordinates_(t,t.startIndex,e))}removeTracedCoordinates_(t,e){if(t===e)return;let n=0;if(t<e){const i=Math.ceil(t);let r=Math.floor(e);r===e&&(r-=1),n=r-i+1}else{const i=Math.floor(t);let r=Math.ceil(e);r===e&&(r+=1),n=i-r+1}n>0&&this.removeLastPoints_(n)}addTracedCoordinates_(t,e,n){if(e===n)return;const i=[];if(e<n){const r=Math.ceil(e);let s=Math.floor(n);s===n&&(s-=1);for(let e=r;e<=s;++e)i.push(P(t.coordinates,e))}else{const r=Math.floor(e);let s=Math.ceil(n);s===n&&(s+=1);for(let e=r;e>=s;--e)i.push(P(t.coordinates,e))}i.length&&this.appendCoordinates(i)}updateTrace_(t){const e=this.traceState_;if(!e.active)return;if(-1===e.targetIndex&&(0,o.Io)(e.startPx,t.pixel)<this.snapTolerance_)return;const n=z(t.coordinate,e,this.getMap(),this.snapTolerance_);if(e.targetIndex!==n.index){if(-1!==e.targetIndex){const t=e.targets[e.targetIndex];this.removeTracedCoordinates_(t.startIndex,t.endIndex)}const t=e.targets[n.index];this.addTracedCoordinates_(t,t.startIndex,n.endIndex)}else{const t=e.targets[e.targetIndex];this.addOrRemoveTracedCoordinates_(t,n.endIndex)}e.targetIndex=n.index;const i=e.targets[e.targetIndex];i.endIndex=n.endIndex;const r=j(i.coordinates,i.endIndex),s=this.getMap().getPixelFromCoordinate(r);t.coordinate=r,t.pixel=[Math.round(s[0]),Math.round(s[1])]}handleUpEvent(t){let e=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);const n=this.traceState_.active;if(this.toggleTraceState_(t),this.shouldHandle_){const i=!this.finishCoordinate_;i&&this.startDrawing_(t.coordinate),!i&&this.freehand_?this.finishDrawing():this.freehand_||i&&"Point"!==this.mode_||(this.atFinish_(t.pixel,n)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing()}return!e&&this.stopClick_&&t.preventDefault(),e}handlePointerMove_(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const e=this.downPx_,n=t.pixel,i=e[0]-n[0],r=e[1]-n[1],s=i*i+r*r;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(t),this.modifyDrawing_(t.coordinate)):this.createOrUpdateSketchPoint_(t.coordinate.slice())}atFinish_(t,e){let n=!1;if(this.sketchFeature_){let i=!1,r=[this.finishCoordinate_];const s=this.mode_;if("Point"===s)n=!0;else if("Circle"===s)n=2===this.sketchCoords_.length;else if("LineString"===s)i=!e&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===s){const t=this.sketchCoords_;i=t[0].length>this.minPoints_,r=[t[0][0],t[0][t[0].length-2]],r=e?[t[0][0]]:[t[0][0],t[0][t[0].length-2]]}if(i){const e=this.getMap();for(let i=0,s=r.length;i<s;i++){const s=r[i],o=e.getPixelFromCoordinate(s),a=t[0]-o[0],l=t[1]-o[1],u=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(a*a+l*l)<=u,n){this.finishCoordinate_=s;break}}}}return n}createOrUpdateSketchPoint_(t){if(this.sketchPoint_){const e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}else this.sketchPoint_=new i.A(new w.A(t)),this.updateSketchFeatures_()}createOrUpdateCustomSketchLine_(t){this.sketchLine_||(this.sketchLine_=new i.A);const e=t.getLinearRing(0);let n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),n.changed()):(n=new y.A(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(n))}startDrawing_(t){const e=this.getMap().getView().getProjection(),n=(0,f.dn)(this.geometryLayout_);while(t.length<n)t.push(0);this.finishCoordinate_=t,"Point"===this.mode_?this.sketchCoords_=t.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new i.A(new y.A(this.sketchLineCoords_)));const r=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new i.A,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new O(N.DRAWSTART,this.sketchFeature_))}modifyDrawing_(t){const e=this.getMap(),n=this.sketchFeature_.getGeometry(),i=e.getView().getProjection(),r=(0,f.dn)(this.geometryLayout_);let s,o;while(t.length<r)t.push(0);if("Point"===this.mode_?o=this.sketchCoords_:"Polygon"===this.mode_?(s=this.sketchCoords_[0],o=s[s.length-1],this.atFinish_(e.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(s=this.sketchCoords_,o=s[s.length-1]),o[0]=t[0],o[1]=t[1],this.geometryFunction_(this.sketchCoords_,n,i),this.sketchPoint_){const e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}if("Polygon"===n.getType()&&"Polygon"!==this.mode_)this.createOrUpdateCustomSketchLine_(n);else if(this.sketchLineCoords_){const t=this.sketchLine_.getGeometry();t.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()}addToDrawing_(t){const e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection();let i,r;const s=this.mode_;return"LineString"===s||"Circle"===s?(this.finishCoordinate_=t.slice(),r=this.sketchCoords_,r.length>=this.maxPoints_&&(this.freehand_?r.pop():i=!0),r.push(t.slice()),this.geometryFunction_(r,e,n)):"Polygon"===s&&(r=this.sketchCoords_[0],r.length>=this.maxPoints_&&(this.freehand_?r.pop():i=!0),r.push(t.slice()),i&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,e,n)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),i?this.finishDrawing():this.sketchFeature_}removeLastPoints_(t){if(!this.sketchFeature_)return;const e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),i=this.mode_;for(let r=0;r<t;++r){let t;if("LineString"===i||"Circle"===i){if(t=this.sketchCoords_,t.splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();const e=this.finishCoordinate_.slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}this.geometryFunction_(t,e,n),"Polygon"===e.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if("Polygon"===i){t=this.sketchCoords_[0],t.splice(-2,1);const i=this.sketchLine_.getGeometry();if(t.length>=2){const e=t[t.length-2].slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}i.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,n)}if(1===t.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const t=this.abortDrawing_();if(!t)return null;let e=this.sketchCoords_;const n=t.getGeometry(),i=this.getMap().getView().getProjection();return"LineString"===this.mode_?(e.pop(),this.geometryFunction_(e,n,i)):"Polygon"===this.mode_&&(e[0].pop(),this.geometryFunction_(e,n,i),e=n.getCoordinates()),"MultiPoint"===this.type_?t.setGeometry(new x.A([e])):"MultiLineString"===this.type_?t.setGeometry(new m.A([e])):"MultiPolygon"===this.type_&&t.setGeometry(new E.A([e])),this.dispatchEvent(new O(N.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t),t}abortDrawing_(){this.finishCoordinate_=null;const t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),t}abortDrawing(){const t=this.abortDrawing_();t&&this.dispatchEvent(new O(N.DRAWABORT,t))}appendCoordinates(t){const e=this.mode_,n=!this.sketchFeature_;let i;if(n&&this.startDrawing_(t[0]),"LineString"===e||"Circle"===e)i=this.sketchCoords_;else{if("Polygon"!==e)return;i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}n&&i.shift(),i.pop();for(let s=0;s<t.length;s++)this.addToDrawing_(t[s]);const r=t[t.length-1];this.sketchFeature_=this.addToDrawing_(r),this.modifyDrawing_(r)}extend(t){const e=t.getGeometry(),n=e;this.sketchFeature_=t,this.sketchCoords_=n.getCoordinates();const r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.sketchPoint_=new i.A(new w.A(r)),this.updateSketchFeatures_(),this.dispatchEvent(new O(N.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);const e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)}updateState_(){const t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)}}function U(){const t=(0,b.mY)();return function(e,n){return t[e.getGeometry().getType()]}}function V(t){switch(t){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+t)}}var W=X},8773:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},8868:function(t,e,n){"use strict";n.d(e,{A:function(){return xt}});n(4114),n(8111),n(7588);var i=n(3844),r=n(2686),s=n(9020),o=n(3156),a=n(7582),l=n(9357),u=n(8965),h=n(502),c={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class f extends l.A{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===e?1:e,this.down_=null;const n=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=n,this.pointerdownListenerKey_=(0,u.KT)(n,c.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=(0,u.KT)(n,c.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(a.A.TOUCHMOVE,this.boundHandleTouchMove_,!!h.FT&&{passive:!1})}emulateClick_(t){let e=new s.A(o.A.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new s.A(o.A.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;const e=new s.A(o.A.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}),250)}updateActivePointers_(t){const e=t,n=e.pointerId;if(e.type==o.A.POINTERUP||e.type==o.A.POINTERCANCEL){delete this.trackedTouches_[n];for(const t in this.trackedTouches_)if(this.trackedTouches_[t].target!==e.target){delete this.trackedTouches_[t];break}}else e.type!=o.A.POINTERDOWN&&e.type!=o.A.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new s.A(o.A.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(u.JH),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const e=new s.A(o.A.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){const t=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,u.KT)(t,o.A.POINTERMOVE,this.handlePointerMove_,this),(0,u.KT)(t,o.A.POINTERUP,this.handlePointerUp_,this),(0,u.KT)(this.element_,o.A.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push((0,u.KT)(this.element_.getRootNode(),o.A.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new s.A(o.A.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new s.A(o.A.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"===typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,u.JH)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(a.A.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,u.JH)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(u.JH),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}var d=f,g=n(14),p={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},_={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},v=n(1611),y=n(6555),m=n(9611),x=n(1097),E=n(6811);const w=1/0;class S{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,E.I)(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const i=this.keyFunction_(n);return delete this.queuedElements_[i],n}enqueue(t){(0,x.v)(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const e=this.priorityFunction_(t);return e!=w&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,n=this.priorities_,i=e.length,r=e[t],s=n[t],o=t;while(t<i>>1){const r=this.getLeftChildIndex_(t),s=this.getRightChildIndex_(t),o=s<i&&n[s]<n[r]?s:r;e[t]=e[o],n[t]=n[o],t=o}e[t]=r,n[t]=s,this.siftDown_(o,t)}siftDown_(t,e){const n=this.elements_,i=this.priorities_,r=n[e],s=i[e];while(e>t){const t=this.getParentIndex_(e);if(!(i[t]>s))break;n[e]=n[t],i[e]=i[t],e=t}n[e]=r,i[e]=s}reprioritize(){const t=this.priorityFunction_,e=this.elements_,n=this.priorities_;let i=0;const r=e.length;let s,o,a;for(o=0;o<r;++o)s=e[o],a=t(s),a==w?delete this.queuedElements_[this.keyFunction_(s)]:(n[i]=a,e[i++]=s);e.length=i,n.length=i,this.heapify_()}}var C=S;class I extends C{constructor(t,e){super((e=>t.apply(null,e)),(t=>t[0].getKey())),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);if(e){const e=t[0];e.addEventListener(a.A.CHANGE,this.boundHandleTileChange_)}return e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,n=e.getState();if(n===m.A.LOADED||n===m.A.ERROR||n===m.A.EMPTY){n!==m.A.ERROR&&e.removeEventListener(a.A.CHANGE,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let n=0;while(this.tilesLoading_<t&&n<e&&this.getCount()>0){const t=this.dequeue()[0],e=t.getKey(),i=t.getState();i!==m.A.IDLE||e in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[e]=!0,++this.tilesLoading_,++n,t.load())}}}var k=I;function T(t,e,n,i,r){if(!t||!(n in t.wantedTiles))return w;if(!t.wantedTiles[n][e.getKey()])return w;const s=t.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}var b=n(8699),R=n(6940),A=n(3851),N=n(2155),O=(n(531),n(1701),n(3579),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(4109)),L=n(7334),M=n(9331);class P extends v.A{constructor(t){super();const e=t.element;!e||t.target||e.style.pointerEvents||(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&this.element?.remove();for(let e=0,n=this.listenerKeys.length;e<n;++e)(0,u.JH)(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=t,t){const e=this.target_??t.getOverlayContainerStopEvent();this.element&&e.appendChild(this.element),this.render!==M.tV&&this.listenerKeys.push((0,u.KT)(t,p.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_="string"===typeof t?document.getElementById(t):t}}var D=P;class F extends D{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",i=void 0!==t.expandClassName?t.expandClassName:e+"-expand",r=void 0!==t.collapseLabel?t.collapseLabel:"âº",s=void 0!==t.collapseClassName?t.collapseClassName:e+"-collapse";"string"===typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=s):this.collapseLabel_=r;const o=void 0!==t.label?t.label:"i";"string"===typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=i):this.label_=o;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(a.A.CLICK,this.handleClick_.bind(this),!1);const u=e+" "+O.XI+" "+O.$N+(this.collapsed_&&this.collapsible_?" "+O.nT:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=u,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e=this.getMap().getAllLayers(),n=new Set(e.flatMap((e=>e.getAttributions(t))));if(void 0!==this.attributions_&&(Array.isArray(this.attributions_)?this.attributions_.forEach((t=>n.add(t))):n.add(this.attributions_)),!this.overrideCollapsible_){const t=!e.some((t=>!1===t.getSource()?.getAttributionsCollapsible()));this.setCollapsible(t)}return Array.from(n)}async updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const e=await Promise.all(this.collectSourceAttributions_(t).map((t=>(0,M.hq)((()=>t))))),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,A.aI)(e,this.renderedAttributions_)){(0,L.gS)(this.ulElement_);for(let t=0,n=e.length;t<n;++t){const n=document.createElement("li");n.innerHTML=e[t],this.ulElement_.appendChild(n)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(O.nT),this.collapsed_?(0,L.fo)(this.collapseLabel_,this.label_):(0,L.fo)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}var G=F,z=n(8409);class Y extends D{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"â§",i=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"===typeof n?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(i));const r=t.tipLabel?t.tipLabel:"Reset rotation",s=document.createElement("button");s.className=e+"-reset",s.setAttribute("type","button"),s.title=r,s.appendChild(this.label_),s.addEventListener(a.A.CLICK,this.handleClick_.bind(this),!1);const o=e+" "+O.XI+" "+O.$N,l=this.element;l.className=o,l.appendChild(s),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(O.Si)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap(),e=t.getView();if(!e)return;const n=e.getRotation();void 0!==n&&(this.duration_>0&&n%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:z.vT}):e.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const n=e.viewState.rotation;if(n!=this.rotation_){const t="rotate("+n+"rad)";if(this.autoHide_){const t=this.element.classList.contains(O.Si);t||0!==n?t&&0!==n&&this.element.classList.remove(O.Si):this.element.classList.add(O.Si)}this.label_.style.transform=t}this.rotation_=n}}var q=Y;class B extends D{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,i=void 0!==t.zoomInClassName?t.zoomInClassName:e+"-in",r=void 0!==t.zoomOutClassName?t.zoomOutClassName:e+"-out",s=void 0!==t.zoomInLabel?t.zoomInLabel:"+",o=void 0!==t.zoomOutLabel?t.zoomOutLabel:"â",l=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",u=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=i,h.setAttribute("type","button"),h.title=l,h.appendChild("string"===typeof s?document.createTextNode(s):s),h.addEventListener(a.A.CLICK,this.handleClick_.bind(this,n),!1);const c=document.createElement("button");c.className=r,c.setAttribute("type","button"),c.title=u,c.appendChild("string"===typeof o?document.createTextNode(o):o),c.addEventListener(a.A.CLICK,this.handleClick_.bind(this,-n),!1);const f=e+" "+O.XI+" "+O.$N,d=this.element;d.className=f,d.appendChild(h),d.appendChild(c),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const e=this.getMap(),n=e.getView();if(!n)return;const i=n.getZoom();if(void 0!==i){const e=n.getConstrainedZoom(i+t);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:e,duration:this.duration_,easing:z.vT})):n.setZoom(e)}}}var j=B;function X(t){t=t||{};const e=new i.A,n=void 0===t.zoom||t.zoom;n&&e.push(new j(t.zoomOptions));const r=void 0===t.rotate||t.rotate;r&&e.push(new q(t.rotateOptions));const s=void 0===t.attribution||t.attribution;return s&&e.push(new G(t.attributionOptions)),e}var U=n(7444),V=n(4190),W=n(9078),K=n(5752),H=n(9855);class $ extends W.Ay{constructor(t,e){super(t),this.layer=e}}const Z={LAYERS:"layers"};class J extends H.A{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Z.LAYERS,this.handleLayersChanged_),n?Array.isArray(n)?n=new i.A(n.slice(),{unique:!0}):(0,x.v)("function"===typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new i.A(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(u.JH),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push((0,u.KT)(t,r.A.ADD,this.handleLayersAdd_,this),(0,u.KT)(t,r.A.REMOVE,this.handleLayersRemove_,this));for(const n in this.listenerKeys_)this.listenerKeys_[n].forEach(u.JH);(0,E.I)(this.listenerKeys_);const e=t.getArray();for(let n=0,i=e.length;n<i;n++){const t=e[n];this.registerLayerListeners_(t),this.dispatchEvent(new $("addlayer",t))}this.changed()}registerLayerListeners_(t){const e=[(0,u.KT)(t,y.A.PROPERTYCHANGE,this.handleLayerChange_,this),(0,u.KT)(t,a.A.CHANGE,this.handleLayerChange_,this)];t instanceof J&&e.push((0,u.KT)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,u.KT)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,K.v6)(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new $("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new $("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new $("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,n=(0,K.v6)(e);this.listenerKeys_[n].forEach(u.JH),delete this.listenerKeys_[n],this.dispatchEvent(new $("removelayer",e)),this.changed()}getLayers(){return this.get(Z.LAYERS)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let e=0,n=t.length;e<n;++e)this.dispatchEvent(new $("removelayer",t[e]))}this.set(Z.LAYERS,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const i=this.getLayerState();let r=i.zIndex;t||void 0!==i.zIndex||(r=0);for(let s=n,o=e.length;s<o;s++){const t=e[s];t.opacity*=i.opacity,t.visible=t.visible&&i.visible,t.maxResolution=Math.min(t.maxResolution,i.maxResolution),t.minResolution=Math.max(t.minResolution,i.minResolution),t.minZoom=Math.max(t.minZoom,i.minZoom),t.maxZoom=Math.min(t.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==t.extent?t.extent=(0,U._N)(t.extent,i.extent):t.extent=i.extent),void 0===t.zIndex&&(t.zIndex=r)}return e}getSourceState(){return"ready"}}var Q=J,tt=n(2425),et=n(9449),nt=n(3707),it=n(3998),rt=n(6355),st=n(8911),ot=n(8646),at=n(8474),lt=n(1382),ut=n(1194);class ht extends ot.A{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){(0,K.b0)()}calculateMatrices2D(t){const e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;(0,ut.Zz)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,ut.T9)(i,n)}forEachFeatureAtCoordinate(t,e,n,i,r,s,o,a){let l;const u=e.viewState;function h(t,e,n,i){return r.call(s,e,t?n:null,i)}const c=u.projection,f=(0,at.Li)(t.slice(),c),d=[[0,0]];if(c.canWrapX()&&i){const t=c.getExtent(),e=(0,U.RG)(t);d.push([-e,0],[e,0])}const g=e.layerStatesArray,p=g.length,_=[],v=[];for(let m=0;m<d.length;m++)for(let i=p-1;i>=0;--i){const r=g[i],s=r.layer;if(s.hasRenderer()&&(0,tt.l)(r,u)&&o.call(a,s)){const i=s.getRenderer(),o=s.getSource();if(i&&o){const s=o.getWrapX()?f:t,a=h.bind(null,r.managed);v[0]=s[0]+d[m][0],v[1]=s[1]+d[m][1],l=i.forEachFeatureAtCoordinate(v,e,n,a,_)}if(l)return l}}if(0===_.length)return;const y=1/_.length;return _.forEach(((t,e)=>t.distanceSq+=e*y)),_.sort(((t,e)=>t.distanceSq-e.distanceSq)),_.some((t=>l=t.callback(t.feature,t.layer,t.geometry))),l}hasFeatureAtCoordinate(t,e,n,i,r,s){const o=this.forEachFeatureAtCoordinate(t,e,n,i,M.rT,this,r,s);return void 0!==o}getMap(){return this.map_}renderFrame(t){(0,K.b0)()}scheduleExpireIconCache(t){lt.ue.canExpireCache()&&t.postRenderFunctions.push(ct)}}function ct(t,e){lt.ue.expire()}var ft=ht;class dt extends ft{constructor(t){super(t),this.fontChangeListenerKey_=(0,u.KT)(st.yY,y.A.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=O.XI+" ol-layers";const n=t.getViewport();n.insertBefore(this.element_,n.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const n=this.getMap();if(n.hasListener(t)){const i=new rt.A(t,void 0,e);n.dispatchEvent(i)}}disposeInternal(){(0,u.JH)(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(nt.A.PRECOMPOSE,t);const e=t.layerStatesArray.sort(((t,e)=>t.zIndex-e.zIndex)),n=e.some((t=>t.layer instanceof it.A&&t.layer.getDeclutter()));n&&(t.declutter={});const i=t.viewState;this.children_.length=0;const r=[];let s=null;for(let o=0,a=e.length;o<a;++o){const n=e[o];t.layerIndex=o;const a=n.layer,l=a.getSourceState();if(!(0,tt.l)(n,i)||"ready"!=l&&"undefined"!=l){a.unrender();continue}const u=a.render(t,s);u&&(u!==s&&(this.children_.push(u),s=u),r.push(n))}this.declutter(t,r),(0,L.WM)(this.element_,this.children_),this.dispatchRenderEvent(nt.A.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,e){if(t.declutter){for(let n=e.length-1;n>=0;--n){const i=e[n],r=i.layer;r.getDeclutter()&&r.renderDeclutter(t,i)}e.forEach((e=>e.layer.renderDeferred(t)))}}}var gt=dt,pt=n(5689);function _t(t){t instanceof tt.A?t.setMapInternal(null):t instanceof Q&&t.getLayers().forEach(_t)}function vt(t,e){if(t instanceof tt.A)t.setMapInternal(e);else if(t instanceof Q){const n=t.getLayers().getArray();for(let t=0,i=n.length;t<i;++t)vt(n[t],e)}}class yt extends v.A{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=mt(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:h.cr,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=(0,ut.vt)(),this.pixelToCoordinateTransform_=(0,ut.vt)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=e.controls||X(),this.interactions=e.interactions||(0,V.N)({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new k(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(_.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(_.VIEW,this.handleViewChanged_),this.addChangeListener(_.SIZE,this.handleSizeChanged_),this.addChangeListener(_.TARGET,this.handleTargetChanged_),this.setProperties(e.values);const n=this;!t.view||t.view instanceof b.Ay||t.view.then((function(t){n.setView(new b.Ay(t))})),this.controls.addEventListener(r.A.ADD,(t=>{t.element.setMap(this)})),this.controls.addEventListener(r.A.REMOVE,(t=>{t.element.setMap(null)})),this.interactions.addEventListener(r.A.ADD,(t=>{t.element.setMap(this)})),this.interactions.addEventListener(r.A.REMOVE,(t=>{t.element.setMap(null)})),this.overlays_.addEventListener(r.A.ADD,(t=>{this.addOverlayInternal_(t.element)})),this.overlays_.addEventListener(r.A.REMOVE,(t=>{const e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)})),this.controls.forEach((t=>{t.setMap(this)})),this.interactions.forEach((t=>{t.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){const e=this.getLayerGroup().getLayers();e.push(t)}handleLayerAdd_(t){vt(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,n){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(t);n=void 0!==n?n:{};const r=void 0!==n.hitTolerance?n.hitTolerance:0,s=void 0!==n.layerFilter?n.layerFilter:M.rT,o=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,o,e,null,s,null)}getFeaturesAtPixel(t,e){const n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n}getAllLayers(){const t=[];function e(n){n.forEach((function(n){n instanceof Q?e(n.getLayers()):t.push(n)}))}return e(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const n=this.getCoordinateFromPixelInternal(t);e=void 0!==e?e:{};const i=void 0!==e.layerFilter?e.layerFilter:M.rT,r=void 0!==e.hitTolerance?e.hitTolerance:0,s=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,s,i,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const e=this.viewport_,n=e.getBoundingClientRect(),i=this.getSize(),r=n.width/i[0],s=n.height/i[1],o="changedTouches"in t?t.changedTouches[0]:t;return[(o.clientX-n.left)/r,(o.clientY-n.top)/s]}getTarget(){return this.get(_.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return(0,et.te)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?(0,ut.Bb)(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(_.LAYERGROUP)}setLayers(t){const e=this.getLayerGroup();if(t instanceof i.A)return void e.setLayers(t);const n=e.getLayers();n.clear(),n.extend(t)}getLayers(){const t=this.getLayerGroup().getLayers();return t}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e];if(!n.visible)continue;const i=n.layer.getRenderer();if(i&&!i.ready)return!0;const r=n.layer.getSource();if(r&&r.loading)return!0}return!1}getPixelFromCoordinate(t){const e=(0,et.Ad)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?(0,ut.Bb)(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(_.SIZE)}getView(){return this.get(_.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,n,i){return T(this.frameState_,t,e,n,i)}handleBrowserEvent(t,e){e=e||t.type;const n=new s.A(e,this,t);this.handleMapBrowserEvent(n)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,n=e.type;if(n===c.POINTERDOWN||n===a.A.WHEEL||n===a.A.KEYDOWN){const t=this.getOwnerDocument(),n=this.viewport_.getRootNode?this.viewport_.getRootNode():t,i=e.target,r=n instanceof ShadowRoot?n.host===i?n.host.ownerDocument:n:n===t?t.documentElement:n;if(this.overlayContainerStopEvent_.contains(i)||!r.contains(i))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const e=this.getInteractions().getArray().slice();for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.getMap()!==this||!i.getActive()||!this.getTargetElement())continue;const r=i.handleEvent(t);if(!r||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let n=this.maxTilesLoading_,i=n;if(t){const e=t.viewHints;if(e[R.A.ANIMATING]||e[R.A.INTERACTING]){const e=Date.now()-t.time>8;n=e?0:8,i=e?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(nt.A.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(nt.A.RENDERCOMPLETE,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new g.A(p.LOADEND,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new g.A(p.LOADSTART,this,t))));const n=this.postRenderFunctions_;if(t)for(let i=0,r=n.length;i<r;++i)n[i](this,t);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)(0,u.JH)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(a.A.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(a.A.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const t=this.targetElement_.getRootNode();t instanceof ShadowRoot&&this.resizeObserver_.unobserve(t.host),this.setSize(void 0)}const t=this.getTarget(),e="string"===typeof t?document.getElementById(t):t;if(this.targetElement_=e,e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new gt(this)),this.mapBrowserEventHandler_=new d(this,this.moveTolerance_);for(const e in o.A)this.mapBrowserEventHandler_.addEventListener(o.A[e],this.handleMapBrowserEvent.bind(this));let t;if(this.viewport_.addEventListener(a.A.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(a.A.WHEEL,this.boundHandleBrowserEvent_,!!h.FT&&{passive:!1}),this.keyboardEventTarget_)t=this.keyboardEventTarget_;else{const n=e.getRootNode(),i=n instanceof ShadowRoot?n.host:e;t=i}this.targetChangeHandlerKeys_=[(0,u.KT)(t,a.A.KEYDOWN,this.handleBrowserEvent,this),(0,u.KT)(t,a.A.KEYPRESS,this.handleBrowserEvent,this)];const n=e.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(e)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,u.JH)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,u.JH)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=(0,u.KT)(t,y.A.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,u.KT)(t,a.A.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(u.JH),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new $("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,u.KT)(t,y.A.PROPERTYCHANGE,this.render,this),(0,u.KT)(t,a.A.CHANGE,this.render,this),(0,u.KT)(t,"addlayer",this.handleLayerAdd_,this),(0,u.KT)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,n=t.length;e<n;++e){const n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){const e=this.getLayerGroup().getLayers();return e.remove(t)}handleLayerRemove_(t){_t(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),n=this.getView(),i=this.frameState_;let r=null;if(void 0!==e&&(0,pt.Ie)(e)&&n&&n.isDef()){const i=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=n.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:(0,U.Bg)(s.center,s.resolution,s.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:i,wantedTiles:{},mapId:(0,K.v6)(this),renderTargets:{}},s.nextCenter&&s.nextResolution){const t=isNaN(s.nextRotation)?s.rotation:s.nextRotation;r.nextExtent=(0,U.Bg)(s.nextCenter,s.nextResolution,t,e)}}if(this.frameState_=r,this.renderer_.renderFrame(r),r){if(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),i){const t=!this.previousExtent_||!(0,U.Im)(this.previousExtent_)&&!(0,U.aI)(r.extent,this.previousExtent_);t&&(this.dispatchEvent(new g.A(p.MOVESTART,this,i)),this.previousExtent_=(0,U.aZ)(this.previousExtent_))}const t=this.previousExtent_&&!r.viewHints[R.A.ANIMATING]&&!r.viewHints[R.A.INTERACTING]&&!(0,U.aI)(r.extent,this.previousExtent_);t&&(this.dispatchEvent(new g.A(p.MOVEEND,this,r)),(0,U.o8)(r.extent,this.previousExtent_))}this.dispatchEvent(new g.A(p.POSTRENDER,this,r)),this.renderComplete_=(this.hasListener(p.LOADSTART)||this.hasListener(p.LOADEND)||this.hasListener(nt.A.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new $("removelayer",e)),this.set(_.LAYERGROUP,t)}setSize(t){this.set(_.SIZE,t)}setTarget(t){this.set(_.TARGET,t)}setView(t){if(!t||t instanceof b.Ay)return void this.set(_.VIEW,t);this.set(_.VIEW,new b.Ay);const e=this;t.then((function(t){e.setView(new b.Ay(t))}))}updateSize(){const t=this.getTargetElement();let e;if(t){const n=getComputedStyle(t),i=t.offsetWidth-parseFloat(n["borderLeftWidth"])-parseFloat(n["paddingLeft"])-parseFloat(n["paddingRight"])-parseFloat(n["borderRightWidth"]),r=t.offsetHeight-parseFloat(n["borderTopWidth"])-parseFloat(n["paddingTop"])-parseFloat(n["paddingBottom"])-parseFloat(n["borderBottomWidth"]);isNaN(i)||isNaN(r)||(e=[Math.max(0,i),Math.max(0,r)],!(0,pt.Ie)(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&(0,N.R8)("No map visible because the map container's width or height are 0."))}const n=this.getSize();!e||n&&(0,A.aI)(e,n)||(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(t){const e=this.getView();e&&e.setViewportSize(t)}}function mt(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new Q({layers:t.layers});let s,o,a;return n[_.LAYERGROUP]=r,n[_.TARGET]=t.target,n[_.VIEW]=t.view instanceof b.Ay?t.view:new b.Ay,void 0!==t.controls&&(Array.isArray(t.controls)?s=new i.A(t.controls.slice()):((0,x.v)("function"===typeof t.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),s=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new i.A(t.interactions.slice()):((0,x.v)("function"===typeof t.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?a=new i.A(t.overlays.slice()):((0,x.v)("function"===typeof t.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),a=t.overlays):a=new i.A,{controls:s,interactions:o,keyboardEventTarget:e,overlays:a,values:n}}var xt=yt},8886:function(t,e,n){"use strict";n.d(e,{J:function(){return f}});var i=n(2299),r=n(1410),s=n(713),o=n(7334),a=n(7582),l=n(9357),u=n(1382);let h=null;class c extends l.A{constructor(t,e,n,i,s){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=n,this.canvas_={},this.color_=s,this.imageState_=void 0===i?r.A.IDLE:i,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=e,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===r.A.LOADED){h||(h=(0,o.Y)(1,1,void 0,{willReadFrequently:!0})),h.drawImage(this.image_,0,0);try{h.getImageData(0,0,1,1),this.tainted_=!1}catch{h=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(a.A.CHANGE)}handleImageError_(){this.imageState_=r.A.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=r.A.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],n=(0,o.Y)(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===r.A.IDLE){this.image_||this.initializeImage_(),this.imageState_=r.A.LOADING;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&(0,i.RA)(this.image_,this.src_).then((t=>{this.image_=t,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==r.A.LOADED)return;const e=this.image_,n=(0,o.Y)(Math.ceil(e.width*t),Math.ceil(e.height*t)),i=n.canvas;n.scale(t,t),n.drawImage(e,0,0),n.globalCompositeOperation="multiply",n.fillStyle=(0,s.oJ)(this.color_),n.fillRect(0,0,i.width/t,i.height/t),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),this.canvas_[t]=i}ready(){return this.ready_||(this.ready_=new Promise((t=>{if(this.imageState_===r.A.LOADED||this.imageState_===r.A.ERROR)t();else{const e=()=>{this.imageState_!==r.A.LOADED&&this.imageState_!==r.A.ERROR||(this.removeEventListener(a.A.CHANGE,e),t())};this.addEventListener(a.A.CHANGE,e)}}))),this.ready_}}function f(t,e,n,i,r,s){let o=void 0===e?void 0:u.ue.get(e,n,r);return o||(o=new c(t,t&&"src"in t?t.src||void 0:e,n,i,r),u.ue.set(e,n,r,o,s)),s&&o&&!u.ue.getPattern(e,n,r)&&u.ue.set(e,n,r,o,s),o}e.A=c},8911:function(t,e,n){"use strict";n.d(e,{Jw:function(){return A},M8:function(){return v},MY:function(){return _},NT:function(){return p},Oq:function(){return c},TA:function(){return b},Tq:function(){return y},ZV:function(){return l},_K:function(){return d},_m:function(){return h},aq:function(){return m},eL:function(){return g},fZ:function(){return C},jT:function(){return R},qY:function(){return u},vk:function(){return f},yY:function(){return x}});n(4114),n(8111),n(8237);var i=n(1611),r=n(4109),s=n(7334),o=n(502),a=n(6811);const l="10px sans-serif",u="#000",h="round",c=[],f=0,d="round",g=10,p="#000",_="center",v="middle",y=[0,0,0,0],m=1,x=new i.A;let E,w=null;const S={},C=function(){const t=100,e="32px ",n=["monospace","serif"],i=n.length,s="wmytzilWMYTZIL@#/&?$%10ï";let o,l;function u(t,r,o){let a=!0;for(let u=0;u<i;++u){const i=n[u];if(l=T(t+" "+r+" "+e+i,s),o!=i){const n=T(t+" "+r+" "+e+o+","+i,s);a=a&&n!=l}}return!!a}function h(){let e=!0;const n=x.getKeys();for(let i=0,r=n.length;i<r;++i){const r=n[i];if(x.get(r)<t){const[n,i,s]=r.split("\n");u(n,i,s)?((0,a.I)(S),w=null,E=void 0,x.set(r,t)):(x.set(r,x.get(r)+1,!0),e=!1)}}e&&(clearInterval(o),o=void 0)}return function(e){const n=(0,r.K5)(e);if(!n)return;const i=n.families;for(let r=0,s=i.length;r<s;++r){const e=i[r],s=n.style+"\n"+n.weight+"\n"+e;void 0===x.get(s)&&(x.set(s,t,!0),u(n.style,n.weight,e)||(x.set(s,0,!0),void 0===o&&(o=setInterval(h,32))))}}}(),I=function(){let t;return function(e){let n=S[e];if(void 0==n){if(o.Wl){const t=(0,r.K5)(e),i=k(e,"Å½g"),s=isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight);n=s*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);S[e]=n}return n}}();function k(t,e){return w||(w=(0,s.Y)(1,1)),t!=E&&(w.font=t,E=w.font),w.measureText(e)}function T(t,e){return k(t,e).width}function b(t,e,n){if(e in n)return n[e];const i=e.split("\n").reduce(((e,n)=>Math.max(e,T(t,n))),0);return n[e]=i,i}function R(t,e){const n=[],i=[],r=[];let s=0,o=0,a=0,l=0;for(let u=0,h=e.length;u<=h;u+=2){const c=e[u];if("\n"===c||u===h){s=Math.max(s,o),r.push(o),o=0,a+=l,l=0;continue}const f=e[u+1]||t.font,d=T(f,c);n.push(d),o+=d;const g=I(f);i.push(g),l=Math.max(l,g)}return{width:s,height:a,widths:n,heights:i,lineWidths:r}}function A(t,e,n,i,r,s,o,a,l,u,h){t.save(),1!==n&&(void 0===t.globalAlpha?t.globalAlpha=t=>t.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,u),t.scale(h[0],h[1]),N(i,t)):h[0]<0||h[1]<0?(t.translate(l,u),t.scale(h[0],h[1]),t.drawImage(i,r,s,o,a,0,0,o,a)):t.drawImage(i,r,s,o,a,l,u,o*h[0],a*h[1]),t.restore()}function N(t,e){const n=t.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}},8957:function(t,e,n){"use strict";n(4114);var i=n(3851),r=n(7444),s=n(3496),o=n(3665),a=n(6072),l=n(6320),u=n(4476),h=n(5572),c=n(1814),f=n(5907),d=n(3344);class g extends o.Ay{constructor(t,e,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(void 0!==e&&n)this.setFlatCoordinates(e,t),this.ends_=n;else{const e=t,n=[],r=[];for(let t=0,o=e.length;t<o;++t){const s=e[t];(0,i.X$)(n,s.getFlatCoordinates()),r.push(n.length)}const s=0===e.length?this.getLayout():e[0].getLayout();this.setFlatCoordinates(s,n),this.ends_=r}}appendLineString(t){(0,i.X$)(this.flatCoordinates,t.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new g(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<(0,r.Ld)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,a.HX)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,a.oW)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))}getCoordinateAtM(t,e,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(e=void 0!==e&&e,n=void 0!==n&&n,(0,h.L8)(this.flatCoordinates,0,this.ends_,this.stride,t,e,n))}getCoordinates(){return(0,u.cD)(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new s.A(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[];let r=0;for(let o=0,a=e.length;o<a;++o){const a=e[o],l=new s.A(t.slice(r,a),n);i.push(l),r=a}return i}getLength(){const t=this.ends_;let e=0,n=0;for(let i=0,r=t.length;i<r;++i)n+=(0,f.k)(this.flatCoordinates,e,t[i],this.stride),e=t[i];return n}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let n=0;const r=this.ends_,s=this.stride;for(let o=0,a=r.length;o<a;++o){const a=r[o],l=(0,h.SH)(e,n,a,s,.5);(0,i.X$)(t,l),n=a}return t}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=(0,d.AL)(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n),new g(e,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(t){return(0,c.fB)(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=(0,l.KG)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}e.A=g},8965:function(t,e,n){"use strict";n.d(e,{JH:function(){return o},Jz:function(){return s},KT:function(){return r}});var i=n(6811);function r(t,e,n,i,r){if(r){const r=n;n=function(s){return t.removeEventListener(e,n),r.call(i??this,s)}}else i&&i!==t&&(n=n.bind(i));const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function s(t,e,n,i){return r(t,e,n,i,!0)}function o(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,i.I)(t))}},8981:function(t,e,n){"use strict";var i=n(7750),r=Object;t.exports=function(t){return r(i(t))}},8994:function(t,e,n){"use strict";n.d(e,{L:function(){return i},R:function(){return r}});const i=42,r=256},9020:function(t,e,n){"use strict";n(8111),n(1701);var i=n(14);class r extends i.A{constructor(t,e,n,i,r,s){super(t,e,r),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}e.A=r},9039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},9078:function(t,e,n){"use strict";class i{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}e.Ay=i},9225:function(t,e,n){"use strict";var i,r,s,o,a=n(4576),l=n(8745),u=n(6080),h=n(4901),c=n(9297),f=n(9039),d=n(397),g=n(7680),p=n(4055),_=n(2812),v=n(9544),y=n(6193),m=a.setImmediate,x=a.clearImmediate,E=a.process,w=a.Dispatch,S=a.Function,C=a.MessageChannel,I=a.String,k=0,T={},b="onreadystatechange";f((function(){i=a.location}));var R=function(t){if(c(T,t)){var e=T[t];delete T[t],e()}},A=function(t){return function(){R(t)}},N=function(t){R(t.data)},O=function(t){a.postMessage(I(t),i.protocol+"//"+i.host)};m&&x||(m=function(t){_(arguments.length,1);var e=h(t)?t:S(t),n=g(arguments,1);return T[++k]=function(){l(e,void 0,n)},r(k),k},x=function(t){delete T[t]},y?r=function(t){E.nextTick(A(t))}:w&&w.now?r=function(t){w.now(A(t))}:C&&!v?(s=new C,o=s.port2,s.port1.onmessage=N,r=u(o.postMessage,o)):a.addEventListener&&h(a.postMessage)&&!a.importScripts&&i&&"file:"!==i.protocol&&!f(O)?(r=O,a.addEventListener("message",N,!1)):r=b in p("script")?function(t){d.appendChild(p("script"))[b]=function(){d.removeChild(this),R(t)}}:function(t){setTimeout(A(t),0)}),t.exports={set:m,clear:x}},9286:function(t,e,n){"use strict";var i=n(4402),r=n(8469),s=i.Set,o=i.add;t.exports=function(t){var e=new s;return r(t,(function(t){o(e,t)})),e}},9297:function(t,e,n){"use strict";var i=n(9504),r=n(8981),s=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(r(t),e)}},9298:function(t,e,n){"use strict";n.d(e,{A:function(){return $}});var i=n(7444),r=n(9449),s=n(5689),o=(n(8111),n(1701),n(4871)),a=n(3851),l=n(1097),u=n(1814),h=n(5674),c=n(1607),f=n(8994);const d=[0,0,0],g=5;class p{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,l.v)((0,a.WC)(this.resolutions_,((t,e)=>e-t),!0),"`resolutions` must be sorted in descending order"),!t.origins)for(let i=0,r=this.resolutions_.length-1;i<r;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,l.v)(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=t.extent;void 0===n||this.origin_||this.origins_||(this.origin_=(0,i.Py)(n)),(0,l.v)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,l.v)(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:f.R,(0,l.v)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(((t,e)=>{const i=new o.A(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(n){const t=this.getTileRangeForExtentAndZ(n,e);i.minX=Math.max(t.minX,i.minX),i.maxX=Math.min(t.maxX,i.maxX),i.minY=Math.max(t.minY,i.minY),i.maxY=Math.min(t.maxY,i.maxY)}return i})):n&&this.calculateTileRanges_(n)}forEachTileCoord(t,e,n){const i=this.getTileRangeForExtentAndZ(t,e);for(let r=i.minX,s=i.maxX;r<=s;++r)for(let t=i.minY,o=i.maxY;t<=o;++t)n([e,r,t])}forEachTileCoordParentTileRange(t,e,n,i){let r,s,a,l=null,u=t[0]-1;2===this.zoomFactor_?(s=t[1],a=t[2]):l=this.getTileCoordExtent(t,i);while(u>=this.minZoom){if(void 0!==s&&void 0!==a?(s=Math.floor(s/2),a=Math.floor(a/2),r=(0,o.N)(s,s,a,a,n)):r=this.getTileRangeForExtentAndZ(l,u,n),e(u,r))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*t[1],i=2*t[2];return(0,o.N)(n,n+1,i,i+1,e)}const i=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;const i=t[0],r=t[1],s=t[2];if(e===i)return(0,o.N)(r,s,r,s,n);if(this.zoomFactor_){const t=Math.pow(this.zoomFactor_,e-i),a=Math.floor(r*t),l=Math.floor(s*t);if(e<i)return(0,o.N)(a,a,l,l,n);const u=Math.floor(t*(r+1))-1,h=Math.floor(t*(s+1))-1;return(0,o.N)(a,u,l,h,n)}const a=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e,n)}getTileRangeForExtentAndZ(t,e,n){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,d);const i=d[1],r=d[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,d);const s=d[1],a=d[2];return(0,o.N)(i,s,r,a,n)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=(0,s.xq)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]}getTileCoordExtent(t,e){const n=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=(0,s.xq)(this.getTileSize(t[0]),this.tmpSize_),a=n[0]+t[1]*o[0]*r,l=n[1]-(t[2]+1)*o[1]*r,u=a+o[0]*r,h=l+o[1]*r;return(0,i.N)(a,l,u,h,e)}getTileCoordForCoordAndResolution(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}getTileCoordForXYAndResolution_(t,e,n,i,r){const o=this.getZForResolution(n),a=n/this.getResolution(o),l=this.getOrigin(o),u=(0,s.xq)(this.getTileSize(o),this.tmpSize_);let f=a*(t-l[0])/n/u[0],d=a*(l[1]-e)/n/u[1];return i?(f=(0,h.mk)(f,g)-1,d=(0,h.mk)(d,g)-1):(f=(0,h.RI)(f,g),d=(0,h.RI)(d,g)),(0,c.N)(o,f,d,r)}getTileCoordForXYAndZ_(t,e,n,i,r){const o=this.getOrigin(n),a=this.getResolution(n),l=(0,s.xq)(this.getTileSize(n),this.tmpSize_);let u=(t-o[0])/a/l[0],f=(o[1]-e)/a/l[1];return i?(u=(0,h.mk)(u,g)-1,f=(0,h.mk)(f,g)-1):(u=(0,h.RI)(u,g),f=(0,h.RI)(f,g)),(0,c.N)(n,u,f,r)}getTileCoordForCoordAndZ(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){const n=(0,a.FT)(this.resolutions_,t,e||0);return(0,h.qE)(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return(0,u.sj)(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,n=new Array(e);for(let i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n}}var _=p;function v(t){let e=t.getDefaultTileGrid();return e||(e=w(t),t.setDefaultTileGrid(e)),e}function y(t,e,n){const r=e[0],s=t.getTileCoordCenter(e),o=S(n);if(!(0,i.Ym)(o,s)){const e=(0,i.RG)(o),n=Math.ceil((o[0]-s[0])/e);return s[0]+=e*n,t.getTileCoordForCoordAndZ(s,r)}return e}function m(t,e,n,r){r=void 0!==r?r:"top-left";const s=E(t,e,n);return new _({extent:t,origin:(0,i.qF)(t,r),resolutions:s,tileSize:n})}function x(t){const e=t||{},n=e.extent||(0,r.Jt)("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:E(n,e.maxZoom,e.tileSize,e.maxResolution)};return new _(i)}function E(t,e,n,r){e=void 0!==e?e:f.L,n=(0,s.xq)(void 0!==n?n:f.R);const o=(0,i.Oq)(t),a=(0,i.RG)(t);r=r>0?r:Math.max(a/n[0],o/n[1]);const l=e+1,u=new Array(l);for(let i=0;i<l;++i)u[i]=r/Math.pow(2,i);return u}function w(t,e,n,i){const r=S(t);return m(r,e,n,i)}function S(t){t=(0,r.Jt)(t);let e=t.getExtent();if(!e){const n=180*r.Ig.degrees/t.getMetersPerUnit();e=(0,i.N)(-n,-n,n,n)}return e}var C=n(5783),I=n(9611),k=n(7582),T=n(8548),b=n(5752);n(4114),n(7588);const R=/\{z\}/g,A=/\{x\}/g,N=/\{y\}/g,O=/\{-y\}/g;function L(t,e,n,i,r){return t.replace(R,e.toString()).replace(A,n.toString()).replace(N,i.toString()).replace(O,(function(){if(void 0===r)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()}))}function M(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let s;for(s=i;s<=r;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}function P(t,e){return function(n,i,r){if(!n)return;let s;const o=n[0];if(e){const t=e.getFullTileRange(o);t&&(s=t.getHeight()-1)}return L(t,o,n[1],n[2],s)}}function D(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=P(t[r],e);return F(i)}function F(t){return 1===t.length?t[0]:function(e,n,i){if(!e)return;const r=(0,c.tW)(e),s=(0,h.xP)(r,t.length);return t[s](e,n,i)}}var G=n(9078),z=n(3437);class Y extends z.A{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;const e=[256,256];this.tileGrid&&(0,s.xq)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tmpSize=[0,0],this.key_=t.key||(0,b.v6)(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,n,i,r){return(0,b.b0)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:v(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,n){const i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=(0,s.xq)(i.getTileSize(t),this.tmpSize);return 1==r?o:(0,s.hs)(o,r,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){const n=void 0!==e?e:this.getProjection(),i=void 0!==e?this.getTileGridForProjection(n):this.tileGrid||this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=y(i,t,n)),(0,c.N5)(t,i)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class q extends G.Ay{constructor(t,e){super(t),this.tile=e}}var B=Y,j={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class X extends B{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===X.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,n=(0,b.v6)(e),i=e.getState();let r;i==I.A.LOADING?(this.tileLoadingKeys_[n]=!0,r=j.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],r=i==I.A.ERROR?j.TILELOADERROR:i==I.A.LOADED?j.TILELOADEND:void 0),void 0!=r&&this.dispatchEvent(new q(r,e))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,"undefined"!==typeof e?this.setKey(e):this.changed()}setUrl(t){const e=M(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(D(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,n){}}var U=X;class V extends U{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:W,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:C.A,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!(0,r.tI)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||(0,r.tI)(e,t)))return this.tileGrid;const n=(0,b.v6)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=v(t)),this.tileGridForProjection[n]}createTile_(t,e,n,i,r,s){const o=[t,e,n],a=this.getTileCoordForTileUrlFunction(o,r),l=a?this.tileUrlFunction(a,i,r):void 0,u=new this.tileClass(o,void 0!==l?I.A.IDLE:I.A.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=s,u.addEventListener(k.A.CHANGE,this.handleTileChange.bind(this)),u}getTile(t,e,n,i,s){const o=this.getProjection();if(!o||!s||(0,r.tI)(o,s))return this.getTileInternal(t,e,n,i,o||s);const a=[t,e,n],l=this.getKey(),u=this.getTileGridForProjection(o),h=this.getTileGridForProjection(s),c=this.getTileCoordForTileUrlFunction(a,s),f=new T.A(o,u,s,h,a,c,this.getTilePixelRatio(i),this.getGutter(),((t,e,n,i)=>this.getTileInternal(t,e,n,i,o)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return f.key=l,f}getTileInternal(t,e,n,i,r){const s=this.getKey();return this.createTile_(t,e,n,i,r,s)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,e){const n=(0,r.Jt)(t);if(n){const t=(0,b.v6)(n);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}}function W(t,e){t.getImage().src=e}var K=V;class H extends K{constructor(t){t=t||{};const e=void 0!==t.projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:x({extent:S(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0}getGutter(){return this.gutter_}}var $=H},9306:function(t,e,n){"use strict";var i=n(4901),r=n(6823),s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(r(t)+" is not a function")}},9309:function(t,e,n){"use strict";var i=n(6518),r=n(4576),s=n(9225).set,o=n(9472),a=r.setImmediate?o(s,!1):s;i({global:!0,bind:!0,enumerable:!0,forced:r.setImmediate!==a},{setImmediate:a})},9331:function(t,e,n){"use strict";n.d(e,{B4:function(){return a},W8:function(){return s},hq:function(){return l},rT:function(){return r},tV:function(){return o}});var i=n(3851);function r(){return!0}function s(){return!1}function o(){}function a(t){let e,n,r;return function(){const s=Array.prototype.slice.call(arguments);return n&&this===r&&(0,i.aI)(s,n)||(r=this,n=s,e=t.apply(this,arguments)),e}}function l(t){function e(){let e;try{e=t()}catch(n){return Promise.reject(n)}return e instanceof Promise?e:Promise.resolve(e)}return e()}},9357:function(t,e,n){"use strict";n(4114);var i=n(8646),r=n(9331),s=n(6811),o=n(9078);class a extends i.A{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);i.includes(e)||i.push(e)}dispatchEvent(t){const e="string"===typeof t,n=e?t:t.type,i=this.listeners_&&this.listeners_[n];if(!i)return;const s=e?new o.Ay(t):t;s.target||(s.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});let u;n in a||(a[n]=0,l[n]=0),++a[n];for(let r=0,o=i.length;r<o;++r)if(u="handleEvent"in i[r]?i[r].handleEvent(s):i[r].call(this,s),!1===u||s.propagationStopped){u=!1;break}if(0===--a[n]){let t=l[n];delete l[n];while(t--)this.removeEventListener(n,r.tV);delete a[n]}return u}disposeInternal(){this.listeners_&&(0,s.I)(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;const n=this.listeners_[t];if(!n)return;const i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=r.tV,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}}e.A=a},9433:function(t,e,n){"use strict";var i=n(4576),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},9449:function(t,e,n){"use strict";n.d(e,{Ig:function(){return o},Av:function(){return xt},HU:function(){return Et},RJ:function(){return ft},tI:function(){return St},Rb:function(){return wt},Ad:function(){return Ot},SD:function(){return Mt},Jt:function(){return _t},hO:function(){return vt},RG:function(){return kt},FO:function(){return Ct},Tf:function(){return At},te:function(){return Nt},JR:function(){return Lt},vN:function(){return Pt},pd:function(){return Tt}});n(8111),n(7588);var i=n(2155),r=n(8474),s=n(7444);const o={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class a{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||o[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}var l=a;const u=6378137,h=Math.PI*u,c=[-h,-h,h,h],f=[-180,-85,180,85],d=u*Math.log(Math.tan(Math.PI/2));class g extends l{constructor(t){super({code:t,units:"m",extent:c,global:!0,worldExtent:f,getPointResolution:function(t,e){return t/Math.cosh(e[1]/u)}})}}const p=[new g("EPSG:3857"),new g("EPSG:102100"),new g("EPSG:102113"),new g("EPSG:900913"),new g("http://www.opengis.net/def/crs/EPSG/0/3857"),new g("http://www.opengis.net/gml/srs/epsg.xml#3857")];function _(t,e,n,i){const r=t.length;n=n>1?n:2,i=i??n,void 0===e&&(e=n>2?t.slice():new Array(r));for(let s=0;s<r;s+=i){e[s]=h*t[s]/180;let n=u*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));n>d?n=d:n<-d&&(n=-d),e[s+1]=n}return e}function v(t,e,n,i){const r=t.length;n=n>1?n:2,i=i??n,void 0===e&&(e=n>2?t.slice():new Array(r));for(let s=0;s<r;s+=i)e[s]=180*t[s]/h,e[s+1]=360*Math.atan(Math.exp(t[s+1]/u))/Math.PI-90;return e}const y=6378137,m=[-180,-90,180,90],x=Math.PI*y/180;class E extends l{constructor(t,e){super({code:t,units:"degrees",extent:m,axisOrientation:e,global:!0,metersPerUnit:x,worldExtent:m})}}const w=[new E("CRS:84"),new E("EPSG:4326","neu"),new E("urn:ogc:def:crs:OGC:1.3:CRS84"),new E("urn:ogc:def:crs:OGC:2:84"),new E("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new E("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new E("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let S={};function C(t){return S[t]||S[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function I(t,e){S[t]=e}let k={};function T(t,e,n){const i=t.getCode(),r=e.getCode();i in k||(k[i]={}),k[i][r]=n}function b(t,e){return t in k&&e in k[t]?k[t][e]:null}var R=n(5674);const A=.9996,N=.00669438,O=N*N,L=O*N,M=N/(1-N),P=Math.sqrt(1-N),D=(1-P)/(1+P),F=D*D,G=F*D,z=G*D,Y=z*D,q=1-N/4-3*O/64-5*L/256,B=3*N/8+3*O/32+45*L/1024,j=15*O/256+45*L/1024,X=35*L/3072,U=1.5*D-27/32*G+269/512*Y,V=21/16*F-55/32*z,W=151/96*G-417/128*Y,K=1097/512*z,H=6378137;function $(t,e,n){const i=t-5e5,r=n.north?e:e-1e7,s=r/A,o=s/(H*q),a=o+U*Math.sin(2*o)+V*Math.sin(4*o)+W*Math.sin(6*o)+K*Math.sin(8*o),l=Math.sin(a),u=l*l,h=Math.cos(a),c=l/h,f=c*c,d=f*f,g=1-N*u,p=Math.sqrt(1-N*u),_=H/p,v=(1-N)/g,y=M*h**2,m=y*y,x=i/(_*A),E=x*x,w=E*x,S=w*x,C=S*x,I=C*x,k=a-c/v*(E/2-S/24*(5+3*f+10*y-4*m-9*M))+I/720*(61+90*f+298*y+45*d-252*M-3*m);let T=(x-w/6*(1+2*f+y)+C/120*(5-2*y+28*f-3*m+8*M+24*d))/h;return T=(0,R.LV)(T+(0,R.eh)(nt(n.number)),-Math.PI,Math.PI),[(0,R.xW)(T),(0,R.xW)(k)]}const Z=-80,J=84,Q=-180,tt=180;function et(t,e,n){t=(0,R.LV)(t,Q,tt),e<Z?e=Z:e>J&&(e=J);const i=(0,R.eh)(e),r=Math.sin(i),s=Math.cos(i),o=r/s,a=o*o,l=a*a,u=(0,R.eh)(t),h=nt(n.number),c=(0,R.eh)(h),f=H/Math.sqrt(1-N*r**2),d=M*s**2,g=s*(0,R.LV)(u-c,-Math.PI,Math.PI),p=g*g,_=p*g,v=_*g,y=v*g,m=y*g,x=H*(q*i-B*Math.sin(2*i)+j*Math.sin(4*i)-X*Math.sin(6*i)),E=A*f*(g+_/6*(1-a+d)+y/120*(5-18*a+l+72*d-58*M))+5e5;let w=A*(x+f*o*(p/2+v/24*(5-a+9*d+4*d**2)+m/720*(61-58*a+l+600*d-330*M)));return n.north||(w+=1e7),[E,w]}function nt(t){return 6*(t-1)-180+3}const it=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function rt(t){let e=0;for(const r of it){const n=t.match(r);if(n){e=parseInt(n[1]);break}}if(!e)return null;let n=0,i=!1;return e>32700&&e<32761?n=e-32700:e>32600&&e<32661&&(i=!0,n=e-32600),n?{number:n,north:i}:null}function st(t,e){return function(n,i,r,s){const o=n.length;r=r>1?r:2,s=s??r,i||(i=r>2?n.slice():new Array(o));for(let a=0;a<o;a+=s){const r=n[a],s=n[a+1],o=t(r,s,e);i[a]=o[0],i[a+1]=o[1]}return i}}function ot(t){const e=rt(t);return e?new l({code:t,units:"m"}):null}function at(t){const e=rt(t.getCode());return e?{forward:st(et,e),inverse:st($,e)}:null}var lt=n(3277);const ut=[at],ht=[ot];let ct=!0;function ft(t){const e=void 0===t||t;ct=!e}function dt(t,e){if(void 0!==e)for(let n=0,i=t.length;n<i;++n)e[n]=t[n];else e=t.slice();return e}function gt(t){I(t.getCode(),t),T(t,t,dt)}function pt(t){t.forEach(gt)}function _t(t){if("string"!==typeof t)return t;const e=C(t);if(e)return e;for(const n of ht){const e=n(t);if(e)return e}return null}function vt(t,e,n,i){let r;t=_t(t);const s=t.getPointResolutionFunc();if(s){if(r=s(e,n),i&&i!==t.getUnits()){const e=t.getMetersPerUnit();e&&(r=r*e/o[i])}}else{const s=t.getUnits();if("degrees"==s&&!i||"degrees"==i)r=e;else{const a=Ct(t,_t("EPSG:4326"));if(a||"degrees"===s){let t=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];t=a(t,t,2);const i=(0,lt.Yf)(t.slice(0,2),t.slice(2,4)),s=(0,lt.Yf)(t.slice(4,6),t.slice(6,8));r=(i+s)/2}else r=e*t.getMetersPerUnit();const l=i?o[i]:t.getMetersPerUnit();void 0!==l&&(r/=l)}}return r}function yt(t){pt(t),t.forEach((function(e){t.forEach((function(t){e!==t&&T(e,t,dt)}))}))}function mt(t,e,n,i){t.forEach((function(t){e.forEach((function(e){T(t,e,n),T(e,t,i)}))}))}function xt(t,e){return t?"string"===typeof t?_t(t):t:_t(e)}function Et(t){return function(e,n,i,r){const s=e.length;i=void 0!==i?i:2,r=r??i,n=void 0!==n?n:new Array(s);for(let o=0;o<s;o+=r){const s=t(e.slice(o,o+i)),a=s.length;for(let t=0,i=r;t<i;++t)n[o+t]=t>=a?e[o+t]:s[t]}return n}}function wt(t,e){return ft(),Tt(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function St(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return n;const i=Ct(t,e);return i===dt&&n}function Ct(t,e){const n=t.getCode(),i=e.getCode();let r=b(n,i);if(r)return r;let s=null,o=null;for(const l of ut)s||(s=l(t)),o||(o=l(e));if(!s&&!o)return null;const a="EPSG:4326";if(o)if(s)r=It(s.inverse,o.forward);else{const t=b(n,a);t&&(r=It(t,o.forward))}else{const t=b(a,i);t&&(r=It(s.inverse,t))}return r&&(gt(t),gt(e),T(t,e,r)),r}function It(t,e){return function(n,i,r,s){return i=t(n,i,r,s),e(i,i,r,s)}}function kt(t,e){const n=_t(t),i=_t(e);return Ct(n,i)}function Tt(t,e,n){const i=kt(e,n);if(!i){const t=_t(e).getCode(),i=_t(n).getCode();throw new Error(`No transform available between ${t} and ${i}`)}return i(t,void 0,t.length)}function bt(t,e,n,i){const r=kt(e,n);return(0,s.NW)(t,r,void 0,i)}let Rt=null;function At(){return Rt}function Nt(t,e){return Rt?Tt(t,e,Rt):t}function Ot(t,e){return Rt?Tt(t,Rt,e):(ct&&!(0,r.aI)(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(ct=!1,(0,i.R8)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function Lt(t,e){return Rt?bt(t,e,Rt):t}function Mt(t,e){return Rt?bt(t,Rt,e):t}function Pt(t,e){if(!Rt)return t;const n=_t(e).getMetersPerUnit(),i=Rt.getMetersPerUnit();return n&&i?t*n/i:t}function Dt(){yt(p),yt(w),mt(w,p,_,v)}Dt()},9462:function(t,e,n){"use strict";var i=n(9565),r=n(2360),s=n(6699),o=n(6279),a=n(8227),l=n(1181),u=n(5966),h=n(7657).IteratorPrototype,c=n(2529),f=n(9539),d=a("toStringTag"),g="IteratorHelper",p="WrapForValidIterator",_=l.set,v=function(t){var e=l.getterFor(t?p:g);return o(r(h),{next:function(){var n=e(this);if(t)return n.nextHandler();if(n.done)return c(void 0,!0);try{var i=n.nextHandler();return n.returnHandlerResult?i:c(i,n.done)}catch(r){throw n.done=!0,r}},return:function(){var n=e(this),r=n.iterator;if(n.done=!0,t){var s=u(r,"return");return s?i(s,r):c(void 0,!0)}if(n.inner)try{f(n.inner.iterator,"normal")}catch(o){return f(r,"throw",o)}return r&&f(r,"normal"),c(void 0,!0)}})},y=v(!0),m=v(!1);s(m,d,"Iterator Helper"),t.exports=function(t,e,n){var i=function(i,r){r?(r.iterator=i.iterator,r.next=i.next):r=i,r.type=e?p:g,r.returnHandlerResult=!!n,r.nextHandler=t,r.counter=0,r.done=!1,_(this,r)};return i.prototype=e?y:m,i}},9472:function(t,e,n){"use strict";var i=n(4576),r=n(8745),s=n(4901),o=n(4215),a=n(2839),l=n(7680),u=n(2812),h=i.Function,c=/MSIE .\./.test(a)||"BUN"===o&&function(){var t=i.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}();t.exports=function(t,e){var n=e?2:1;return c?function(i,o){var a=u(arguments.length,1)>n,c=s(i)?i:h(i),f=a?l(arguments,n):[],d=a?function(){r(c,this,f)}:c;return e?t(d,o):t(d)}:t}},9504:function(t,e,n){"use strict";var i=n(616),r=Function.prototype,s=r.call,o=i&&r.bind.bind(s,s);t.exports=i?o:function(t){return function(){return s.apply(t,arguments)}}},9519:function(t,e,n){"use strict";var i,r,s=n(4576),o=n(2839),a=s.process,l=s.Deno,u=a&&a.versions||l&&l.version,h=u&&u.v8;h&&(i=h.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),t.exports=r},9539:function(t,e,n){"use strict";var i=n(9565),r=n(8551),s=n(5966);t.exports=function(t,e,n){var o,a;r(t);try{if(o=s(t,"return"),!o){if("throw"===e)throw n;return n}o=i(o,t)}catch(l){a=!0,o=l}if("throw"===e)throw n;if(a)throw o;return r(o),n}},9544:function(t,e,n){"use strict";var i=n(2839);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},9565:function(t,e,n){"use strict";var i=n(616),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},9611:function(t,e){"use strict";e.A={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},9617:function(t,e,n){"use strict";var i=n(5397),r=n(5610),s=n(6198),o=function(t){return function(e,n,o){var a=i(e),l=s(a);if(0===l)return!t&&-1;var u,h=r(o,l);if(t&&n!==n){while(l>h)if(u=a[h++],u!==u)return!0}else for(;l>h;h++)if((t||h in a)&&a[h]===n)return t||h||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},9848:function(t,e,n){"use strict";n(6368),n(9309)},9855:function(t,e,n){"use strict";var i=n(1611),r=n(1097),s=n(5674),o=n(5752),a=n(4543);class l extends i.A{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"===typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[a.A.OPACITY]=void 0!==t.opacity?t.opacity:1,(0,r.v)("number"===typeof e[a.A.OPACITY],"Layer opacity must be a number"),e[a.A.VISIBLE]=void 0===t.visible||t.visible,e[a.A.Z_INDEX]=t.zIndex,e[a.A.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[a.A.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[a.A.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[a.A.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,s.qE)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return(0,o.b0)()}getLayerStatesArray(t){return(0,o.b0)()}getExtent(){return this.get(a.A.EXTENT)}getMaxResolution(){return this.get(a.A.MAX_RESOLUTION)}getMinResolution(){return this.get(a.A.MIN_RESOLUTION)}getMinZoom(){return this.get(a.A.MIN_ZOOM)}getMaxZoom(){return this.get(a.A.MAX_ZOOM)}getOpacity(){return this.get(a.A.OPACITY)}getSourceState(){return(0,o.b0)()}getVisible(){return this.get(a.A.VISIBLE)}getZIndex(){return this.get(a.A.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(a.A.EXTENT,t)}setMaxResolution(t){this.set(a.A.MAX_RESOLUTION,t)}setMinResolution(t){this.set(a.A.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(a.A.MAX_ZOOM,t)}setMinZoom(t){this.set(a.A.MIN_ZOOM,t)}setOpacity(t){(0,r.v)("number"===typeof t,"Layer opacity must be a number"),this.set(a.A.OPACITY,t)}setVisible(t){this.set(a.A.VISIBLE,t)}setZIndex(t){this.set(a.A.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}e.A=l}}]);
//# sourceMappingURL=chunk-vendors.267bff86.js.map